function i1(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function r1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hl={},o1={get exports(){return Hl},set exports(e){Hl=e}},Lc={},D={},s1={get exports(){return D},set exports(e){D=e}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),a1=Symbol.for("react.portal"),l1=Symbol.for("react.fragment"),c1=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),f1=Symbol.for("react.context"),d1=Symbol.for("react.forward_ref"),p1=Symbol.for("react.suspense"),m1=Symbol.for("react.memo"),g1=Symbol.for("react.lazy"),ep=Symbol.iterator;function v1(e){return e===null||typeof e!="object"?null:(e=ep&&e[ep]||e["@@iterator"],typeof e=="function"?e:null)}var Kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e0=Object.assign,t0={};function jo(e,t,n){this.props=e,this.context=t,this.refs=t0,this.updater=n||Kg}jo.prototype.isReactComponent={};jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function n0(){}n0.prototype=jo.prototype;function Hf(e,t,n){this.props=e,this.context=t,this.refs=t0,this.updater=n||Kg}var Vf=Hf.prototype=new n0;Vf.constructor=Hf;e0(Vf,jo.prototype);Vf.isPureReactComponent=!0;var tp=Array.isArray,i0=Object.prototype.hasOwnProperty,Gf={current:null},r0={key:!0,ref:!0,__self:!0,__source:!0};function o0(e,t,n){var i,r={},o=null,s=null;if(t!=null)for(i in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)i0.call(t,i)&&!r0.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:xa,type:e,key:o,ref:s,props:r,_owner:Gf.current}}function y1(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wf(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function x1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var np=/\/+/g;function tu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x1(""+e.key):t.toString(36)}function Tl(e,t,n,i,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xa:case a1:s=!0}}if(s)return s=e,r=r(s),e=i===""?"."+tu(s,0):i,tp(r)?(n="",e!=null&&(n=e.replace(np,"$&/")+"/"),Tl(r,t,n,"",function(c){return c})):r!=null&&(Wf(r)&&(r=y1(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(np,"$&/")+"/")+e)),t.push(r)),1;if(s=0,i=i===""?".":i+":",tp(e))for(var a=0;a<e.length;a++){o=e[a];var l=i+tu(o,a);s+=Tl(o,t,n,l,r)}else if(l=v1(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=i+tu(o,a++),s+=Tl(o,t,n,l,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Pa(e,t,n){if(e==null)return e;var i=[],r=0;return Tl(e,i,"","",function(o){return t.call(n,o,r++)}),i}function _1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Cl={transition:null},w1={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:Gf};De.Children={map:Pa,forEach:function(e,t,n){Pa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pa(e,function(){t++}),t},toArray:function(e){return Pa(e,function(t){return t})||[]},only:function(e){if(!Wf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=jo;De.Fragment=l1;De.Profiler=u1;De.PureComponent=Hf;De.StrictMode=c1;De.Suspense=p1;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w1;De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=e0({},e.props),r=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Gf.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)i0.call(t,l)&&!r0.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:xa,type:e.type,key:r,ref:o,props:i,_owner:s}};De.createContext=function(e){return e={$$typeof:f1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h1,_context:e},e.Consumer=e};De.createElement=o0;De.createFactory=function(e){var t=o0.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:d1,render:e}};De.isValidElement=Wf;De.lazy=function(e){return{$$typeof:g1,_payload:{_status:-1,_result:e},_init:_1}};De.memo=function(e,t){return{$$typeof:m1,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(e,t){return Bt.current.useCallback(e,t)};De.useContext=function(e){return Bt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};De.useEffect=function(e,t){return Bt.current.useEffect(e,t)};De.useId=function(){return Bt.current.useId()};De.useImperativeHandle=function(e,t,n){return Bt.current.useImperativeHandle(e,t,n)};De.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Bt.current.useMemo(e,t)};De.useReducer=function(e,t,n){return Bt.current.useReducer(e,t,n)};De.useRef=function(e){return Bt.current.useRef(e)};De.useState=function(e){return Bt.current.useState(e)};De.useSyncExternalStore=function(e,t,n){return Bt.current.useSyncExternalStore(e,t,n)};De.useTransition=function(){return Bt.current.useTransition()};De.version="18.2.0";(function(e){e.exports=De})(s1);const M1=r1(D),oh=i1({__proto__:null,default:M1},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=D,b1=Symbol.for("react.element"),E1=Symbol.for("react.fragment"),T1=Object.prototype.hasOwnProperty,C1=S1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L1={key:!0,ref:!0,__self:!0,__source:!0};function s0(e,t,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(i in t)T1.call(t,i)&&!L1.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:b1,type:e,key:o,ref:s,props:r,_owner:C1.current}}Lc.Fragment=E1;Lc.jsx=s0;Lc.jsxs=s0;(function(e){e.exports=Lc})(o1);const te=Hl.jsx,Ie=Hl.jsxs;var sh={},A1={get exports(){return sh},set exports(e){sh=e}},ln={},ah={},P1={get exports(){return ah},set exports(e){ah=e}},a0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,V){var j=O.length;O.push(V);e:for(;0<j;){var J=j-1>>>1,ce=O[J];if(0<r(ce,V))O[J]=V,O[j]=ce,j=J;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var V=O[0],j=O.pop();if(j!==V){O[0]=j;e:for(var J=0,ce=O.length,we=ce>>>1;J<we;){var ze=2*(J+1)-1,W=O[ze],Ke=ze+1,pe=O[Ke];if(0>r(W,j))Ke<ce&&0>r(pe,W)?(O[J]=pe,O[Ke]=j,J=Ke):(O[J]=W,O[ze]=j,J=ze);else if(Ke<ce&&0>r(pe,j))O[J]=pe,O[Ke]=j,J=Ke;else break e}}return V}function r(O,V){var j=O.sortIndex-V.sortIndex;return j!==0?j:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],h=1,u=null,f=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var V=n(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=O)i(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function w(O){if(v=!1,x(O),!g)if(n(l)!==null)g=!0,B(M);else{var V=n(c);V!==null&&q(w,V.startTime-O)}}function M(O,V){g=!1,v&&(v=!1,m(P),P=-1),p=!0;var j=f;try{for(x(V),u=n(l);u!==null&&(!(u.expirationTime>V)||O&&!R());){var J=u.callback;if(typeof J=="function"){u.callback=null,f=u.priorityLevel;var ce=J(u.expirationTime<=V);V=e.unstable_now(),typeof ce=="function"?u.callback=ce:u===n(l)&&i(l),x(V)}else i(l);u=n(l)}if(u!==null)var we=!0;else{var ze=n(c);ze!==null&&q(w,ze.startTime-V),we=!1}return we}finally{u=null,f=j,p=!1}}var _=!1,E=null,P=-1,I=5,U=-1;function R(){return!(e.unstable_now()-U<I)}function z(){if(E!==null){var O=e.unstable_now();U=O;var V=!0;try{V=E(!0,O)}finally{V?k():(_=!1,E=null)}}else _=!1}var k;if(typeof d=="function")k=function(){d(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,A=N.port2;N.port1.onmessage=z,k=function(){A.postMessage(null)}}else k=function(){y(z,0)};function B(O){E=O,_||(_=!0,k())}function q(O,V){P=y(function(){O(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,B(M))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var j=f;f=V;try{return O()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var j=f;f=O;try{return V()}finally{f=j}},e.unstable_scheduleCallback=function(O,V,j){var J=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?J+j:J):j=J,O){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=j+ce,O={id:h++,callback:V,priorityLevel:O,startTime:j,expirationTime:ce,sortIndex:-1},j>J?(O.sortIndex=j,t(c,O),n(l)===null&&O===n(c)&&(v?(m(P),P=-1):v=!0,q(w,j-J))):(O.sortIndex=ce,t(l,O),g||p||(g=!0,B(M))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var V=f;return function(){var j=f;f=V;try{return O.apply(this,arguments)}finally{f=j}}}})(a0);(function(e){e.exports=a0})(P1);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0=D,rn=ah;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c0=new Set,Hs={};function Nr(e,t){Co(e,t),Co(e+"Capture",t)}function Co(e,t){for(Hs[e]=t,e=0;e<t.length;e++)c0.add(t[e])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lh=Object.prototype.hasOwnProperty,R1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ip={},rp={};function N1(e){return lh.call(rp,e)?!0:lh.call(ip,e)?!1:R1.test(e)?rp[e]=!0:(ip[e]=!0,!1)}function I1(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D1(e,t,n,i){if(t===null||typeof t>"u"||I1(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,n,i,r,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jf=/[\-:]([a-z])/g;function Xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jf,Xf);Et[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jf,Xf);Et[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jf,Xf);Et[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qf(e,t,n,i){var r=Et.hasOwnProperty(t)?Et[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D1(t,n,r,i)&&(n=null),i||r===null?N1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var yi=l0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ra=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),u0=Symbol.for("react.provider"),h0=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),uh=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),f0=Symbol.for("react.offscreen"),op=Symbol.iterator;function ts(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,nu;function ys(e){if(nu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nu=t&&t[1]||""}return`
`+nu+e}var iu=!1;function ru(e,t){if(!e||iu)return"";iu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{iu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ys(e):""}function O1(e){switch(e.tag){case 5:return ys(e.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 2:case 15:return e=ru(e.type,!1),e;case 11:return e=ru(e.type.render,!1),e;case 1:return e=ru(e.type,!0),e;default:return""}}function fh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case to:return"Fragment";case eo:return"Portal";case ch:return"Profiler";case Yf:return"StrictMode";case uh:return"Suspense";case hh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case h0:return(e.displayName||"Context")+".Consumer";case u0:return(e._context.displayName||"Context")+".Provider";case Zf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $f:return t=e.displayName||null,t!==null?t:fh(e.type)||"Memo";case Ai:t=e._payload,e=e._init;try{return fh(e(t))}catch{}}return null}function F1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fh(t);case 8:return t===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k1(e){var t=d0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Na(e){e._valueTracker||(e._valueTracker=k1(e))}function p0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=d0(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dh(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sp(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Zi(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m0(e,t){t=t.checked,t!=null&&qf(e,"checked",t,!1)}function ph(e,t){m0(e,t);var n=Zi(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mh(e,t.type,n):t.hasOwnProperty("defaultValue")&&mh(e,t.type,Zi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ap(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mh(e,t,n){(t!=="number"||Vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xs=Array.isArray;function xo(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Zi(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function gh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(xs(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zi(n)}}function g0(e,t){var n=Zi(t.value),i=Zi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function cp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function v0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?v0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ia,y0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B1=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){B1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function x0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function _0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=x0(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var z1=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yh(e,t){if(t){if(z1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function xh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=null;function Jf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wh=null,_o=null,wo=null;function up(e){if(e=Ma(e)){if(typeof wh!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Ic(t),wh(e.stateNode,e.type,t))}}function w0(e){_o?wo?wo.push(e):wo=[e]:_o=e}function M0(){if(_o){var e=_o,t=wo;if(wo=_o=null,up(e),t)for(e=0;e<t.length;e++)up(t[e])}}function S0(e,t){return e(t)}function b0(){}var ou=!1;function E0(e,t,n){if(ou)return e(t,n);ou=!0;try{return S0(e,t,n)}finally{ou=!1,(_o!==null||wo!==null)&&(b0(),M0())}}function Gs(e,t){var n=e.stateNode;if(n===null)return null;var i=Ic(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Mh=!1;if(li)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Mh=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Mh=!1}function U1(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Es=!1,Gl=null,Wl=!1,Sh=null,H1={onError:function(e){Es=!0,Gl=e}};function V1(e,t,n,i,r,o,s,a,l){Es=!1,Gl=null,U1.apply(H1,arguments)}function G1(e,t,n,i,r,o,s,a,l){if(V1.apply(this,arguments),Es){if(Es){var c=Gl;Es=!1,Gl=null}else throw Error(Z(198));Wl||(Wl=!0,Sh=c)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function T0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hp(e){if(Ir(e)!==e)throw Error(Z(188))}function W1(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return hp(r),e;if(o===i)return hp(r),t;o=o.sibling}throw Error(Z(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==i)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function C0(e){return e=W1(e),e!==null?L0(e):null}function L0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L0(e);if(t!==null)return t;e=e.sibling}return null}var A0=rn.unstable_scheduleCallback,fp=rn.unstable_cancelCallback,j1=rn.unstable_shouldYield,X1=rn.unstable_requestPaint,ct=rn.unstable_now,q1=rn.unstable_getCurrentPriorityLevel,Qf=rn.unstable_ImmediatePriority,P0=rn.unstable_UserBlockingPriority,jl=rn.unstable_NormalPriority,Y1=rn.unstable_LowPriority,R0=rn.unstable_IdlePriority,Ac=null,Vn=null;function Z1(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Ac,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Q1,$1=Math.log,J1=Math.LN2;function Q1(e){return e>>>=0,e===0?32:31-($1(e)/J1|0)|0}var Da=64,Oa=4194304;function _s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?i=_s(a):(o&=s,o!==0&&(i=_s(o)))}else s=n&~r,s!==0?i=_s(s):o!==0&&(i=_s(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Pn(t),r=1<<n,i|=e[n],t&=~r;return i}function K1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ex(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Pn(o),a=1<<s,l=r[s];l===-1?(!(a&n)||a&i)&&(r[s]=K1(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function bh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function N0(){var e=Da;return Da<<=1,!(Da&4194240)&&(Da=64),e}function su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _a(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=n}function tx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Pn(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}function Kf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Pn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Ve=0;function I0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var D0,ed,O0,F0,k0,Eh=!1,Fa=[],Bi=null,zi=null,Ui=null,Ws=new Map,js=new Map,Ri=[],nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dp(e,t){switch(e){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function is(e,t,n,i,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Ma(t),t!==null&&ed(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function ix(e,t,n,i,r){switch(t){case"focusin":return Bi=is(Bi,e,t,n,i,r),!0;case"dragenter":return zi=is(zi,e,t,n,i,r),!0;case"mouseover":return Ui=is(Ui,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ws.set(o,is(Ws.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,js.set(o,is(js.get(o)||null,e,t,n,i,r)),!0}return!1}function B0(e){var t=fr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=T0(n),t!==null){e.blockedOn=t,k0(e.priority,function(){O0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Th(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);_h=i,n.target.dispatchEvent(i),_h=null}else return t=Ma(n),t!==null&&ed(t),e.blockedOn=n,!1;t.shift()}return!0}function pp(e,t,n){Ll(e)&&n.delete(t)}function rx(){Eh=!1,Bi!==null&&Ll(Bi)&&(Bi=null),zi!==null&&Ll(zi)&&(zi=null),Ui!==null&&Ll(Ui)&&(Ui=null),Ws.forEach(pp),js.forEach(pp)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,rx)))}function Xs(e){function t(r){return rs(r,e)}if(0<Fa.length){rs(Fa[0],e);for(var n=1;n<Fa.length;n++){var i=Fa[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Bi!==null&&rs(Bi,e),zi!==null&&rs(zi,e),Ui!==null&&rs(Ui,e),Ws.forEach(t),js.forEach(t),n=0;n<Ri.length;n++)i=Ri[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)B0(n),n.blockedOn===null&&Ri.shift()}var Mo=yi.ReactCurrentBatchConfig,ql=!0;function ox(e,t,n,i){var r=Ve,o=Mo.transition;Mo.transition=null;try{Ve=1,td(e,t,n,i)}finally{Ve=r,Mo.transition=o}}function sx(e,t,n,i){var r=Ve,o=Mo.transition;Mo.transition=null;try{Ve=4,td(e,t,n,i)}finally{Ve=r,Mo.transition=o}}function td(e,t,n,i){if(ql){var r=Th(e,t,n,i);if(r===null)gu(e,t,i,Yl,n),dp(e,i);else if(ix(r,e,t,n,i))i.stopPropagation();else if(dp(e,i),t&4&&-1<nx.indexOf(e)){for(;r!==null;){var o=Ma(r);if(o!==null&&D0(o),o=Th(e,t,n,i),o===null&&gu(e,t,i,Yl,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else gu(e,t,i,null,n)}}var Yl=null;function Th(e,t,n,i){if(Yl=null,e=Jf(i),e=fr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=T0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yl=e,null}function z0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q1()){case Qf:return 1;case P0:return 4;case jl:case Y1:return 16;case R0:return 536870912;default:return 16}default:return 16}}var Di=null,nd=null,Al=null;function U0(){if(Al)return Al;var e,t=nd,n=t.length,i,r="value"in Di?Di.value:Di.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[o-i];i++);return Al=r.slice(e,1<i?1-i:void 0)}function Pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function mp(){return!1}function cn(e){function t(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ka:mp,this.isPropagationStopped=mp,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),t}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=cn(Xo),wa=st({},Xo,{view:0,detail:0}),ax=cn(wa),au,lu,os,Pc=st({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&e.type==="mousemove"?(au=e.screenX-os.screenX,lu=e.screenY-os.screenY):lu=au=0,os=e),au)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),gp=cn(Pc),lx=st({},Pc,{dataTransfer:0}),cx=cn(lx),ux=st({},wa,{relatedTarget:0}),cu=cn(ux),hx=st({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),fx=cn(hx),dx=st({},Xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),px=cn(dx),mx=st({},Xo,{data:0}),vp=cn(mx),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yx[e])?!!t[e]:!1}function rd(){return xx}var _x=st({},wa,{key:function(e){if(e.key){var t=gx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wx=cn(_x),Mx=st({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=cn(Mx),Sx=st({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),bx=cn(Sx),Ex=st({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tx=cn(Ex),Cx=st({},Pc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=cn(Cx),Ax=[9,13,27,32],od=li&&"CompositionEvent"in window,Ts=null;li&&"documentMode"in document&&(Ts=document.documentMode);var Px=li&&"TextEvent"in window&&!Ts,H0=li&&(!od||Ts&&8<Ts&&11>=Ts),xp=String.fromCharCode(32),_p=!1;function V0(e,t){switch(e){case"keyup":return Ax.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function Rx(e,t){switch(e){case"compositionend":return G0(t);case"keypress":return t.which!==32?null:(_p=!0,xp);case"textInput":return e=t.data,e===xp&&_p?null:e;default:return null}}function Nx(e,t){if(no)return e==="compositionend"||!od&&V0(e,t)?(e=U0(),Al=nd=Di=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return H0&&t.locale!=="ko"?null:t.data;default:return null}}var Ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ix[e.type]:t==="textarea"}function W0(e,t,n,i){w0(i),t=Zl(t,"onChange"),0<t.length&&(n=new id("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Cs=null,qs=null;function Dx(e){tv(e,0)}function Rc(e){var t=oo(e);if(p0(t))return e}function Ox(e,t){if(e==="change")return t}var j0=!1;if(li){var uu;if(li){var hu="oninput"in document;if(!hu){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),hu=typeof Mp.oninput=="function"}uu=hu}else uu=!1;j0=uu&&(!document.documentMode||9<document.documentMode)}function Sp(){Cs&&(Cs.detachEvent("onpropertychange",X0),qs=Cs=null)}function X0(e){if(e.propertyName==="value"&&Rc(qs)){var t=[];W0(t,qs,e,Jf(e)),E0(Dx,t)}}function Fx(e,t,n){e==="focusin"?(Sp(),Cs=t,qs=n,Cs.attachEvent("onpropertychange",X0)):e==="focusout"&&Sp()}function kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(qs)}function Bx(e,t){if(e==="click")return Rc(t)}function zx(e,t){if(e==="input"||e==="change")return Rc(t)}function Ux(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:Ux;function Ys(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!lh.call(t,r)||!Dn(e[r],t[r]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,t){var n=bp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bp(n)}}function q0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Y0(){for(var e=window,t=Vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hx(e){var t=Y0(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&q0(n.ownerDocument.documentElement,n)){if(i!==null&&sd(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=Ep(n,o);var s=Ep(n,i);r&&s&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vx=li&&"documentMode"in document&&11>=document.documentMode,io=null,Ch=null,Ls=null,Lh=!1;function Tp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lh||io==null||io!==Vl(i)||(i=io,"selectionStart"in i&&sd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ls&&Ys(Ls,i)||(Ls=i,i=Zl(Ch,"onSelect"),0<i.length&&(t=new id("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=io)))}function Ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ro={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},fu={},Z0={};li&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Nc(e){if(fu[e])return fu[e];if(!ro[e])return e;var t=ro[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Z0)return fu[e]=t[n];return e}var $0=Nc("animationend"),J0=Nc("animationiteration"),Q0=Nc("animationstart"),K0=Nc("transitionend"),ev=new Map,Cp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,t){ev.set(e,t),Nr(t,[e])}for(var du=0;du<Cp.length;du++){var pu=Cp[du],Gx=pu.toLowerCase(),Wx=pu[0].toUpperCase()+pu.slice(1);er(Gx,"on"+Wx)}er($0,"onAnimationEnd");er(J0,"onAnimationIteration");er(Q0,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(K0,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function Lp(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,G1(i,t,void 0,e),e.currentTarget=null}function tv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Lp(r,a,c),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Lp(r,a,c),o=l}}}if(Wl)throw e=Sh,Wl=!1,Sh=null,e}function $e(e,t){var n=t[Ih];n===void 0&&(n=t[Ih]=new Set);var i=e+"__bubble";n.has(i)||(nv(t,e,2,!1),n.add(i))}function mu(e,t,n){var i=0;t&&(i|=4),nv(n,e,i,t)}var za="_reactListening"+Math.random().toString(36).slice(2);function Zs(e){if(!e[za]){e[za]=!0,c0.forEach(function(n){n!=="selectionchange"&&(jx.has(n)||mu(n,!1,e),mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[za]||(t[za]=!0,mu("selectionchange",!1,t))}}function nv(e,t,n,i){switch(z0(t)){case 1:var r=ox;break;case 4:r=sx;break;default:r=td}n=r.bind(null,t,n,e),r=void 0,!Mh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function gu(e,t,n,i,r){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=fr(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}E0(function(){var c=o,h=Jf(n),u=[];e:{var f=ev.get(e);if(f!==void 0){var p=id,g=e;switch(e){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":p=wx;break;case"focusin":g="focus",p=cu;break;case"focusout":g="blur",p=cu;break;case"beforeblur":case"afterblur":p=cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bx;break;case $0:case J0:case Q0:p=fx;break;case K0:p=Tx;break;case"scroll":p=ax;break;case"wheel":p=Lx;break;case"copy":case"cut":case"paste":p=px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yp}var v=(t&4)!==0,y=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var d=c,x;d!==null;){x=d;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=Gs(d,m),w!=null&&v.push($s(d,w,x)))),y)break;d=d.return}0<v.length&&(f=new p(f,g,null,n,h),u.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==_h&&(g=n.relatedTarget||n.fromElement)&&(fr(g)||g[ci]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?fr(g):null,g!==null&&(y=Ir(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=gp,w="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=yp,w="onPointerLeave",m="onPointerEnter",d="pointer"),y=p==null?f:oo(p),x=g==null?f:oo(g),f=new v(w,d+"leave",p,n,h),f.target=y,f.relatedTarget=x,w=null,fr(h)===c&&(v=new v(m,d+"enter",g,n,h),v.target=x,v.relatedTarget=y,w=v),y=w,p&&g)t:{for(v=p,m=g,d=0,x=v;x;x=Fr(x))d++;for(x=0,w=m;w;w=Fr(w))x++;for(;0<d-x;)v=Fr(v),d--;for(;0<x-d;)m=Fr(m),x--;for(;d--;){if(v===m||m!==null&&v===m.alternate)break t;v=Fr(v),m=Fr(m)}v=null}else v=null;p!==null&&Ap(u,f,p,v,!1),g!==null&&y!==null&&Ap(u,y,g,v,!0)}}e:{if(f=c?oo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var M=Ox;else if(wp(f))if(j0)M=zx;else{M=kx;var _=Fx}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=Bx);if(M&&(M=M(e,c))){W0(u,M,n,h);break e}_&&_(e,f,c),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&mh(f,"number",f.value)}switch(_=c?oo(c):window,e){case"focusin":(wp(_)||_.contentEditable==="true")&&(io=_,Ch=c,Ls=null);break;case"focusout":Ls=Ch=io=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Tp(u,n,h);break;case"selectionchange":if(Vx)break;case"keydown":case"keyup":Tp(u,n,h)}var E;if(od)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else no?V0(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(H0&&n.locale!=="ko"&&(no||P!=="onCompositionStart"?P==="onCompositionEnd"&&no&&(E=U0()):(Di=h,nd="value"in Di?Di.value:Di.textContent,no=!0)),_=Zl(c,P),0<_.length&&(P=new vp(P,e,null,n,h),u.push({event:P,listeners:_}),E?P.data=E:(E=G0(n),E!==null&&(P.data=E)))),(E=Px?Rx(e,n):Nx(e,n))&&(c=Zl(c,"onBeforeInput"),0<c.length&&(h=new vp("onBeforeInput","beforeinput",null,n,h),u.push({event:h,listeners:c}),h.data=E))}tv(u,t)})}function $s(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zl(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Gs(e,n),o!=null&&i.unshift($s(e,o,r)),o=Gs(e,t),o!=null&&i.push($s(e,o,r))),e=e.return}return i}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ap(e,t,n,i,r){for(var o=t._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Gs(n,o),l!=null&&s.unshift($s(n,l,a))):r||(l=Gs(n,o),l!=null&&s.push($s(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Xx=/\r\n?/g,qx=/\u0000|\uFFFD/g;function Pp(e){return(typeof e=="string"?e:""+e).replace(Xx,`
`).replace(qx,"")}function Ua(e,t,n){if(t=Pp(t),Pp(e)!==t&&n)throw Error(Z(425))}function $l(){}var Ah=null,Ph=null;function Rh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nh=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,Zx=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(e){return Rp.resolve(null).then(e).catch($x)}:Nh;function $x(e){setTimeout(function(){throw e})}function vu(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),Xs(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Xs(t)}function Hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Np(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qo=Math.random().toString(36).slice(2),Un="__reactFiber$"+qo,Js="__reactProps$"+qo,ci="__reactContainer$"+qo,Ih="__reactEvents$"+qo,Jx="__reactListeners$"+qo,Qx="__reactHandles$"+qo;function fr(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Np(e);e!==null;){if(n=e[Un])return n;e=Np(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){return e=e[Un]||e[ci],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Ic(e){return e[Js]||null}var Dh=[],so=-1;function tr(e){return{current:e}}function Je(e){0>so||(e.current=Dh[so],Dh[so]=null,so--)}function Ye(e,t){so++,Dh[so]=e.current,e.current=t}var $i={},Nt=tr($i),jt=tr(!1),xr=$i;function Lo(e,t){var n=e.type.contextTypes;if(!n)return $i;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Xt(e){return e=e.childContextTypes,e!=null}function Jl(){Je(jt),Je(Nt)}function Ip(e,t,n){if(Nt.current!==$i)throw Error(Z(168));Ye(Nt,t),Ye(jt,n)}function iv(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(Z(108,F1(e)||"Unknown",r));return st({},n,i)}function Ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$i,xr=Nt.current,Ye(Nt,e),Ye(jt,jt.current),!0}function Dp(e,t,n){var i=e.stateNode;if(!i)throw Error(Z(169));n?(e=iv(e,t,xr),i.__reactInternalMemoizedMergedChildContext=e,Je(jt),Je(Nt),Ye(Nt,e)):Je(jt),Ye(jt,n)}var ii=null,Dc=!1,yu=!1;function rv(e){ii===null?ii=[e]:ii.push(e)}function Kx(e){Dc=!0,rv(e)}function nr(){if(!yu&&ii!==null){yu=!0;var e=0,t=Ve;try{var n=ii;for(Ve=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ii=null,Dc=!1}catch(r){throw ii!==null&&(ii=ii.slice(e+1)),A0(Qf,nr),r}finally{Ve=t,yu=!1}}return null}var ao=[],lo=0,Kl=null,ec=0,un=[],hn=0,_r=null,oi=1,si="";function ur(e,t){ao[lo++]=ec,ao[lo++]=Kl,Kl=e,ec=t}function ov(e,t,n){un[hn++]=oi,un[hn++]=si,un[hn++]=_r,_r=e;var i=oi;e=si;var r=32-Pn(i)-1;i&=~(1<<r),n+=1;var o=32-Pn(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,oi=1<<32-Pn(t)+r|n<<r|i,si=o+e}else oi=1<<o|n<<r|i,si=e}function ad(e){e.return!==null&&(ur(e,1),ov(e,1,0))}function ld(e){for(;e===Kl;)Kl=ao[--lo],ao[lo]=null,ec=ao[--lo],ao[lo]=null;for(;e===_r;)_r=un[--hn],un[hn]=null,si=un[--hn],un[hn]=null,oi=un[--hn],un[hn]=null}var nn=null,en=null,tt=!1,Ln=null;function sv(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Op(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,en=Hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_r!==null?{id:oi,overflow:si}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nn=e,en=null,!0):!1;default:return!1}}function Oh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fh(e){if(tt){var t=en;if(t){var n=t;if(!Op(e,t)){if(Oh(e))throw Error(Z(418));t=Hi(n.nextSibling);var i=nn;t&&Op(e,t)?sv(i,n):(e.flags=e.flags&-4097|2,tt=!1,nn=e)}}else{if(Oh(e))throw Error(Z(418));e.flags=e.flags&-4097|2,tt=!1,nn=e}}}function Fp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function Ha(e){if(e!==nn)return!1;if(!tt)return Fp(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rh(e.type,e.memoizedProps)),t&&(t=en)){if(Oh(e))throw av(),Error(Z(418));for(;t;)sv(e,t),t=Hi(t.nextSibling)}if(Fp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){en=Hi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}en=null}}else en=nn?Hi(e.stateNode.nextSibling):null;return!0}function av(){for(var e=en;e;)e=Hi(e.nextSibling)}function Ao(){en=nn=null,tt=!1}function cd(e){Ln===null?Ln=[e]:Ln.push(e)}var e_=yi.ReactCurrentBatchConfig;function Tn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var tc=tr(null),nc=null,co=null,ud=null;function hd(){ud=co=nc=null}function fd(e){var t=tc.current;Je(tc),e._currentValue=t}function kh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function So(e,t){nc=e,ud=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(ud!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(nc===null)throw Error(Z(308));co=e,nc.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var dr=null;function dd(e){dr===null?dr=[e]:dr.push(e)}function lv(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,dd(t)):(n.next=r.next,r.next=n),t.interleaved=n,ui(e,i)}function ui(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pi=!1;function pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Be&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,ui(e,n)}return r=i.interleaved,r===null?(t.next=t,dd(i)):(t.next=r.next,r.next=t),i.interleaved=t,ui(e,n)}function Rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Kf(e,n)}}function kp(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ic(e,t,n,i){var r=e.updateQueue;Pi=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(o!==null){var u=r.baseState;s=0,h=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(f=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){u=g.call(p,u,f);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,u,f):g,f==null)break e;u=st({},u,f);break e;case 2:Pi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=u):h=h.next=p,s|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(h===null&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);Mr|=s,e.lanes=s,e.memoizedState=u}}function Bp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Z(191,r));r.call(i)}}}var uv=new l0.Component().refs;function Bh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oc={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ft(),r=Wi(e),o=ai(i,r);o.payload=t,n!=null&&(o.callback=n),t=Vi(e,o,r),t!==null&&(Rn(t,e,r,i),Rl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ft(),r=Wi(e),o=ai(i,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vi(e,o,r),t!==null&&(Rn(t,e,r,i),Rl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),i=Wi(e),r=ai(n,i);r.tag=2,t!=null&&(r.callback=t),t=Vi(e,r,i),t!==null&&(Rn(t,e,i,n),Rl(t,e,i))}};function zp(e,t,n,i,r,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,i)||!Ys(r,o):!0}function hv(e,t,n){var i=!1,r=$i,o=t.contextType;return typeof o=="object"&&o!==null?o=gn(o):(r=Xt(t)?xr:Nt.current,i=t.contextTypes,o=(i=i!=null)?Lo(e,r):$i),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Up(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Oc.enqueueReplaceState(t,t.state,null)}function zh(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=uv,pd(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=gn(o):(o=Xt(t)?xr:Nt.current,r.context=Lo(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Bh(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Oc.enqueueReplaceState(r,r.state,null),ic(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var i=n.stateNode}if(!i)throw Error(Z(147,e));var r=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=r.refs;a===uv&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hp(e){var t=e._init;return t(e._payload)}function fv(e){function t(m,d){if(e){var x=m.deletions;x===null?(m.deletions=[d],m.flags|=16):x.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function i(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function r(m,d){return m=ji(m,d),m.index=0,m.sibling=null,m}function o(m,d,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<d?(m.flags|=2,d):x):(m.flags|=2,d)):(m.flags|=1048576,d)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,d,x,w){return d===null||d.tag!==6?(d=Eu(x,m.mode,w),d.return=m,d):(d=r(d,x),d.return=m,d)}function l(m,d,x,w){var M=x.type;return M===to?h(m,d,x.props.children,w,x.key):d!==null&&(d.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ai&&Hp(M)===d.type)?(w=r(d,x.props),w.ref=ss(m,d,x),w.return=m,w):(w=kl(x.type,x.key,x.props,null,m.mode,w),w.ref=ss(m,d,x),w.return=m,w)}function c(m,d,x,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Tu(x,m.mode,w),d.return=m,d):(d=r(d,x.children||[]),d.return=m,d)}function h(m,d,x,w,M){return d===null||d.tag!==7?(d=vr(x,m.mode,w,M),d.return=m,d):(d=r(d,x),d.return=m,d)}function u(m,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Eu(""+d,m.mode,x),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ra:return x=kl(d.type,d.key,d.props,null,m.mode,x),x.ref=ss(m,null,d),x.return=m,x;case eo:return d=Tu(d,m.mode,x),d.return=m,d;case Ai:var w=d._init;return u(m,w(d._payload),x)}if(xs(d)||ts(d))return d=vr(d,m.mode,x,null),d.return=m,d;Va(m,d)}return null}function f(m,d,x,w){var M=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:a(m,d,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ra:return x.key===M?l(m,d,x,w):null;case eo:return x.key===M?c(m,d,x,w):null;case Ai:return M=x._init,f(m,d,M(x._payload),w)}if(xs(x)||ts(x))return M!==null?null:h(m,d,x,w,null);Va(m,x)}return null}function p(m,d,x,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,a(d,m,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ra:return m=m.get(w.key===null?x:w.key)||null,l(d,m,w,M);case eo:return m=m.get(w.key===null?x:w.key)||null,c(d,m,w,M);case Ai:var _=w._init;return p(m,d,x,_(w._payload),M)}if(xs(w)||ts(w))return m=m.get(x)||null,h(d,m,w,M,null);Va(d,w)}return null}function g(m,d,x,w){for(var M=null,_=null,E=d,P=d=0,I=null;E!==null&&P<x.length;P++){E.index>P?(I=E,E=null):I=E.sibling;var U=f(m,E,x[P],w);if(U===null){E===null&&(E=I);break}e&&E&&U.alternate===null&&t(m,E),d=o(U,d,P),_===null?M=U:_.sibling=U,_=U,E=I}if(P===x.length)return n(m,E),tt&&ur(m,P),M;if(E===null){for(;P<x.length;P++)E=u(m,x[P],w),E!==null&&(d=o(E,d,P),_===null?M=E:_.sibling=E,_=E);return tt&&ur(m,P),M}for(E=i(m,E);P<x.length;P++)I=p(E,m,P,x[P],w),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?P:I.key),d=o(I,d,P),_===null?M=I:_.sibling=I,_=I);return e&&E.forEach(function(R){return t(m,R)}),tt&&ur(m,P),M}function v(m,d,x,w){var M=ts(x);if(typeof M!="function")throw Error(Z(150));if(x=M.call(x),x==null)throw Error(Z(151));for(var _=M=null,E=d,P=d=0,I=null,U=x.next();E!==null&&!U.done;P++,U=x.next()){E.index>P?(I=E,E=null):I=E.sibling;var R=f(m,E,U.value,w);if(R===null){E===null&&(E=I);break}e&&E&&R.alternate===null&&t(m,E),d=o(R,d,P),_===null?M=R:_.sibling=R,_=R,E=I}if(U.done)return n(m,E),tt&&ur(m,P),M;if(E===null){for(;!U.done;P++,U=x.next())U=u(m,U.value,w),U!==null&&(d=o(U,d,P),_===null?M=U:_.sibling=U,_=U);return tt&&ur(m,P),M}for(E=i(m,E);!U.done;P++,U=x.next())U=p(E,m,P,U.value,w),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?P:U.key),d=o(U,d,P),_===null?M=U:_.sibling=U,_=U);return e&&E.forEach(function(z){return t(m,z)}),tt&&ur(m,P),M}function y(m,d,x,w){if(typeof x=="object"&&x!==null&&x.type===to&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ra:e:{for(var M=x.key,_=d;_!==null;){if(_.key===M){if(M=x.type,M===to){if(_.tag===7){n(m,_.sibling),d=r(_,x.props.children),d.return=m,m=d;break e}}else if(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ai&&Hp(M)===_.type){n(m,_.sibling),d=r(_,x.props),d.ref=ss(m,_,x),d.return=m,m=d;break e}n(m,_);break}else t(m,_);_=_.sibling}x.type===to?(d=vr(x.props.children,m.mode,w,x.key),d.return=m,m=d):(w=kl(x.type,x.key,x.props,null,m.mode,w),w.ref=ss(m,d,x),w.return=m,m=w)}return s(m);case eo:e:{for(_=x.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){n(m,d.sibling),d=r(d,x.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Tu(x,m.mode,w),d.return=m,m=d}return s(m);case Ai:return _=x._init,y(m,d,_(x._payload),w)}if(xs(x))return g(m,d,x,w);if(ts(x))return v(m,d,x,w);Va(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(n(m,d.sibling),d=r(d,x),d.return=m,m=d):(n(m,d),d=Eu(x,m.mode,w),d.return=m,m=d),s(m)):n(m,d)}return y}var Po=fv(!0),dv=fv(!1),Sa={},Gn=tr(Sa),Qs=tr(Sa),Ks=tr(Sa);function pr(e){if(e===Sa)throw Error(Z(174));return e}function md(e,t){switch(Ye(Ks,t),Ye(Qs,e),Ye(Gn,Sa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vh(t,e)}Je(Gn),Ye(Gn,t)}function Ro(){Je(Gn),Je(Qs),Je(Ks)}function pv(e){pr(Ks.current);var t=pr(Gn.current),n=vh(t,e.type);t!==n&&(Ye(Qs,e),Ye(Gn,n))}function gd(e){Qs.current===e&&(Je(Gn),Je(Qs))}var it=tr(0);function rc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xu=[];function vd(){for(var e=0;e<xu.length;e++)xu[e]._workInProgressVersionPrimary=null;xu.length=0}var Nl=yi.ReactCurrentDispatcher,_u=yi.ReactCurrentBatchConfig,wr=0,ot=null,ft=null,vt=null,oc=!1,As=!1,ea=0,t_=0;function Tt(){throw Error(Z(321))}function yd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function xd(e,t,n,i,r,o){if(wr=o,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?o_:s_,e=n(i,r),As){o=0;do{if(As=!1,ea=0,25<=o)throw Error(Z(301));o+=1,vt=ft=null,t.updateQueue=null,Nl.current=a_,e=n(i,r)}while(As)}if(Nl.current=sc,t=ft!==null&&ft.next!==null,wr=0,vt=ft=ot=null,oc=!1,t)throw Error(Z(300));return e}function _d(){var e=ea!==0;return ea=0,e}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?ot.memoizedState=vt=e:vt=vt.next=e,vt}function vn(){if(ft===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=vt===null?ot.memoizedState:vt.next;if(t!==null)vt=t,ft=e;else{if(e===null)throw Error(Z(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?ot.memoizedState=vt=e:vt=vt.next=e}return vt}function ta(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=vn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var i=ft,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,c=o;do{var h=c.lane;if((wr&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var u={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=i):l=l.next=u,ot.lanes|=h,Mr|=h}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,Dn(i,t.memoizedState)||(Gt=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do o=r.lane,ot.lanes|=o,Mr|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mu(e){var t=vn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=e(o,s.action),s=s.next;while(s!==r);Dn(o,t.memoizedState)||(Gt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function mv(){}function gv(e,t){var n=ot,i=vn(),r=t(),o=!Dn(i.memoizedState,r);if(o&&(i.memoizedState=r,Gt=!0),i=i.queue,wd(xv.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,na(9,yv.bind(null,n,i,r,t),void 0,null),xt===null)throw Error(Z(349));wr&30||vv(n,t,r)}return r}function vv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yv(e,t,n,i){t.value=n,t.getSnapshot=i,_v(t)&&wv(e)}function xv(e,t,n){return n(function(){_v(t)&&wv(e)})}function _v(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function wv(e){var t=ui(e,1);t!==null&&Rn(t,e,1,-1)}function Vp(e){var t=Bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e},t.queue=e,e=e.dispatch=r_.bind(null,ot,e),[t.memoizedState,e]}function na(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Mv(){return vn().memoizedState}function Il(e,t,n,i){var r=Bn();ot.flags|=e,r.memoizedState=na(1|t,n,void 0,i===void 0?null:i)}function Fc(e,t,n,i){var r=vn();i=i===void 0?null:i;var o=void 0;if(ft!==null){var s=ft.memoizedState;if(o=s.destroy,i!==null&&yd(i,s.deps)){r.memoizedState=na(t,n,o,i);return}}ot.flags|=e,r.memoizedState=na(1|t,n,o,i)}function Gp(e,t){return Il(8390656,8,e,t)}function wd(e,t){return Fc(2048,8,e,t)}function Sv(e,t){return Fc(4,2,e,t)}function bv(e,t){return Fc(4,4,e,t)}function Ev(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tv(e,t,n){return n=n!=null?n.concat([e]):null,Fc(4,4,Ev.bind(null,t,e),n)}function Md(){}function Cv(e,t){var n=vn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&yd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Lv(e,t){var n=vn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&yd(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Av(e,t,n){return wr&21?(Dn(n,t)||(n=N0(),ot.lanes|=n,Mr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function n_(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var i=_u.transition;_u.transition={};try{e(!1),t()}finally{Ve=n,_u.transition=i}}function Pv(){return vn().memoizedState}function i_(e,t,n){var i=Wi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Rv(e))Nv(t,n);else if(n=lv(e,t,n,i),n!==null){var r=Ft();Rn(n,e,i,r),Iv(n,t,i)}}function r_(e,t,n){var i=Wi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rv(e))Nv(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,Dn(a,s)){var l=t.interleaved;l===null?(r.next=r,dd(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=lv(e,t,r,i),n!==null&&(r=Ft(),Rn(n,e,i,r),Iv(n,t,i))}}function Rv(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Nv(e,t){As=oc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Iv(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Kf(e,n)}}var sc={readContext:gn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},o_={readContext:gn,useCallback:function(e,t){return Bn().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Gp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Il(4194308,4,Ev.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){return Il(4,2,e,t)},useMemo:function(e,t){var n=Bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Bn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=i_.bind(null,ot,e),[i.memoizedState,e]},useRef:function(e){var t=Bn();return e={current:e},t.memoizedState=e},useState:Vp,useDebugValue:Md,useDeferredValue:function(e){return Bn().memoizedState=e},useTransition:function(){var e=Vp(!1),t=e[0];return e=n_.bind(null,e[1]),Bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ot,r=Bn();if(tt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),xt===null)throw Error(Z(349));wr&30||vv(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Gp(xv.bind(null,i,o,e),[e]),i.flags|=2048,na(9,yv.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Bn(),t=xt.identifierPrefix;if(tt){var n=si,i=oi;n=(i&~(1<<32-Pn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=t_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s_={readContext:gn,useCallback:Cv,useContext:gn,useEffect:wd,useImperativeHandle:Tv,useInsertionEffect:Sv,useLayoutEffect:bv,useMemo:Lv,useReducer:wu,useRef:Mv,useState:function(){return wu(ta)},useDebugValue:Md,useDeferredValue:function(e){var t=vn();return Av(t,ft.memoizedState,e)},useTransition:function(){var e=wu(ta)[0],t=vn().memoizedState;return[e,t]},useMutableSource:mv,useSyncExternalStore:gv,useId:Pv,unstable_isNewReconciler:!1},a_={readContext:gn,useCallback:Cv,useContext:gn,useEffect:wd,useImperativeHandle:Tv,useInsertionEffect:Sv,useLayoutEffect:bv,useMemo:Lv,useReducer:Mu,useRef:Mv,useState:function(){return Mu(ta)},useDebugValue:Md,useDeferredValue:function(e){var t=vn();return ft===null?t.memoizedState=e:Av(t,ft.memoizedState,e)},useTransition:function(){var e=Mu(ta)[0],t=vn().memoizedState;return[e,t]},useMutableSource:mv,useSyncExternalStore:gv,useId:Pv,unstable_isNewReconciler:!1};function No(e,t){try{var n="",i=t;do n+=O1(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function Su(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var l_=typeof WeakMap=="function"?WeakMap:Map;function Dv(e,t,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){lc||(lc=!0,$h=i),Uh(e,t)},n}function Ov(e,t,n){n=ai(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Uh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Uh(e,t),typeof i!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Wp(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new l_;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=M_.bind(null,e,t,n),t.then(e,e))}function jp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xp(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ai(-1,1),t.tag=2,Vi(n,t,1))),n.lanes|=1),e)}var c_=yi.ReactCurrentOwner,Gt=!1;function Dt(e,t,n,i){t.child=e===null?dv(t,null,n,i):Po(t,e.child,n,i)}function qp(e,t,n,i,r){n=n.render;var o=t.ref;return So(t,r),i=xd(e,t,n,i,o,r),n=_d(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,hi(e,t,r)):(tt&&n&&ad(t),t.flags|=1,Dt(e,t,i,r),t.child)}function Yp(e,t,n,i,r){if(e===null){var o=n.type;return typeof o=="function"&&!Pd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Fv(e,t,o,i,r)):(e=kl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(s,i)&&e.ref===t.ref)return hi(e,t,r)}return t.flags|=1,e=ji(o,i),e.ref=t.ref,e.return=t,t.child=e}function Fv(e,t,n,i,r){if(e!==null){var o=e.memoizedProps;if(Ys(o,i)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=i=o,(e.lanes&r)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,hi(e,t,r)}return Hh(e,t,n,i,r)}function kv(e,t,n){var i=t.pendingProps,r=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ho,Qt),Qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(ho,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Ye(ho,Qt),Qt|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,Ye(ho,Qt),Qt|=i;return Dt(e,t,r,n),t.child}function Bv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hh(e,t,n,i,r){var o=Xt(n)?xr:Nt.current;return o=Lo(t,o),So(t,r),n=xd(e,t,n,i,o,r),i=_d(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,hi(e,t,r)):(tt&&i&&ad(t),t.flags|=1,Dt(e,t,n,r),t.child)}function Zp(e,t,n,i,r){if(Xt(n)){var o=!0;Ql(t)}else o=!1;if(So(t,r),t.stateNode===null)Dl(e,t),hv(t,n,i),zh(t,n,i,r),i=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=Xt(n)?xr:Nt.current,c=Lo(t,c));var h=n.getDerivedStateFromProps,u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Up(t,s,i,c),Pi=!1;var f=t.memoizedState;s.state=f,ic(t,i,s,r),l=t.memoizedState,a!==i||f!==l||jt.current||Pi?(typeof h=="function"&&(Bh(t,n,h,i),l=t.memoizedState),(a=Pi||zp(t,n,a,i,f,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,cv(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Tn(t.type,a),s.props=c,u=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Xt(n)?xr:Nt.current,l=Lo(t,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||f!==l)&&Up(t,s,i,l),Pi=!1,f=t.memoizedState,s.state=f,ic(t,i,s,r);var g=t.memoizedState;a!==u||f!==g||jt.current||Pi?(typeof p=="function"&&(Bh(t,n,p,i),g=t.memoizedState),(c=Pi||zp(t,n,c,i,f,g,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),s.props=i,s.state=g,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Vh(e,t,n,i,o,r)}function Vh(e,t,n,i,r,o){Bv(e,t);var s=(t.flags&128)!==0;if(!i&&!s)return r&&Dp(t,n,!1),hi(e,t,o);i=t.stateNode,c_.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&s?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,a,o)):Dt(e,t,a,o),t.memoizedState=i.state,r&&Dp(t,n,!0),t.child}function zv(e){var t=e.stateNode;t.pendingContext?Ip(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ip(e,t.context,!1),md(e,t.containerInfo)}function $p(e,t,n,i,r){return Ao(),cd(r),t.flags|=256,Dt(e,t,n,i),t.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Wh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uv(e,t,n){var i=t.pendingProps,r=it.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Ye(it,r&1),e===null)return Fh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zc(s,i,0,null),e=vr(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wh(n),t.memoizedState=Gh,e):Sd(t,s));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return u_(e,t,s,i,a,r,n);if(o){o=i.fallback,s=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=ji(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=ji(a,o):(o=vr(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=e.child.memoizedState,s=s===null?Wh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Gh,i}return o=e.child,e=o.sibling,i=ji(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Sd(e,t){return t=zc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ga(e,t,n,i){return i!==null&&cd(i),Po(t,e.child,null,n),e=Sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u_(e,t,n,i,r,o,s){if(n)return t.flags&256?(t.flags&=-257,i=Su(Error(Z(422))),Ga(e,t,s,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=zc({mode:"visible",children:i.children},r,0,null),o=vr(o,r,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Po(t,e.child,null,s),t.child.memoizedState=Wh(s),t.memoizedState=Gh,o);if(!(t.mode&1))return Ga(e,t,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(Z(419)),i=Su(o,i,void 0),Ga(e,t,s,i)}if(a=(s&e.childLanes)!==0,Gt||a){if(i=xt,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,ui(e,r),Rn(i,e,r,-1))}return Ad(),i=Su(Error(Z(421))),Ga(e,t,s,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=S_.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,en=Hi(r.nextSibling),nn=t,tt=!0,Ln=null,e!==null&&(un[hn++]=oi,un[hn++]=si,un[hn++]=_r,oi=e.id,si=e.overflow,_r=t),t=Sd(t,i.children),t.flags|=4096,t)}function Jp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),kh(e.return,t,n)}function bu(e,t,n,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Hv(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Dt(e,t,i.children,n),i=it.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,n,t);else if(e.tag===19)Jp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ye(it,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&rc(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),bu(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&rc(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}bu(t,!0,n,null,o);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=ji(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ji(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h_(e,t,n){switch(t.tag){case 3:zv(t),Ao();break;case 5:pv(t);break;case 1:Xt(t.type)&&Ql(t);break;case 4:md(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Ye(tc,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ye(it,it.current&1),t.flags|=128,null):n&t.child.childLanes?Uv(e,t,n):(Ye(it,it.current&1),e=hi(e,t,n),e!==null?e.sibling:null);Ye(it,it.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Hv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ye(it,it.current),i)break;return null;case 22:case 23:return t.lanes=0,kv(e,t,n)}return hi(e,t,n)}var Vv,jh,Gv,Wv;Vv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jh=function(){};Gv=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,pr(Gn.current);var o=null;switch(n){case"input":r=dh(e,r),i=dh(e,i),o=[];break;case"select":r=st({},r,{value:void 0}),i=st({},i,{value:void 0}),o=[];break;case"textarea":r=gh(e,r),i=gh(e,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=$l)}yh(n,i);var s;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$e("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Wv=function(e,t,n,i){n!==i&&(t.flags|=4)};function as(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function f_(e,t,n){var i=t.pendingProps;switch(ld(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Xt(t.type)&&Jl(),Ct(t),null;case 3:return i=t.stateNode,Ro(),Je(jt),Je(Nt),vd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ha(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(Kh(Ln),Ln=null))),jh(e,t),Ct(t),null;case 5:gd(t);var r=pr(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)Gv(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Z(166));return Ct(t),null}if(e=pr(Gn.current),Ha(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[Un]=t,i[Js]=o,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(r=0;r<ws.length;r++)$e(ws[r],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":sp(i,o),$e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},$e("invalid",i);break;case"textarea":lp(i,o),$e("invalid",i)}yh(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ua(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ua(i.textContent,a,e),r=["children",""+a]):Hs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&$e("scroll",i)}switch(n){case"input":Na(i),ap(i,o,!0);break;case"textarea":Na(i),cp(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=$l)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=s.createElement(n,{is:i.is}):(e=s.createElement(n),n==="select"&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,n),e[Un]=t,e[Js]=i,Vv(e,t,!1,!1),t.stateNode=e;e:{switch(s=xh(n,i),n){case"dialog":$e("cancel",e),$e("close",e),r=i;break;case"iframe":case"object":case"embed":$e("load",e),r=i;break;case"video":case"audio":for(r=0;r<ws.length;r++)$e(ws[r],e);r=i;break;case"source":$e("error",e),r=i;break;case"img":case"image":case"link":$e("error",e),$e("load",e),r=i;break;case"details":$e("toggle",e),r=i;break;case"input":sp(e,i),r=dh(e,i),$e("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=st({},i,{value:void 0}),$e("invalid",e);break;case"textarea":lp(e,i),r=gh(e,i),$e("invalid",e);break;default:r=i}yh(n,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_0(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y0(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vs(e,l):typeof l=="number"&&Vs(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&$e("scroll",e):l!=null&&qf(e,o,l,s))}switch(n){case"input":Na(e),ap(e,i,!1);break;case"textarea":Na(e),cp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Zi(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?xo(e,!!i.multiple,o,!1):i.defaultValue!=null&&xo(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=$l)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)Wv(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Z(166));if(n=pr(Ks.current),pr(Gn.current),Ha(t)){if(i=t.stateNode,n=t.memoizedProps,i[Un]=t,(o=i.nodeValue!==n)&&(e=nn,e!==null))switch(e.tag){case 3:Ua(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ua(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Un]=t,t.stateNode=i}return Ct(t),null;case 13:if(Je(it),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&en!==null&&t.mode&1&&!(t.flags&128))av(),Ao(),t.flags|=98560,o=!1;else if(o=Ha(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(Z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Un]=t}else Ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),o=!1}else Ln!==null&&(Kh(Ln),Ln=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?dt===0&&(dt=3):Ad())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Ro(),jh(e,t),e===null&&Zs(t.stateNode.containerInfo),Ct(t),null;case 10:return fd(t.type._context),Ct(t),null;case 17:return Xt(t.type)&&Jl(),Ct(t),null;case 19:if(Je(it),o=t.memoizedState,o===null)return Ct(t),null;if(i=(t.flags&128)!==0,s=o.rendering,s===null)if(i)as(o,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=rc(e),s!==null){for(t.flags|=128,as(o,!1),i=s.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ye(it,it.current&1|2),t.child}e=e.sibling}o.tail!==null&&ct()>Io&&(t.flags|=128,i=!0,as(o,!1),t.lanes=4194304)}else{if(!i)if(e=rc(s),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),as(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tt)return Ct(t),null}else 2*ct()-o.renderingStartTime>Io&&n!==1073741824&&(t.flags|=128,i=!0,as(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ct(),t.sibling=null,n=it.current,Ye(it,i?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return Ld(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Qt&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function d_(e,t){switch(ld(t),t.tag){case 1:return Xt(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ro(),Je(jt),Je(Nt),vd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gd(t),null;case 13:if(Je(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(it),null;case 4:return Ro(),null;case 10:return fd(t.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var Wa=!1,At=!1,p_=typeof WeakSet=="function"?WeakSet:Set,le=null;function uo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){at(e,t,i)}else n.current=null}function Xh(e,t,n){try{n()}catch(i){at(e,t,i)}}var Qp=!1;function m_(e,t){if(Ah=ql,e=Y0(),sd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,h=0,u=e,f=null;t:for(;;){for(var p;u!==n||r!==0&&u.nodeType!==3||(a=s+r),u!==o||i!==0&&u.nodeType!==3||(l=s+i),u.nodeType===3&&(s+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===e)break t;if(f===n&&++c===r&&(a=s),f===o&&++h===i&&(l=s),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ph={focusedElem:e,selectionRange:n},ql=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tn(t.type,v),y);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(w){at(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return g=Qp,Qp=!1,g}function Ps(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&Xh(t,n,o)}r=r.next}while(r!==i)}}function kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function qh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jv(e){var t=e.alternate;t!==null&&(e.alternate=null,jv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[Js],delete t[Ih],delete t[Jx],delete t[Qx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xv(e){return e.tag===5||e.tag===3||e.tag===4}function Kp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$l));else if(i!==4&&(e=e.child,e!==null))for(Yh(e,t,n),e=e.sibling;e!==null;)Yh(e,t,n),e=e.sibling}function Zh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Zh(e,t,n),e=e.sibling;e!==null;)Zh(e,t,n),e=e.sibling}var Mt=null,Cn=!1;function _i(e,t,n){for(n=n.child;n!==null;)qv(e,t,n),n=n.sibling}function qv(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 5:At||uo(n,t);case 6:var i=Mt,r=Cn;Mt=null,_i(e,t,n),Mt=i,Cn=r,Mt!==null&&(Cn?(e=Mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(Cn?(e=Mt,n=n.stateNode,e.nodeType===8?vu(e.parentNode,n):e.nodeType===1&&vu(e,n),Xs(e)):vu(Mt,n.stateNode));break;case 4:i=Mt,r=Cn,Mt=n.stateNode.containerInfo,Cn=!0,_i(e,t,n),Mt=i,Cn=r;break;case 0:case 11:case 14:case 15:if(!At&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Xh(n,t,s),r=r.next}while(r!==i)}_i(e,t,n);break;case 1:if(!At&&(uo(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){at(n,t,a)}_i(e,t,n);break;case 21:_i(e,t,n);break;case 22:n.mode&1?(At=(i=At)||n.memoizedState!==null,_i(e,t,n),At=i):_i(e,t,n);break;default:_i(e,t,n)}}function em(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new p_),t.forEach(function(i){var r=b_.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function wn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,Cn=!1;break e;case 3:Mt=a.stateNode.containerInfo,Cn=!0;break e;case 4:Mt=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(Mt===null)throw Error(Z(160));qv(o,s,r),Mt=null,Cn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){at(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yv(t,e),t=t.sibling}function Yv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),On(e),i&4){try{Ps(3,e,e.return),kc(3,e)}catch(v){at(e,e.return,v)}try{Ps(5,e,e.return)}catch(v){at(e,e.return,v)}}break;case 1:wn(t,e),On(e),i&512&&n!==null&&uo(n,n.return);break;case 5:if(wn(t,e),On(e),i&512&&n!==null&&uo(n,n.return),e.flags&32){var r=e.stateNode;try{Vs(r,"")}catch(v){at(e,e.return,v)}}if(i&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&m0(r,o),xh(a,s);var c=xh(a,o);for(s=0;s<l.length;s+=2){var h=l[s],u=l[s+1];h==="style"?_0(r,u):h==="dangerouslySetInnerHTML"?y0(r,u):h==="children"?Vs(r,u):qf(r,h,u,c)}switch(a){case"input":ph(r,o);break;case"textarea":g0(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?xo(r,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?xo(r,!!o.multiple,o.defaultValue,!0):xo(r,!!o.multiple,o.multiple?[]:"",!1))}r[Js]=o}catch(v){at(e,e.return,v)}}break;case 6:if(wn(t,e),On(e),i&4){if(e.stateNode===null)throw Error(Z(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(v){at(e,e.return,v)}}break;case 3:if(wn(t,e),On(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(v){at(e,e.return,v)}break;case 4:wn(t,e),On(e);break;case 13:wn(t,e),On(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Td=ct())),i&4&&em(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(At=(c=At)||h,wn(t,e),At=c):wn(t,e),On(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(le=e,h=e.child;h!==null;){for(u=le=h;le!==null;){switch(f=le,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ps(4,f,f.return);break;case 1:uo(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){at(i,n,v)}}break;case 5:uo(f,f.return);break;case 22:if(f.memoizedState!==null){nm(u);continue}}p!==null?(p.return=f,le=p):nm(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{r=u.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=x0("display",s))}catch(v){at(e,e.return,v)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(v){at(e,e.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:wn(t,e),On(e),i&4&&em(e);break;case 21:break;default:wn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xv(n)){var i=n;break e}n=n.return}throw Error(Z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Vs(r,""),i.flags&=-33);var o=Kp(e);Zh(e,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=Kp(e);Yh(e,a,s);break;default:throw Error(Z(161))}}catch(l){at(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g_(e,t,n){le=e,Zv(e)}function Zv(e,t,n){for(var i=(e.mode&1)!==0;le!==null;){var r=le,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||Wa;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||At;a=Wa;var c=At;if(Wa=s,(At=l)&&!c)for(le=r;le!==null;)s=le,l=s.child,s.tag===22&&s.memoizedState!==null?im(r):l!==null?(l.return=s,le=l):im(r);for(;o!==null;)le=o,Zv(o),o=o.sibling;le=r,Wa=a,At=c}tm(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,le=o):tm(e)}}function tm(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||kc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!At)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Tn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Bp(t,o,i);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bp(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Xs(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}At||t.flags&512&&qh(t)}catch(f){at(t,t.return,f)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function nm(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function im(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kc(4,t)}catch(l){at(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){at(t,r,l)}}var o=t.return;try{qh(t)}catch(l){at(t,o,l)}break;case 5:var s=t.return;try{qh(t)}catch(l){at(t,s,l)}}}catch(l){at(t,t.return,l)}if(t===e){le=null;break}var a=t.sibling;if(a!==null){a.return=t.return,le=a;break}le=t.return}}var v_=Math.ceil,ac=yi.ReactCurrentDispatcher,bd=yi.ReactCurrentOwner,pn=yi.ReactCurrentBatchConfig,Be=0,xt=null,ht=null,bt=0,Qt=0,ho=tr(0),dt=0,ia=null,Mr=0,Bc=0,Ed=0,Rs=null,Vt=null,Td=0,Io=1/0,ni=null,lc=!1,$h=null,Gi=null,ja=!1,Oi=null,cc=0,Ns=0,Jh=null,Ol=-1,Fl=0;function Ft(){return Be&6?ct():Ol!==-1?Ol:Ol=ct()}function Wi(e){return e.mode&1?Be&2&&bt!==0?bt&-bt:e_.transition!==null?(Fl===0&&(Fl=N0()),Fl):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:z0(e.type)),e):1}function Rn(e,t,n,i){if(50<Ns)throw Ns=0,Jh=null,Error(Z(185));_a(e,n,i),(!(Be&2)||e!==xt)&&(e===xt&&(!(Be&2)&&(Bc|=n),dt===4&&Ni(e,bt)),qt(e,i),n===1&&Be===0&&!(t.mode&1)&&(Io=ct()+500,Dc&&nr()))}function qt(e,t){var n=e.callbackNode;ex(e,t);var i=Xl(e,e===xt?bt:0);if(i===0)n!==null&&fp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&fp(n),t===1)e.tag===0?Kx(rm.bind(null,e)):rv(rm.bind(null,e)),Zx(function(){!(Be&6)&&nr()}),n=null;else{switch(I0(i)){case 1:n=Qf;break;case 4:n=P0;break;case 16:n=jl;break;case 536870912:n=R0;break;default:n=jl}n=iy(n,$v.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $v(e,t){if(Ol=-1,Fl=0,Be&6)throw Error(Z(327));var n=e.callbackNode;if(bo()&&e.callbackNode!==n)return null;var i=Xl(e,e===xt?bt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=uc(e,i);else{t=i;var r=Be;Be|=2;var o=Qv();(xt!==e||bt!==t)&&(ni=null,Io=ct()+500,gr(e,t));do try{__();break}catch(a){Jv(e,a)}while(1);hd(),ac.current=o,Be=r,ht!==null?t=0:(xt=null,bt=0,t=dt)}if(t!==0){if(t===2&&(r=bh(e),r!==0&&(i=r,t=Qh(e,r))),t===1)throw n=ia,gr(e,0),Ni(e,i),qt(e,ct()),n;if(t===6)Ni(e,i);else{if(r=e.current.alternate,!(i&30)&&!y_(r)&&(t=uc(e,i),t===2&&(o=bh(e),o!==0&&(i=o,t=Qh(e,o))),t===1))throw n=ia,gr(e,0),Ni(e,i),qt(e,ct()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(Z(345));case 2:hr(e,Vt,ni);break;case 3:if(Ni(e,i),(i&130023424)===i&&(t=Td+500-ct(),10<t)){if(Xl(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Ft(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Nh(hr.bind(null,e,Vt,ni),t);break}hr(e,Vt,ni);break;case 4:if(Ni(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-Pn(i);o=1<<s,s=t[s],s>r&&(r=s),i&=~o}if(i=r,i=ct()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*v_(i/1960))-i,10<i){e.timeoutHandle=Nh(hr.bind(null,e,Vt,ni),i);break}hr(e,Vt,ni);break;case 5:hr(e,Vt,ni);break;default:throw Error(Z(329))}}}return qt(e,ct()),e.callbackNode===n?$v.bind(null,e):null}function Qh(e,t){var n=Rs;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=uc(e,t),e!==2&&(t=Vt,Vt=n,t!==null&&Kh(t)),e}function Kh(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function y_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Dn(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~Ed,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pn(t),i=1<<n;e[n]=-1,t&=~i}}function rm(e){if(Be&6)throw Error(Z(327));bo();var t=Xl(e,0);if(!(t&1))return qt(e,ct()),null;var n=uc(e,t);if(e.tag!==0&&n===2){var i=bh(e);i!==0&&(t=i,n=Qh(e,i))}if(n===1)throw n=ia,gr(e,0),Ni(e,t),qt(e,ct()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Vt,ni),qt(e,ct()),null}function Cd(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(Io=ct()+500,Dc&&nr())}}function Sr(e){Oi!==null&&Oi.tag===0&&!(Be&6)&&bo();var t=Be;Be|=1;var n=pn.transition,i=Ve;try{if(pn.transition=null,Ve=1,e)return e()}finally{Ve=i,pn.transition=n,Be=t,!(Be&6)&&nr()}}function Ld(){Qt=ho.current,Je(ho)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yx(n)),ht!==null)for(n=ht.return;n!==null;){var i=n;switch(ld(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Jl();break;case 3:Ro(),Je(jt),Je(Nt),vd();break;case 5:gd(i);break;case 4:Ro();break;case 13:Je(it);break;case 19:Je(it);break;case 10:fd(i.type._context);break;case 22:case 23:Ld()}n=n.return}if(xt=e,ht=e=ji(e.current,null),bt=Qt=t,dt=0,ia=null,Ed=Bc=Mr=0,Vt=Rs=null,dr!==null){for(t=0;t<dr.length;t++)if(n=dr[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}dr=null}return e}function Jv(e,t){do{var n=ht;try{if(hd(),Nl.current=sc,oc){for(var i=ot.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}oc=!1}if(wr=0,vt=ft=ot=null,As=!1,ea=0,bd.current=null,n===null||n.return===null){dt=1,ia=t,ht=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=jp(s);if(p!==null){p.flags&=-257,Xp(p,s,a,o,t),p.mode&1&&Wp(o,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){Wp(o,c,t),Ad();break e}l=Error(Z(426))}}else if(tt&&a.mode&1){var y=jp(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Xp(y,s,a,o,t),cd(No(l,a));break e}}o=l=No(l,a),dt!==4&&(dt=2),Rs===null?Rs=[o]:Rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Dv(o,l,t);kp(o,m);break e;case 1:a=l;var d=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gi===null||!Gi.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Ov(o,a,t);kp(o,w);break e}}o=o.return}while(o!==null)}ey(n)}catch(M){t=M,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function Qv(){var e=ac.current;return ac.current=sc,e===null?sc:e}function Ad(){(dt===0||dt===3||dt===2)&&(dt=4),xt===null||!(Mr&268435455)&&!(Bc&268435455)||Ni(xt,bt)}function uc(e,t){var n=Be;Be|=2;var i=Qv();(xt!==e||bt!==t)&&(ni=null,gr(e,t));do try{x_();break}catch(r){Jv(e,r)}while(1);if(hd(),Be=n,ac.current=i,ht!==null)throw Error(Z(261));return xt=null,bt=0,dt}function x_(){for(;ht!==null;)Kv(ht)}function __(){for(;ht!==null&&!j1();)Kv(ht)}function Kv(e){var t=ny(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?ey(e):ht=t,bd.current=null}function ey(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=d_(n,t),n!==null){n.flags&=32767,ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ht=null;return}}else if(n=f_(n,t,Qt),n!==null){ht=n;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);dt===0&&(dt=5)}function hr(e,t,n){var i=Ve,r=pn.transition;try{pn.transition=null,Ve=1,w_(e,t,n,i)}finally{pn.transition=r,Ve=i}return null}function w_(e,t,n,i){do bo();while(Oi!==null);if(Be&6)throw Error(Z(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(tx(e,o),e===xt&&(ht=xt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ja||(ja=!0,iy(jl,function(){return bo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pn.transition,pn.transition=null;var s=Ve;Ve=1;var a=Be;Be|=4,bd.current=null,m_(e,n),Yv(n,e),Hx(Ph),ql=!!Ah,Ph=Ah=null,e.current=n,g_(n),X1(),Be=a,Ve=s,pn.transition=o}else e.current=n;if(ja&&(ja=!1,Oi=e,cc=r),o=e.pendingLanes,o===0&&(Gi=null),Z1(n.stateNode),qt(e,ct()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(lc)throw lc=!1,e=$h,$h=null,e;return cc&1&&e.tag!==0&&bo(),o=e.pendingLanes,o&1?e===Jh?Ns++:(Ns=0,Jh=e):Ns=0,nr(),null}function bo(){if(Oi!==null){var e=I0(cc),t=pn.transition,n=Ve;try{if(pn.transition=null,Ve=16>e?16:e,Oi===null)var i=!1;else{if(e=Oi,Oi=null,cc=0,Be&6)throw Error(Z(331));var r=Be;for(Be|=4,le=e.current;le!==null;){var o=le,s=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(le=c;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:Ps(8,h,o)}var u=h.child;if(u!==null)u.return=h,le=u;else for(;le!==null;){h=le;var f=h.sibling,p=h.return;if(jv(h),h===c){le=null;break}if(f!==null){f.return=p,le=f;break}le=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,le=s;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ps(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,le=m;break e}le=o.return}}var d=e.current;for(le=d;le!==null;){s=le;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,le=x;else e:for(s=d;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kc(9,a)}}catch(M){at(a,a.return,M)}if(a===s){le=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,le=w;break e}le=a.return}}if(Be=r,nr(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Ac,e)}catch{}i=!0}return i}finally{Ve=n,pn.transition=t}}return!1}function om(e,t,n){t=No(n,t),t=Dv(e,t,1),e=Vi(e,t,1),t=Ft(),e!==null&&(_a(e,1,t),qt(e,t))}function at(e,t,n){if(e.tag===3)om(e,e,n);else for(;t!==null;){if(t.tag===3){om(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gi===null||!Gi.has(i))){e=No(n,e),e=Ov(t,e,1),t=Vi(t,e,1),e=Ft(),t!==null&&(_a(t,1,e),qt(t,e));break}}t=t.return}}function M_(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&n,xt===e&&(bt&n)===n&&(dt===4||dt===3&&(bt&130023424)===bt&&500>ct()-Td?gr(e,0):Ed|=n),qt(e,t)}function ty(e,t){t===0&&(e.mode&1?(t=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):t=1);var n=Ft();e=ui(e,t),e!==null&&(_a(e,t,n),qt(e,n))}function S_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ty(e,n)}function b_(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Z(314))}i!==null&&i.delete(t),ty(e,n)}var ny;ny=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,h_(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,tt&&t.flags&1048576&&ov(t,ec,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Dl(e,t),e=t.pendingProps;var r=Lo(t,Nt.current);So(t,n),r=xd(null,t,i,e,r,n);var o=_d();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(i)?(o=!0,Ql(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,pd(t),r.updater=Oc,t.stateNode=r,r._reactInternals=t,zh(t,i,e,n),t=Vh(null,t,i,!0,o,n)):(t.tag=0,tt&&o&&ad(t),Dt(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=T_(i),e=Tn(i,e),r){case 0:t=Hh(null,t,i,e,n);break e;case 1:t=Zp(null,t,i,e,n);break e;case 11:t=qp(null,t,i,e,n);break e;case 14:t=Yp(null,t,i,Tn(i.type,e),n);break e}throw Error(Z(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Tn(i,r),Hh(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Tn(i,r),Zp(e,t,i,r,n);case 3:e:{if(zv(t),e===null)throw Error(Z(387));i=t.pendingProps,o=t.memoizedState,r=o.element,cv(e,t),ic(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=No(Error(Z(423)),t),t=$p(e,t,i,n,r);break e}else if(i!==r){r=No(Error(Z(424)),t),t=$p(e,t,i,n,r);break e}else for(en=Hi(t.stateNode.containerInfo.firstChild),nn=t,tt=!0,Ln=null,n=dv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),i===r){t=hi(e,t,n);break e}Dt(e,t,i,n)}t=t.child}return t;case 5:return pv(t),e===null&&Fh(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,s=r.children,Rh(i,r)?s=null:o!==null&&Rh(i,o)&&(t.flags|=32),Bv(e,t),Dt(e,t,s,n),t.child;case 6:return e===null&&Fh(t),null;case 13:return Uv(e,t,n);case 4:return md(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Po(t,null,i,n):Dt(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Tn(i,r),qp(e,t,i,r,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Ye(tc,i._currentValue),i._currentValue=s,o!==null)if(Dn(o.value,s)){if(o.children===r.children&&!jt.current){t=hi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=ai(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),kh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),kh(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Dt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,So(t,n),r=gn(r),i=i(r),t.flags|=1,Dt(e,t,i,n),t.child;case 14:return i=t.type,r=Tn(i,t.pendingProps),r=Tn(i.type,r),Yp(e,t,i,r,n);case 15:return Fv(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Tn(i,r),Dl(e,t),t.tag=1,Xt(i)?(e=!0,Ql(t)):e=!1,So(t,n),hv(t,i,r),zh(t,i,r,n),Vh(null,t,i,!0,e,n);case 19:return Hv(e,t,n);case 22:return kv(e,t,n)}throw Error(Z(156,t.tag))};function iy(e,t){return A0(e,t)}function E_(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,i){return new E_(e,t,n,i)}function Pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T_(e){if(typeof e=="function")return Pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zf)return 11;if(e===$f)return 14}return 2}function ji(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kl(e,t,n,i,r,o){var s=2;if(i=e,typeof e=="function")Pd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case to:return vr(n.children,r,o,t);case Yf:s=8,r|=8;break;case ch:return e=fn(12,n,t,r|2),e.elementType=ch,e.lanes=o,e;case uh:return e=fn(13,n,t,r),e.elementType=uh,e.lanes=o,e;case hh:return e=fn(19,n,t,r),e.elementType=hh,e.lanes=o,e;case f0:return zc(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u0:s=10;break e;case h0:s=9;break e;case Zf:s=11;break e;case $f:s=14;break e;case Ai:s=16,i=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=fn(s,n,t,r),t.elementType=e,t.type=i,t.lanes=o,t}function vr(e,t,n,i){return e=fn(7,e,i,t),e.lanes=n,e}function zc(e,t,n,i){return e=fn(22,e,i,t),e.elementType=f0,e.lanes=n,e.stateNode={isHidden:!1},e}function Eu(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function Tu(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C_(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Rd(e,t,n,i,r,o,s,a,l){return e=new C_(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=fn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pd(o),e}function L_(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function ry(e){if(!e)return $i;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Xt(n))return iv(e,n,t)}return t}function oy(e,t,n,i,r,o,s,a,l){return e=Rd(n,i,!0,e,r,o,s,a,l),e.context=ry(null),n=e.current,i=Ft(),r=Wi(n),o=ai(i,r),o.callback=t??null,Vi(n,o,r),e.current.lanes=r,_a(e,r,i),qt(e,i),e}function Uc(e,t,n,i){var r=t.current,o=Ft(),s=Wi(r);return n=ry(n),t.context===null?t.context=n:t.pendingContext=n,t=ai(o,s),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Vi(r,t,s),e!==null&&(Rn(e,r,s,o),Rl(e,r,s)),s}function hc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nd(e,t){sm(e,t),(e=e.alternate)&&sm(e,t)}function A_(){return null}var sy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Id(e){this._internalRoot=e}Hc.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Uc(e,t,null,null)};Hc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Uc(null,e,null,null)}),t[ci]=null}};function Hc(e){this._internalRoot=e}Hc.prototype.unstable_scheduleHydration=function(e){if(e){var t=F0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ri.length&&t!==0&&t<Ri[n].priority;n++);Ri.splice(n,0,e),n===0&&B0(e)}};function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function am(){}function P_(e,t,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=hc(s);o.call(c)}}var s=oy(t,i,e,0,null,!1,!1,"",am);return e._reactRootContainer=s,e[ci]=s.current,Zs(e.nodeType===8?e.parentNode:e),Sr(),s}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=hc(l);a.call(c)}}var l=Rd(e,0,!1,null,null,!1,!1,"",am);return e._reactRootContainer=l,e[ci]=l.current,Zs(e.nodeType===8?e.parentNode:e),Sr(function(){Uc(t,l,n,i)}),l}function Gc(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=hc(s);a.call(l)}}Uc(t,s,e,r)}else s=P_(n,t,e,r,i);return hc(s)}D0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_s(t.pendingLanes);n!==0&&(Kf(t,n|1),qt(t,ct()),!(Be&6)&&(Io=ct()+500,nr()))}break;case 13:Sr(function(){var i=ui(e,1);if(i!==null){var r=Ft();Rn(i,e,1,r)}}),Nd(e,1)}};ed=function(e){if(e.tag===13){var t=ui(e,134217728);if(t!==null){var n=Ft();Rn(t,e,134217728,n)}Nd(e,134217728)}};O0=function(e){if(e.tag===13){var t=Wi(e),n=ui(e,t);if(n!==null){var i=Ft();Rn(n,e,t,i)}Nd(e,t)}};F0=function(){return Ve};k0=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};wh=function(e,t,n){switch(t){case"input":if(ph(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Ic(i);if(!r)throw Error(Z(90));p0(i),ph(i,r)}}}break;case"textarea":g0(e,n);break;case"select":t=n.value,t!=null&&xo(e,!!n.multiple,t,!1)}};S0=Cd;b0=Sr;var R_={usingClientEntryPoint:!1,Events:[Ma,oo,Ic,w0,M0,Cd]},ls={findFiberByHostInstance:fr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},N_={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C0(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||A_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{Ac=Xa.inject(N_),Vn=Xa}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R_;ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(t))throw Error(Z(200));return L_(e,t,null,n)};ln.createRoot=function(e,t){if(!Dd(e))throw Error(Z(299));var n=!1,i="",r=sy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Rd(e,1,!1,null,null,n,!1,i,r),e[ci]=t.current,Zs(e.nodeType===8?e.parentNode:e),new Id(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=C0(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return Sr(e)};ln.hydrate=function(e,t,n){if(!Vc(t))throw Error(Z(200));return Gc(null,e,t,!0,n)};ln.hydrateRoot=function(e,t,n){if(!Dd(e))throw Error(Z(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=sy;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=oy(t,null,e,1,n??null,r,!1,o,s),e[ci]=t.current,Zs(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Hc(t)};ln.render=function(e,t,n){if(!Vc(t))throw Error(Z(200));return Gc(null,e,t,!1,n)};ln.unmountComponentAtNode=function(e){if(!Vc(e))throw Error(Z(40));return e._reactRootContainer?(Sr(function(){Gc(null,null,e,!1,function(){e._reactRootContainer=null,e[ci]=null})}),!0):!1};ln.unstable_batchedUpdates=Cd;ln.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Vc(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Gc(e,t,n,!1,i)};ln.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=ln})(A1);var ay,lm=sh;ay=lm.createRoot,lm.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ra.apply(this,arguments)}var Fi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fi||(Fi={}));const cm="popstate";function I_(e){e===void 0&&(e={});function t(i,r){let{pathname:o,search:s,hash:a}=i.location;return ef("",{pathname:o,search:s,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:fc(r)}return O_(t,n,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Od(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D_(){return Math.random().toString(36).substr(2,8)}function um(e,t){return{usr:e.state,key:e.key,idx:t}}function ef(e,t,n,i){return n===void 0&&(n=null),ra({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yo(t):t,{state:n,key:t&&t.key||i||D_()})}function fc(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function O_(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a=Fi.Pop,l=null,c=h();c==null&&(c=0,s.replaceState(ra({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function u(){a=Fi.Pop;let y=h(),m=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:m})}function f(y,m){a=Fi.Push;let d=ef(v.location,y,m);n&&n(d,y),c=h()+1;let x=um(d,c),w=v.createHref(d);try{s.pushState(x,"",w)}catch{r.location.assign(w)}o&&l&&l({action:a,location:v.location,delta:1})}function p(y,m){a=Fi.Replace;let d=ef(v.location,y,m);n&&n(d,y),c=h();let x=um(d,c),w=v.createHref(d);s.replaceState(x,"",w),o&&l&&l({action:a,location:v.location,delta:0})}function g(y){let m=r.location.origin!=="null"?r.location.origin:r.location.href,d=typeof y=="string"?y:fc(y);return pt(m,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,m)}let v={get action(){return a},get location(){return e(r,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(cm,u),l=y,()=>{r.removeEventListener(cm,u),l=null}},createHref(y){return t(r,y)},createURL:g,encodeLocation(y){let m=g(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(y){return s.go(y)}};return v}var hm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hm||(hm={}));function F_(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?Yo(t):t,r=Fd(i.pathname||"/",n);if(r==null)return null;let o=ly(e);k_(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=X_(o[a],Z_(r));return s}function ly(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Xi([i,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ly(o.children,t,h,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:W_(c,o.index),routesMeta:h})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))r(o,s);else for(let l of cy(o.path))r(o,s,l)}),t}function cy(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let s=cy(i.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),r&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function k_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:j_(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const B_=/^:\w+$/,z_=3,U_=2,H_=1,V_=10,G_=-2,fm=e=>e==="*";function W_(e,t){let n=e.split("/"),i=n.length;return n.some(fm)&&(i+=G_),t&&(i+=U_),n.filter(r=>!fm(r)).reduce((r,o)=>r+(B_.test(o)?z_:o===""?H_:V_),i)}function j_(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function X_(e,t){let{routesMeta:n}=e,i={},r="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=r==="/"?t:t.slice(r.length)||"/",h=q_({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!h)return null;Object.assign(i,h.params);let u=a.route;o.push({params:i,pathname:Xi([r,h.pathname]),pathnameBase:K_(Xi([r,h.pathnameBase])),route:u}),h.pathnameBase!=="/"&&(r=Xi([r,h.pathnameBase]))}return o}function q_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Y_(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,u)=>{if(h==="*"){let f=a[u]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return c[h]=$_(a[u]||"",h),c},{}),pathname:o,pathnameBase:s,pattern:e}}function Y_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Od(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function Z_(e){try{return decodeURI(e)}catch(t){return Od(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $_(e,t){try{return decodeURIComponent(e)}catch(n){return Od(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Fd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function J_(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Yo(e):e;return{pathname:n?n.startsWith("/")?n:Q_(n,t):t,search:ew(i),hash:tw(r)}}function Q_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Cu(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hy(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=Yo(e):(r=ra({},e),pt(!r.pathname||!r.pathname.includes("?"),Cu("?","pathname","search",r)),pt(!r.pathname||!r.pathname.includes("#"),Cu("#","pathname","hash",r)),pt(!r.search||!r.search.includes("#"),Cu("#","search","hash",r)));let o=e===""||r.pathname==="",s=o?"/":r.pathname,a;if(i||s==null)a=n;else{let u=t.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),u-=1;r.pathname=f.join("/")}a=u>=0?t[u]:"/"}let l=J_(r,a),c=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Xi=e=>e.join("/").replace(/\/\/+/g,"/"),K_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ew=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const rw=typeof Object.is=="function"?Object.is:iw,{useState:ow,useEffect:sw,useLayoutEffect:aw,useDebugValue:lw}=oh;function cw(e,t,n){const i=t(),[{inst:r},o]=ow({inst:{value:i,getSnapshot:t}});return aw(()=>{r.value=i,r.getSnapshot=t,Lu(r)&&o({inst:r})},[e,i,t]),sw(()=>(Lu(r)&&o({inst:r}),e(()=>{Lu(r)&&o({inst:r})})),[e]),lw(i),i}function Lu(e){const t=e.getSnapshot,n=e.value;try{const i=t();return!rw(n,i)}catch{return!0}}function uw(e,t,n){return t()}const hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fw=!hw,dw=fw?uw:cw;"useSyncExternalStore"in oh&&(e=>e.useSyncExternalStore)(oh);const fy=D.createContext(null),dy=D.createContext(null),ba=D.createContext(null),Wc=D.createContext(null),Dr=D.createContext({outlet:null,matches:[]}),py=D.createContext(null);function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tf.apply(this,arguments)}function pw(e,t){let{relative:n}=t===void 0?{}:t;Ea()||pt(!1);let{basename:i,navigator:r}=D.useContext(ba),{hash:o,pathname:s,search:a}=my(e,{relative:n}),l=s;return i!=="/"&&(l=s==="/"?i:Xi([i,s])),r.createHref({pathname:l,search:a,hash:o})}function Ea(){return D.useContext(Wc)!=null}function jc(){return Ea()||pt(!1),D.useContext(Wc).location}function kd(){Ea()||pt(!1);let{basename:e,navigator:t}=D.useContext(ba),{matches:n}=D.useContext(Dr),{pathname:i}=jc(),r=JSON.stringify(uy(n).map(a=>a.pathnameBase)),o=D.useRef(!1);return D.useEffect(()=>{o.current=!0}),D.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){t.go(a);return}let c=hy(a,JSON.parse(r),i,l.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:Xi([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,r,i])}const mw=D.createContext(null);function gw(e){let t=D.useContext(Dr).outlet;return t&&D.createElement(mw.Provider,{value:e},t)}function my(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=D.useContext(Dr),{pathname:r}=jc(),o=JSON.stringify(uy(i).map(s=>s.pathnameBase));return D.useMemo(()=>hy(e,JSON.parse(o),r,n==="path"),[e,o,r,n])}function vw(e,t){Ea()||pt(!1);let{navigator:n}=D.useContext(ba),i=D.useContext(dy),{matches:r}=D.useContext(Dr),o=r[r.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=jc(),c;if(t){var h;let v=typeof t=="string"?Yo(t):t;a==="/"||(h=v.pathname)!=null&&h.startsWith(a)||pt(!1),c=v}else c=l;let u=c.pathname||"/",f=a==="/"?u:u.slice(a.length)||"/",p=F_(e,{pathname:f}),g=ww(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Xi([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Xi([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),r,i||void 0);return t&&g?D.createElement(Wc.Provider,{value:{location:tf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Fi.Pop}},g):g}function yw(){let e=Ew(),t=nw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:r},n):null,o)}class xw extends D.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?D.createElement(Dr.Provider,{value:this.props.routeContext},D.createElement(py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _w(e){let{routeContext:t,match:n,children:i}=e,r=D.useContext(fy);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Dr.Provider,{value:t},i)}function ww(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let i=e,r=n==null?void 0:n.errors;if(r!=null){let o=i.findIndex(s=>s.route.id&&(r==null?void 0:r[s.route.id]));o>=0||pt(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((o,s,a)=>{let l=s.route.id?r==null?void 0:r[s.route.id]:null,c=null;n&&(s.route.ErrorBoundary?c=D.createElement(s.route.ErrorBoundary,null):s.route.errorElement?c=s.route.errorElement:c=D.createElement(yw,null));let h=t.concat(i.slice(0,a+1)),u=()=>{let f=o;return l?f=c:s.route.Component?f=D.createElement(s.route.Component,null):s.route.element&&(f=s.route.element),D.createElement(_w,{match:s,routeContext:{outlet:o,matches:h},children:f})};return n&&(s.route.ErrorBoundary||s.route.errorElement||a===0)?D.createElement(xw,{location:n.location,component:c,error:l,children:u(),routeContext:{outlet:null,matches:h}}):u()},null)}var dm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(dm||(dm={}));var dc;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(dc||(dc={}));function Mw(e){let t=D.useContext(dy);return t||pt(!1),t}function Sw(e){let t=D.useContext(Dr);return t||pt(!1),t}function bw(e){let t=Sw(),n=t.matches[t.matches.length-1];return n.route.id||pt(!1),n.route.id}function Ew(){var e;let t=D.useContext(py),n=Mw(dc.UseRouteError),i=bw(dc.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function Tw(e){return gw(e.context)}function Bl(e){pt(!1)}function Cw(e){let{basename:t="/",children:n=null,location:i,navigationType:r=Fi.Pop,navigator:o,static:s=!1}=e;Ea()&&pt(!1);let a=t.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof i=="string"&&(i=Yo(i));let{pathname:c="/",search:h="",hash:u="",state:f=null,key:p="default"}=i,g=D.useMemo(()=>{let v=Fd(c,a);return v==null?null:{location:{pathname:v,search:h,hash:u,state:f,key:p},navigationType:r}},[a,c,h,u,f,p,r]);return g==null?null:D.createElement(ba.Provider,{value:l},D.createElement(Wc.Provider,{children:n,value:g}))}function Lw(e){let{children:t,location:n}=e,i=D.useContext(fy),r=i&&!t?i.router.routes:nf(t);return vw(r,n)}var pm;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(pm||(pm={}));new Promise(()=>{});function nf(e,t){t===void 0&&(t=[]);let n=[];return D.Children.forEach(e,(i,r)=>{if(!D.isValidElement(i))return;let o=[...t,r];if(i.type===D.Fragment){n.push.apply(n,nf(i.props.children,o));return}i.type!==Bl&&pt(!1),!i.props.index||!i.props.children||pt(!1);let s={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=nf(i.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rf.apply(this,arguments)}function Aw(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Pw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rw(e,t){return e.button===0&&(!t||t==="_self")&&!Pw(e)}const Nw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Iw(e){let{basename:t,children:n,window:i}=e,r=D.useRef();r.current==null&&(r.current=I_({window:i,v5Compat:!0}));let o=r.current,[s,a]=D.useState({action:o.action,location:o.location});return D.useLayoutEffect(()=>o.listen(a),[o]),D.createElement(Cw,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}const Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gy=D.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:h}=t,u=Aw(t,Nw),{basename:f}=D.useContext(ba),p,g=!1;if(typeof c=="string"&&Ow.test(c)&&(p=c,Dw)){let d=new URL(window.location.href),x=c.startsWith("//")?new URL(d.protocol+c):new URL(c),w=Fd(x.pathname,f);x.origin===d.origin&&w!=null?c=w+x.search+x.hash:g=!0}let v=pw(c,{relative:r}),y=Fw(c,{replace:s,state:a,target:l,preventScrollReset:h,relative:r});function m(d){i&&i(d),d.defaultPrevented||y(d)}return D.createElement("a",rf({},u,{href:p||v,onClick:g||o?i:m,ref:n,target:l}))});var mm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(mm||(mm={}));var gm;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gm||(gm={}));function Fw(e,t){let{target:n,replace:i,state:r,preventScrollReset:o,relative:s}=t===void 0?{}:t,a=kd(),l=jc(),c=my(e,{relative:s});return D.useCallback(h=>{if(Rw(h,n)){h.preventDefault();let u=i!==void 0?i:fc(l)===fc(c);a(e,{replace:u,state:r,preventScrollReset:o,relative:s})}},[l,a,c,i,r,n,e,o,s])}const kw="/LuisZapata/assets/logohome-7b7d2b9a.svg",Bw="/LuisZapata/assets/perfil_2-eeb5d8e0.png",zw="/LuisZapata/assets/untels-logo-938f0c71.png",Uw="/LuisZapata/assets/valhalla-900845d4.png",Hw=e=>D.createElement("svg",{style:{enableBackground:"new 0 0 64 64"},viewBox:"0 0 64 64",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e},D.createElement("style",{type:"text/css"},`
	.st0{fill:#4267B2;}
	.st1{fill:url(#SVGID_1_);}
	.st2{fill:#FFFFFF;}
	.st3{fill:#C2191E;}
	.st4{fill:#1DA1F3;}
	.st5{fill:#FEFE00;}
	.st6{fill:#25D366;stroke:#FFFFFF;stroke-width:5;stroke-miterlimit:10;}
	.st7{fill:#CB2027;}
	.st8{fill:#0077B5;}
	.st9{fill:url(#SVGID_2_);}
	.st10{fill:url(#SVGID_3_);}
	.st11{fill:#FF004F;}
	.st12{fill:#00F7EF;}
	.st13{fill:#5181B8;}
	.st14{fill:#395976;}
	.st15{fill:#F58220;}
	.st16{fill:#E6162D;}
	.st17{fill:#FF9933;}
`),D.createElement("g",{id:"guidlines"}),D.createElement("g",{id:"FB"}),D.createElement("g",{id:"ig"}),D.createElement("g",{id:"yt"}),D.createElement("g",{id:"twitter"}),D.createElement("g",{id:"snapchat"}),D.createElement("g",{id:"WA"}),D.createElement("g",{id:"Pinterrest"}),D.createElement("g",{id:"Layer_9"},D.createElement("path",{className:"st8",d:"M2,6v52c0,2.2,1.8,4,4,4h52c2.2,0,4-1.8,4-4V6c0-2.2-1.8-4-4-4H6C3.8,2,2,3.8,2,6z M19.1,52H12V24.4h7.1V52z    M15.6,18.9c-2,0-3.6-1.5-3.6-3.4c0-1.9,1.6-3.4,3.6-3.4c2,0,3.6,1.5,3.6,3.4C19.1,17.4,17.5,18.9,15.6,18.9z M52,52h-7.1V38.2   c0-2.9-0.1-4.8-0.4-5.7c-0.3-0.9-0.8-1.5-1.4-2c-0.7-0.5-1.5-0.7-2.4-0.7c-1.2,0-2.3,0.3-3.2,1c-1,0.7-1.6,1.6-2,2.7   c-0.4,1.1-0.5,3.2-0.5,6.2V52h-8.6V24.4h7.1v4.1c2.4-3.1,5.5-4.7,9.2-4.7c1.6,0,3.1,0.3,4.5,0.9c1.3,0.6,2.4,1.3,3.1,2.2   c0.7,0.9,1.2,1.9,1.4,3.1c0.3,1.1,0.4,2.8,0.4,4.9V52z"})),D.createElement("g",{id:"Layer_10"}),D.createElement("g",{id:"Layer_11"}),D.createElement("g",{id:"Layer_12"}),D.createElement("g",{id:"Layer_13"}),D.createElement("g",{id:"Layer_14"}),D.createElement("g",{id:"Layer_15"}),D.createElement("g",{id:"Layer_16"}),D.createElement("g",{id:"Layer_17"})),Vw=e=>D.createElement("svg",{id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"438.549px",height:"438.549px",viewBox:"0 0 438.549 438.549",style:{enableBackground:"new 0 0 438.549 438.549"},xmlSpace:"preserve",...e},D.createElement("g",null,D.createElement("path",{d:"M409.132,114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736,15.166,259.057,5.365,219.271,5.365 c-39.781,0-76.472,9.804-110.063,29.408c-33.596,19.605-60.192,46.204-79.8,79.8C9.803,148.168,0,184.854,0,224.63 c0,47.78,13.94,90.745,41.827,128.906c27.884,38.164,63.906,64.572,108.063,79.227c5.14,0.954,8.945,0.283,11.419-1.996 c2.475-2.282,3.711-5.14,3.711-8.562c0-0.571-0.049-5.708-0.144-15.417c-0.098-9.709-0.144-18.179-0.144-25.406l-6.567,1.136 c-4.187,0.767-9.469,1.092-15.846,1c-6.374-0.089-12.991-0.757-19.842-1.999c-6.854-1.231-13.229-4.086-19.13-8.559 c-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559 c-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-0.951-2.568-2.098-3.711-3.429c-1.142-1.331-1.997-2.663-2.568-3.997 c-0.572-1.335-0.098-2.43,1.427-3.289c1.525-0.859,4.281-1.276,8.28-1.276l5.708,0.853c3.807,0.763,8.516,3.042,14.133,6.851 c5.614,3.806,10.229,8.754,13.846,14.842c4.38,7.806,9.657,13.754,15.846,17.847c6.184,4.093,12.419,6.136,18.699,6.136 c6.28,0,11.704-0.476,16.274-1.423c4.565-0.952,8.848-2.383,12.847-4.285c1.713-12.758,6.377-22.559,13.988-29.41 c-10.848-1.14-20.601-2.857-29.264-5.14c-8.658-2.286-17.605-5.996-26.835-11.14c-9.235-5.137-16.896-11.516-22.985-19.126 c-6.09-7.614-11.088-17.61-14.987-29.979c-3.901-12.374-5.852-26.648-5.852-42.826c0-23.035,7.52-42.637,22.557-58.817 c-7.044-17.318-6.379-36.732,1.997-58.24c5.52-1.715,13.706-0.428,24.554,3.853c10.85,4.283,18.794,7.952,23.84,10.994 c5.046,3.041,9.089,5.618,12.135,7.708c17.705-4.947,35.976-7.421,54.818-7.421s37.117,2.474,54.823,7.421l10.849-6.849 c7.419-4.57,16.18-8.758,26.262-12.565c10.088-3.805,17.802-4.853,23.134-3.138c8.562,21.509,9.325,40.922,2.279,58.24 c15.036,16.18,22.559,35.787,22.559,58.817c0,16.178-1.958,30.497-5.853,42.966c-3.9,12.471-8.941,22.457-15.125,29.979 c-6.191,7.521-13.901,13.85-23.131,18.986c-9.232,5.14-18.182,8.85-26.84,11.136c-8.662,2.286-18.415,4.004-29.263,5.146 c9.894,8.562,14.842,22.077,14.842,40.539v60.237c0,3.422,1.19,6.279,3.572,8.562c2.379,2.279,6.136,2.95,11.276,1.995 c44.163-14.653,80.185-41.062,108.068-79.226c27.88-38.161,41.825-81.126,41.825-128.906 C438.536,184.851,428.728,148.168,409.132,114.573z"})),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null));const Gw="124",Ww=0,vm=1,jw=2,vy=1,Xw=2,Ms=3,Xc=0,St=1,qc=2,yy=1,Is=0,Ds=1,ym=2,xm=3,_m=4,qw=5,Kr=100,Yw=101,Zw=102,wm=103,Mm=104,$w=200,Jw=201,Qw=202,Kw=203,xy=204,_y=205,e2=206,t2=207,n2=208,i2=209,r2=210,o2=0,s2=1,a2=2,of=3,l2=4,c2=5,u2=6,h2=7,Yc=0,f2=1,d2=2,Os=0,p2=1,m2=2,g2=3,v2=4,y2=5,wy=300,Bd=301,zd=302,Sm=303,bm=304,Ud=306,Hd=307,sf=1e3,Kt=1001,af=1002,Ot=1003,Em=1004,Tm=1005,Rt=1006,x2=1007,Zc=1008,Vd=1009,_2=1010,w2=1011,pc=1012,M2=1013,zl=1014,Ii=1015,mc=1016,S2=1017,b2=1018,E2=1019,Fs=1020,T2=1021,yr=1022,Nn=1023,C2=1024,L2=1025,Eo=1026,oa=1027,A2=1028,P2=1029,R2=1030,N2=1031,I2=1032,D2=1033,Cm=33776,Lm=33777,Am=33778,Pm=33779,Rm=35840,Nm=35841,Im=35842,Dm=35843,O2=36196,Om=37492,Fm=37496,F2=37808,k2=37809,B2=37810,z2=37811,U2=37812,H2=37813,V2=37814,G2=37815,W2=37816,j2=37817,X2=37818,q2=37819,Y2=37820,Z2=37821,$2=36492,J2=37840,Q2=37841,K2=37842,eM=37843,tM=37844,nM=37845,iM=37846,rM=37847,oM=37848,sM=37849,aM=37850,lM=37851,cM=37852,uM=37853,hM=2200,fM=2201,dM=2202,gc=2300,Ul=2301,Au=2302,fo=2400,po=2401,vc=2402,Gd=2500,My=2501,pM=0,Ta=3e3,Sy=3001,mM=3007,gM=3002,vM=3003,yM=3004,xM=3005,_M=3006,wM=3200,MM=3201,Zo=0,SM=1,Pu=7680,bM=519,$c=35044,sa=35048,km="300 es";function xi(){}Object.assign(xi.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}}});const wt=[];for(let e=0;e<256;e++)wt[e]=(e<16?"0":"")+e.toString(16);let qa=1234567;const Te={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(wt[e&255]+wt[e>>8&255]+wt[e>>16&255]+wt[e>>24&255]+"-"+wt[t&255]+wt[t>>8&255]+"-"+wt[t>>16&15|64]+wt[t>>24&255]+"-"+wt[n&63|128]+wt[n>>8&255]+"-"+wt[n>>16&255]+wt[n>>24&255]+wt[i&255]+wt[i>>8&255]+wt[i>>16&255]+wt[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return e!==void 0&&(qa=e%2147483647),qa=qa*16807%2147483647,(qa-1)/2147483646},degToRad:function(e){return e*Te.DEG2RAD},radToDeg:function(e){return e*Te.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),h=s((t+i)/2),u=o((t-i)/2),f=s((t-i)/2),p=o((i-t)/2),g=s((i-t)/2);switch(r){case"XYX":e.set(a*h,l*u,l*f,a*c);break;case"YZY":e.set(l*f,a*h,l*u,a*c);break;case"ZXZ":e.set(l*u,l*f,a*h,a*c);break;case"XZX":e.set(a*h,l*g,l*p,a*c);break;case"YXY":e.set(l*p,a*h,l*g,a*c);break;case"ZYZ":e.set(l*g,l*p,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class X{constructor(t=0,n=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,i=this.y,r=t.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y;return n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const i=Math.cos(n),r=Math.sin(n),o=this.x-t.x,s=this.y-t.y;return this.x=o*i-s*r+t.x,this.y=o*r+s*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Wt{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,r,o,s,a,l,c){const h=this.elements;return h[0]=t,h[1]=r,h[2]=a,h[3]=n,h[4]=o,h[5]=l,h[6]=i,h[7]=s,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(t,n,i){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,o=this.elements,s=i[0],a=i[3],l=i[6],c=i[1],h=i[4],u=i[7],f=i[2],p=i[5],g=i[8],v=r[0],y=r[3],m=r[6],d=r[1],x=r[4],w=r[7],M=r[2],_=r[5],E=r[8];return o[0]=s*v+a*d+l*M,o[3]=s*y+a*x+l*_,o[6]=s*m+a*w+l*E,o[1]=c*v+h*d+u*M,o[4]=c*y+h*x+u*_,o[7]=c*m+h*w+u*E,o[2]=f*v+p*d+g*M,o[5]=f*y+p*x+g*_,o[8]=f*m+p*w+g*E,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8];return n*s*h-n*a*c-i*o*h+i*a*l+r*o*c-r*s*l}invert(){const t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=h*s-a*c,f=a*l-h*o,p=c*o-s*l,g=n*u+i*f+r*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return t[0]=u*v,t[1]=(r*c-h*i)*v,t[2]=(a*i-r*s)*v,t[3]=f*v,t[4]=(h*n-r*l)*v,t[5]=(r*o-a*n)*v,t[6]=p*v,t[7]=(i*l-c*n)*v,t[8]=(s*n-i*o)*v,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,i,r,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(i*l,i*c,-i*(l*s+c*a)+s+t,-r*c,r*l,-r*(-c*s+l*a)+a+n,0,0,1),this}scale(t,n){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(t){const n=Math.cos(t),i=Math.sin(t),r=this.elements,o=r[0],s=r[3],a=r[6],l=r[1],c=r[4],h=r[7];return r[0]=n*o+i*l,r[3]=n*s+i*c,r[6]=n*a+i*h,r[1]=-i*o+n*l,r[4]=-i*s+n*c,r[7]=-i*a+n*h,this}translate(t,n){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n=0){for(let i=0;i<9;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t}}let kr;const $o={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{kr===void 0&&(kr=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),kr.width=e.width,kr.height=e.height;const n=kr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=kr}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let EM=0;function Ze(e=Ze.DEFAULT_IMAGE,t=Ze.DEFAULT_MAPPING,n=Kt,i=Kt,r=Rt,o=Zc,s=Nn,a=Vd,l=1,c=Ta){Object.defineProperty(this,"id",{value:EM++}),this.uuid=Te.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new X(0,0),this.repeat=new X(1,1),this.center=new X(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}Ze.DEFAULT_IMAGE=void 0;Ze.DEFAULT_MAPPING=wy;Ze.prototype=Object.assign(Object.create(xi.prototype),{constructor:Ze,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=Te.generateUUID()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?r.push(Ru(i[o].image)):r.push(Ru(i[o]))}else r=Ru(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==wy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sf:e.x=e.x-Math.floor(e.x);break;case Kt:e.x=e.x<0?0:1;break;case af:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sf:e.y=e.y-Math.floor(e.y);break;case Kt:e.y=e.y<0?0:1;break;case af:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(Ze.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Ru(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?$o.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Ge{constructor(t=0,n=0,i=0,r=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,o=this.w,s=t.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*o,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*o,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*o,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,i,r,o;const l=t.elements,c=l[0],h=l[4],u=l[8],f=l[1],p=l[5],g=l[9],v=l[2],y=l[6],m=l[10];if(Math.abs(h-f)<.01&&Math.abs(u-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(h+f)<.1&&Math.abs(u+v)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,w=(p+1)/2,M=(m+1)/2,_=(h+f)/4,E=(u+v)/4,P=(g+y)/4;return x>w&&x>M?x<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(x),r=_/i,o=E/i):w>M?w<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(w),i=_/r,o=P/r):M<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(M),i=E/o,r=P/o),this.set(i,r,o,n),this}let d=Math.sqrt((y-g)*(y-g)+(u-v)*(u-v)+(f-h)*(f-h));return Math.abs(d)<.001&&(d=1),this.x=(y-g)/d,this.y=(u-v)/d,this.z=(f-h)/d,this.w=Math.acos((c+p+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this.w=t.w+(n.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function In(e,t,n){this.width=e,this.height=t,this.scissor=new Ge(0,0,e,t),this.scissorTest=!1,this.viewport=new Ge(0,0,e,t),n=n||{},this.texture=new Ze(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Rt,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}In.prototype=Object.assign(Object.create(xi.prototype),{constructor:In,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Bm(e,t,n){In.call(this,e,t,n),this.samples=4}Bm.prototype=Object.assign(Object.create(In.prototype),{constructor:Bm,isWebGLMultisampleRenderTarget:!0,copy:function(e){return In.prototype.copy.call(this,e),this.samples=e.samples,this}});class Yt{constructor(t=0,n=0,i=0,r=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=i,this._w=r}static slerp(t,n,i,r){return i.copy(t).slerp(n,r)}static slerpFlat(t,n,i,r,o,s,a){let l=i[r+0],c=i[r+1],h=i[r+2],u=i[r+3];const f=o[s+0],p=o[s+1],g=o[s+2],v=o[s+3];if(u!==v||l!==f||c!==p||h!==g){let y=1-a;const m=l*f+c*p+h*g+u*v,d=m>=0?1:-1,x=1-m*m;if(x>Number.EPSILON){const M=Math.sqrt(x),_=Math.atan2(M,m*d);y=Math.sin(y*_)/M,a=Math.sin(a*_)/M}const w=a*d;if(l=l*y+f*w,c=c*y+p*w,h=h*y+g*w,u=u*y+v*w,y===1-a){const M=1/Math.sqrt(l*l+c*c+h*h+u*u);l*=M,c*=M,h*=M,u*=M}}t[n]=l,t[n+1]=c,t[n+2]=h,t[n+3]=u}static multiplyQuaternionsFlat(t,n,i,r,o,s){const a=i[r],l=i[r+1],c=i[r+2],h=i[r+3],u=o[s],f=o[s+1],p=o[s+2],g=o[s+3];return t[n]=a*g+h*u+l*p-c*f,t[n+1]=l*g+h*f+c*u-a*p,t[n+2]=c*g+h*p+a*f-l*u,t[n+3]=h*g-a*u-l*f-c*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,r=t._y,o=t._z,s=t._order,a=Math.cos,l=Math.sin,c=a(i/2),h=a(r/2),u=a(o/2),f=l(i/2),p=l(r/2),g=l(o/2);switch(s){case"XYZ":this._x=f*h*u+c*p*g,this._y=c*p*u-f*h*g,this._z=c*h*g+f*p*u,this._w=c*h*u-f*p*g;break;case"YXZ":this._x=f*h*u+c*p*g,this._y=c*p*u-f*h*g,this._z=c*h*g-f*p*u,this._w=c*h*u+f*p*g;break;case"ZXY":this._x=f*h*u-c*p*g,this._y=c*p*u+f*h*g,this._z=c*h*g+f*p*u,this._w=c*h*u-f*p*g;break;case"ZYX":this._x=f*h*u-c*p*g,this._y=c*p*u+f*h*g,this._z=c*h*g-f*p*u,this._w=c*h*u+f*p*g;break;case"YZX":this._x=f*h*u+c*p*g,this._y=c*p*u+f*h*g,this._z=c*h*g-f*p*u,this._w=c*h*u-f*p*g;break;case"XZY":this._x=f*h*u-c*p*g,this._y=c*p*u-f*h*g,this._z=c*h*g+f*p*u,this._w=c*h*u+f*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const i=n/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,i=n[0],r=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],h=n[6],u=n[10],f=i+a+u;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(h-l)*p,this._y=(o-c)*p,this._z=(s-r)*p}else if(i>a&&i>u){const p=2*Math.sqrt(1+i-a-u);this._w=(h-l)/p,this._x=.25*p,this._y=(r+s)/p,this._z=(o+c)/p}else if(a>u){const p=2*Math.sqrt(1+a-i-u);this._w=(o-c)/p,this._x=(r+s)/p,this._y=.25*p,this._z=(l+h)/p}else{const p=2*Math.sqrt(1+u-i-a);this._w=(s-r)/p,this._x=(o+c)/p,this._y=(l+h)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Te.clamp(this.dot(t),-1,1)))}rotateTowards(t,n){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const i=t._x,r=t._y,o=t._z,s=t._w,a=n._x,l=n._y,c=n._z,h=n._w;return this._x=i*h+s*a+r*c-o*l,this._y=r*h+s*l+o*a-i*c,this._z=o*h+s*c+i*l-r*a,this._w=s*h-i*a-r*l-o*c,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const i=this._x,r=this._y,o=this._z,s=this._w;let a=s*t._w+i*t._x+r*t._y+o*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=i,this._y=r,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-n;return this._w=p*s+n*this._w,this._x=p*i+n*this._x,this._y=p*r+n*this._y,this._z=p*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),u=Math.sin((1-n)*h)/c,f=Math.sin(n*h)/c;return this._w=s*u+this._w*f,this._x=i*u+this._x*f,this._y=r*u+this._y*f,this._z=o*u+this._z*f,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class C{constructor(t=0,n=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(zm.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(zm.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*n+o[3]*i+o[6]*r,this.y=o[1]*n+o[4]*i+o[7]*r,this.z=o[2]*n+o[5]*i+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,o=t.elements,s=1/(o[3]*n+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*r+o[12])*s,this.y=(o[1]*n+o[5]*i+o[9]*r+o[13])*s,this.z=(o[2]*n+o[6]*i+o[10]*r+o[14])*s,this}applyQuaternion(t){const n=this.x,i=this.y,r=this.z,o=t.x,s=t.y,a=t.z,l=t.w,c=l*n+s*r-a*i,h=l*i+a*n-o*r,u=l*r+o*i-s*n,f=-o*n-s*i-a*r;return this.x=c*l+f*-o+h*-a-u*-s,this.y=h*l+f*-s+u*-o-c*-a,this.z=u*l+f*-a+c*-s-h*-o,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*n+o[4]*i+o[8]*r,this.y=o[1]*n+o[5]*i+o[9]*r,this.z=o[2]*n+o[6]*i+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)}crossVectors(t,n){const i=t.x,r=t.y,o=t.z,s=n.x,a=n.y,l=n.z;return this.x=r*l-o*a,this.y=o*s-i*l,this.z=i*a-r*s,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Nu.copy(this).projectOnVector(t),this.sub(Nu)}reflect(t){return this.sub(Nu.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(t)/n;return Math.acos(Te.clamp(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return n*n+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){const r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const Nu=new C,zm=new Yt;class ir{constructor(t,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=t!==void 0?t:new C(1/0,1/0,1/0),this.max=n!==void 0?n:new C(-1/0,-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,c=t.length;l<c;l+=3){const h=t[l],u=t[l+1],f=t[l+2];h<n&&(n=h),u<i&&(i=u),f<r&&(r=f),h>o&&(o=h),u>s&&(s=u),f>a&&(a=f)}return this.min.set(n,i,r),this.max.set(o,s,a),this}setFromBufferAttribute(t){let n=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,c=t.count;l<c;l++){const h=t.getX(l),u=t.getY(l),f=t.getZ(l);h<n&&(n=h),u<i&&(i=u),f<r&&(r=f),h>o&&(o=h),u>s&&(s=u),f>a&&(a=f)}return this.min.set(n,i,r),this.max.set(o,s,a),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=cs.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new C),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new C),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const n=t.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),Du.copy(n.boundingBox),Du.applyMatrix4(t.matrixWorld),this.union(Du));const i=t.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new C),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,cs),cs.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,i;return t.normal.x>0?(n=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),n<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(us),Ya.subVectors(this.max,us),Br.subVectors(t.a,us),zr.subVectors(t.b,us),Ur.subVectors(t.c,us),wi.subVectors(zr,Br),Mi.subVectors(Ur,zr),sr.subVectors(Br,Ur);let n=[0,-wi.z,wi.y,0,-Mi.z,Mi.y,0,-sr.z,sr.y,wi.z,0,-wi.x,Mi.z,0,-Mi.x,sr.z,0,-sr.x,-wi.y,wi.x,0,-Mi.y,Mi.x,0,-sr.y,sr.x,0];return!Iu(n,Br,zr,Ur,Ya)||(n=[1,0,0,0,1,0,0,0,1],!Iu(n,Br,zr,Ur,Ya))?!1:(Za.crossVectors(wi,Mi),n=[Za.x,Za.y,Za.z],Iu(n,Br,zr,Ur,Ya))}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new C),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return cs.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=this.getSize(cs).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Jn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Jn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Jn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Jn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Jn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Jn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Jn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Jn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Jn),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function Iu(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){ar.fromArray(e,o);const a=r.x*Math.abs(ar.x)+r.y*Math.abs(ar.y)+r.z*Math.abs(ar.z),l=t.dot(ar),c=n.dot(ar),h=i.dot(ar);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const Jn=[new C,new C,new C,new C,new C,new C,new C,new C],cs=new C,Du=new ir,Br=new C,zr=new C,Ur=new C,wi=new C,Mi=new C,sr=new C,us=new C,Ya=new C,Za=new C,ar=new C,TM=new ir;class rr{constructor(t,n){this.center=t!==void 0?t:new C,this.radius=n!==void 0?n:-1}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const i=this.center;n!==void 0?i.copy(n):TM.setFromPoints(t).getCenter(i);let r=0;for(let o=0,s=t.length;o<s;o++)r=Math.max(r,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const i=this.center.distanceToSquared(t);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new C),n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ir),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const Qn=new C,Ou=new C,$a=new C,Si=new C,Fu=new C,Ja=new C,ku=new C;class Ca{constructor(t,n){this.origin=t!==void 0?t:new C,this.direction=n!==void 0?n:new C(0,0,-1)}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new C),n.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Qn)),this}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new C),n.subVectors(t,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=Qn.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(Qn.copy(this.direction).multiplyScalar(n).add(this.origin),Qn.distanceToSquared(t))}distanceSqToSegment(t,n,i,r){Ou.copy(t).add(n).multiplyScalar(.5),$a.copy(n).sub(t).normalize(),Si.copy(this.origin).sub(Ou);const o=t.distanceTo(n)*.5,s=-this.direction.dot($a),a=Si.dot(this.direction),l=-Si.dot($a),c=Si.lengthSq(),h=Math.abs(1-s*s);let u,f,p,g;if(h>0)if(u=s*l-a,f=s*a-l,g=o*h,u>=0)if(f>=-g)if(f<=g){const v=1/h;u*=v,f*=v,p=u*(u+s*f+2*a)+f*(s*u+f+2*l)+c}else f=o,u=Math.max(0,-(s*f+a)),p=-u*u+f*(f+2*l)+c;else f=-o,u=Math.max(0,-(s*f+a)),p=-u*u+f*(f+2*l)+c;else f<=-g?(u=Math.max(0,-(-s*o+a)),f=u>0?-o:Math.min(Math.max(-o,-l),o),p=-u*u+f*(f+2*l)+c):f<=g?(u=0,f=Math.min(Math.max(-o,-l),o),p=f*(f+2*l)+c):(u=Math.max(0,-(s*o+a)),f=u>0?o:Math.min(Math.max(-o,-l),o),p=-u*u+f*(f+2*l)+c);else f=s>0?-o:o,u=Math.max(0,-(s*f+a)),p=-u*u+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy($a).multiplyScalar(f).add(Ou),p}intersectSphere(t,n){Qn.subVectors(t.center,this.origin);const i=Qn.dot(this.direction),r=Qn.dot(Qn)-i*i,o=t.radius*t.radius;if(r>o)return null;const s=Math.sqrt(o-r),a=i-s,l=i+s;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/n;return i>=0?i:null}intersectPlane(t,n){const i=this.distanceToPlane(t);return i===null?null:this.at(i,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let i,r,o,s,a,l;const c=1/this.direction.x,h=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(i=(t.min.x-f.x)*c,r=(t.max.x-f.x)*c):(i=(t.max.x-f.x)*c,r=(t.min.x-f.x)*c),h>=0?(o=(t.min.y-f.y)*h,s=(t.max.y-f.y)*h):(o=(t.max.y-f.y)*h,s=(t.min.y-f.y)*h),i>s||o>r||((o>i||i!==i)&&(i=o),(s<r||r!==r)&&(r=s),u>=0?(a=(t.min.z-f.z)*u,l=(t.max.z-f.z)*u):(a=(t.max.z-f.z)*u,l=(t.min.z-f.z)*u),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(t){return this.intersectBox(t,Qn)!==null}intersectTriangle(t,n,i,r,o){Fu.subVectors(n,t),Ja.subVectors(i,t),ku.crossVectors(Fu,Ja);let s=this.direction.dot(ku),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Si.subVectors(this.origin,t);const l=a*this.direction.dot(Ja.crossVectors(Si,Ja));if(l<0)return null;const c=a*this.direction.dot(Fu.cross(Si));if(c<0||l+c>s)return null;const h=-a*Si.dot(ku);return h<0?null:this.at(h/s,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class Ce{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,r,o,s,a,l,c,h,u,f,p,g,v,y){const m=this.elements;return m[0]=t,m[4]=n,m[8]=i,m[12]=r,m[1]=o,m[5]=s,m[9]=a,m[13]=l,m[2]=c,m[6]=h,m[10]=u,m[14]=f,m[3]=p,m[7]=g,m[11]=v,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ce().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){const n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,i=t.elements,r=1/Hr.setFromMatrixColumn(t,0).length(),o=1/Hr.setFromMatrixColumn(t,1).length(),s=1/Hr.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=t.x,r=t.y,o=t.z,s=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),h=Math.cos(o),u=Math.sin(o);if(t.order==="XYZ"){const f=s*h,p=s*u,g=a*h,v=a*u;n[0]=l*h,n[4]=-l*u,n[8]=c,n[1]=p+g*c,n[5]=f-v*c,n[9]=-a*l,n[2]=v-f*c,n[6]=g+p*c,n[10]=s*l}else if(t.order==="YXZ"){const f=l*h,p=l*u,g=c*h,v=c*u;n[0]=f+v*a,n[4]=g*a-p,n[8]=s*c,n[1]=s*u,n[5]=s*h,n[9]=-a,n[2]=p*a-g,n[6]=v+f*a,n[10]=s*l}else if(t.order==="ZXY"){const f=l*h,p=l*u,g=c*h,v=c*u;n[0]=f-v*a,n[4]=-s*u,n[8]=g+p*a,n[1]=p+g*a,n[5]=s*h,n[9]=v-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(t.order==="ZYX"){const f=s*h,p=s*u,g=a*h,v=a*u;n[0]=l*h,n[4]=g*c-p,n[8]=f*c+v,n[1]=l*u,n[5]=v*c+f,n[9]=p*c-g,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(t.order==="YZX"){const f=s*l,p=s*c,g=a*l,v=a*c;n[0]=l*h,n[4]=v-f*u,n[8]=g*u+p,n[1]=u,n[5]=s*h,n[9]=-a*h,n[2]=-c*h,n[6]=p*u+g,n[10]=f-v*u}else if(t.order==="XZY"){const f=s*l,p=s*c,g=a*l,v=a*c;n[0]=l*h,n[4]=-u,n[8]=c*h,n[1]=f*u+v,n[5]=s*h,n[9]=p*u-g,n[2]=g*u-p,n[6]=a*h,n[10]=v*u+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(CM,t,LM)}lookAt(t,n,i){const r=this.elements;return $t.subVectors(t,n),$t.lengthSq()===0&&($t.z=1),$t.normalize(),bi.crossVectors(i,$t),bi.lengthSq()===0&&(Math.abs(i.z)===1?$t.x+=1e-4:$t.z+=1e-4,$t.normalize(),bi.crossVectors(i,$t)),bi.normalize(),Qa.crossVectors($t,bi),r[0]=bi.x,r[4]=Qa.x,r[8]=$t.x,r[1]=bi.y,r[5]=Qa.y,r[9]=$t.y,r[2]=bi.z,r[6]=Qa.z,r[10]=$t.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,o=this.elements,s=i[0],a=i[4],l=i[8],c=i[12],h=i[1],u=i[5],f=i[9],p=i[13],g=i[2],v=i[6],y=i[10],m=i[14],d=i[3],x=i[7],w=i[11],M=i[15],_=r[0],E=r[4],P=r[8],I=r[12],U=r[1],R=r[5],z=r[9],k=r[13],N=r[2],A=r[6],B=r[10],q=r[14],O=r[3],V=r[7],j=r[11],J=r[15];return o[0]=s*_+a*U+l*N+c*O,o[4]=s*E+a*R+l*A+c*V,o[8]=s*P+a*z+l*B+c*j,o[12]=s*I+a*k+l*q+c*J,o[1]=h*_+u*U+f*N+p*O,o[5]=h*E+u*R+f*A+p*V,o[9]=h*P+u*z+f*B+p*j,o[13]=h*I+u*k+f*q+p*J,o[2]=g*_+v*U+y*N+m*O,o[6]=g*E+v*R+y*A+m*V,o[10]=g*P+v*z+y*B+m*j,o[14]=g*I+v*k+y*q+m*J,o[3]=d*_+x*U+w*N+M*O,o[7]=d*E+x*R+w*A+M*V,o[11]=d*P+x*z+w*B+M*j,o[15]=d*I+x*k+w*q+M*J,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[4],r=t[8],o=t[12],s=t[1],a=t[5],l=t[9],c=t[13],h=t[2],u=t[6],f=t[10],p=t[14],g=t[3],v=t[7],y=t[11],m=t[15];return g*(+o*l*u-r*c*u-o*a*f+i*c*f+r*a*p-i*l*p)+v*(+n*l*p-n*c*f+o*s*f-r*s*p+r*c*h-o*l*h)+y*(+n*c*u-n*a*p-o*s*u+i*s*p+o*a*h-i*c*h)+m*(-r*a*h-n*l*u+n*a*f+r*s*u-i*s*f+i*l*h)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=i),this}invert(){const t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],f=t[10],p=t[11],g=t[12],v=t[13],y=t[14],m=t[15],d=u*y*c-v*f*c+v*l*p-a*y*p-u*l*m+a*f*m,x=g*f*c-h*y*c-g*l*p+s*y*p+h*l*m-s*f*m,w=h*v*c-g*u*c+g*a*p-s*v*p-h*a*m+s*u*m,M=g*u*l-h*v*l-g*a*f+s*v*f+h*a*y-s*u*y,_=n*d+i*x+r*w+o*M;if(_===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/_;return t[0]=d*E,t[1]=(v*f*o-u*y*o-v*r*p+i*y*p+u*r*m-i*f*m)*E,t[2]=(a*y*o-v*l*o+v*r*c-i*y*c-a*r*m+i*l*m)*E,t[3]=(u*l*o-a*f*o-u*r*c+i*f*c+a*r*p-i*l*p)*E,t[4]=x*E,t[5]=(h*y*o-g*f*o+g*r*p-n*y*p-h*r*m+n*f*m)*E,t[6]=(g*l*o-s*y*o-g*r*c+n*y*c+s*r*m-n*l*m)*E,t[7]=(s*f*o-h*l*o+h*r*c-n*f*c-s*r*p+n*l*p)*E,t[8]=w*E,t[9]=(g*u*o-h*v*o-g*i*p+n*v*p+h*i*m-n*u*m)*E,t[10]=(s*v*o-g*a*o+g*i*c-n*v*c-s*i*m+n*a*m)*E,t[11]=(h*a*o-s*u*o-h*i*c+n*u*c+s*i*p-n*a*p)*E,t[12]=M*E,t[13]=(h*v*r-g*u*r+g*i*f-n*v*f-h*i*y+n*u*y)*E,t[14]=(g*a*r-s*v*r-g*i*l+n*v*l+s*i*y-n*a*y)*E,t[15]=(s*u*r-h*a*r+h*i*l-n*u*l-s*i*f+n*a*f)*E,this}scale(t){const n=this.elements,i=t.x,r=t.y,o=t.z;return n[0]*=i,n[4]*=r,n[8]*=o,n[1]*=i,n[5]*=r,n[9]*=o,n[2]*=i,n[6]*=r,n[10]*=o,n[3]*=i,n[7]*=r,n[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const i=Math.cos(n),r=Math.sin(n),o=1-i,s=t.x,a=t.y,l=t.z,c=o*s,h=o*a;return this.set(c*s+i,c*a-r*l,c*l+r*a,0,c*a+r*l,h*a+i,h*l-r*s,0,c*l-r*a,h*l+r*s,o*l*l+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i){return this.set(1,n,i,0,t,1,i,0,t,n,1,0,0,0,0,1),this}compose(t,n,i){const r=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,h=s+s,u=a+a,f=o*c,p=o*h,g=o*u,v=s*h,y=s*u,m=a*u,d=l*c,x=l*h,w=l*u,M=i.x,_=i.y,E=i.z;return r[0]=(1-(v+m))*M,r[1]=(p+w)*M,r[2]=(g-x)*M,r[3]=0,r[4]=(p-w)*_,r[5]=(1-(f+m))*_,r[6]=(y+d)*_,r[7]=0,r[8]=(g+x)*E,r[9]=(y-d)*E,r[10]=(1-(f+v))*E,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,i){const r=this.elements;let o=Hr.set(r[0],r[1],r[2]).length();const s=Hr.set(r[4],r[5],r[6]).length(),a=Hr.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],Mn.copy(this);const c=1/o,h=1/s,u=1/a;return Mn.elements[0]*=c,Mn.elements[1]*=c,Mn.elements[2]*=c,Mn.elements[4]*=h,Mn.elements[5]*=h,Mn.elements[6]*=h,Mn.elements[8]*=u,Mn.elements[9]*=u,Mn.elements[10]*=u,n.setFromRotationMatrix(Mn),i.x=o,i.y=s,i.z=a,this}makePerspective(t,n,i,r,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*o/(n-t),c=2*o/(i-r),h=(n+t)/(n-t),u=(i+r)/(i-r),f=-(s+o)/(s-o),p=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,n,i,r,o,s){const a=this.elements,l=1/(n-t),c=1/(i-r),h=1/(s-o),u=(n+t)*l,f=(i+r)*c,p=(s+o)*h;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n=0){for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}}const Hr=new C,Mn=new Ce,CM=new C(0,0,0),LM=new C(1,1,1),bi=new C,Qa=new C,$t=new C;class La{constructor(t=0,n=0,i=0,r=La.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._order=r||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n,i){const r=Te.clamp,o=t.elements,s=o[0],a=o[4],l=o[8],c=o[1],h=o[5],u=o[9],f=o[2],p=o[6],g=o[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,g),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,h),this._z=0);break;case"YXZ":this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,g),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,h),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,g));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,h),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-u,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return Um.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Um,n,i)}setFromVector3(t,n){return this.set(t.x,t.y,t.z,n||this._order)}reorder(t){return Hm.setFromEuler(this),this.setFromQuaternion(Hm,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new C(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}La.DefaultOrder="XYZ";La.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Um=new Ce,Hm=new Yt;class by{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}}let AM=0;const Vm=new C,Vr=new Yt,Kn=new Ce,Ka=new C,hs=new C,PM=new C,RM=new Yt,Gm=new C(1,0,0),Wm=new C(0,1,0),jm=new C(0,0,1),NM={type:"added"},Xm={type:"removed"};function ye(){Object.defineProperty(this,"id",{value:AM++}),this.uuid=Te.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ye.DefaultUp.clone();const e=new C,t=new La,n=new Yt,i=new C(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ce},normalMatrix:{value:new Wt}}),this.matrix=new Ce,this.matrixWorld=new Ce,this.matrixAutoUpdate=ye.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new by,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}ye.DefaultUp=new C(0,1,0);ye.DefaultMatrixAutoUpdate=!0;ye.prototype=Object.assign(Object.create(xi.prototype),{constructor:ye,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Vr.setFromAxisAngle(e,t),this.quaternion.multiply(Vr),this},rotateOnWorldAxis:function(e,t){return Vr.setFromAxisAngle(e,t),this.quaternion.premultiply(Vr),this},rotateX:function(e){return this.rotateOnAxis(Gm,e)},rotateY:function(e){return this.rotateOnAxis(Wm,e)},rotateZ:function(e){return this.rotateOnAxis(jm,e)},translateOnAxis:function(e,t){return Vm.copy(e).applyQuaternion(this.quaternion),this.position.add(Vm.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Gm,e)},translateY:function(e){return this.translateOnAxis(Wm,e)},translateZ:function(e){return this.translateOnAxis(jm,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Kn.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?Ka.copy(e):Ka.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),hs.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Kn.lookAt(hs,Ka,this.up):Kn.lookAt(Ka,hs,this.up),this.quaternion.setFromRotationMatrix(Kn),i&&(Kn.extractRotation(i.matrixWorld),Vr.setFromRotationMatrix(Kn),this.quaternion.premultiply(Vr.invert()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(NM)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Xm)),this},clear:function(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Xm)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),Kn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Kn.multiply(e.parent.matrixWorld)),e.applyMatrix4(Kn),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new C),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Yt),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hs,e,PM),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new C),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hs,RM,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new C),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function r(s,a){return s[a.uuid]===void 0&&(s[a.uuid]=a.toJSON(e)),a.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const a=s.shapes;if(Array.isArray(a))for(let l=0,c=a.length;l<c;l++){const h=a[l];r(e.shapes,h)}else r(e.shapes,a)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let a=0,l=this.material.length;a<l;a++)s.push(r(e.materials,this.material[a]));i.material=s}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const a=this.animations[s];i.animations.push(r(e.animations,a))}}if(t){const s=o(e.geometries),a=o(e.materials),l=o(e.textures),c=o(e.images),h=o(e.shapes),u=o(e.skeletons),f=o(e.animations);s.length>0&&(n.geometries=s),a.length>0&&(n.materials=a),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),h.length>0&&(n.shapes=h),u.length>0&&(n.skeletons=u),f.length>0&&(n.animations=f)}return n.object=i,n;function o(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});const Bu=new C,IM=new C,DM=new Wt;class ri{constructor(t,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=t!==void 0?t:new C(1,0,0),this.constant=n!==void 0?n:0}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,i,r){return this.normal.set(t,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,i){const r=Bu.subVectors(i,n).cross(IM.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}clone(){return new this.constructor().copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new C),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new C);const i=t.delta(Bu),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):void 0;const o=-(t.start.dot(this.normal)+this.constant)/r;if(!(o<0||o>1))return n.copy(i).multiplyScalar(o).add(t.start)}intersectsLine(t){const n=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return n<0&&i>0||i<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new C),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const i=n||DM.getNormalMatrix(t),r=this.coplanarPoint(Bu).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const Sn=new C,ei=new C,zu=new C,ti=new C,Gr=new C,Wr=new C,qm=new C,Uu=new C,Hu=new C,Vu=new C;class Pt{constructor(t,n,i){this.a=t!==void 0?t:new C,this.b=n!==void 0?n:new C,this.c=i!==void 0?i:new C}static getNormal(t,n,i,r){r===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new C),r.subVectors(i,n),Sn.subVectors(t,n),r.cross(Sn);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(t,n,i,r,o){Sn.subVectors(r,n),ei.subVectors(i,n),zu.subVectors(t,n);const s=Sn.dot(Sn),a=Sn.dot(ei),l=Sn.dot(zu),c=ei.dot(ei),h=ei.dot(zu),u=s*c-a*a;if(o===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),o=new C),u===0)return o.set(-2,-1,-1);const f=1/u,p=(c*l-a*h)*f,g=(s*h-a*l)*f;return o.set(1-p-g,g,p)}static containsPoint(t,n,i,r){return this.getBarycoord(t,n,i,r,ti),ti.x>=0&&ti.y>=0&&ti.x+ti.y<=1}static getUV(t,n,i,r,o,s,a,l){return this.getBarycoord(t,n,i,r,ti),l.set(0,0),l.addScaledVector(o,ti.x),l.addScaledVector(s,ti.y),l.addScaledVector(a,ti.z),l}static isFrontFacing(t,n,i,r){return Sn.subVectors(i,n),ei.subVectors(t,n),Sn.cross(ei).dot(r)<0}set(t,n,i){return this.a.copy(t),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(t,n,i,r){return this.a.copy(t[n]),this.b.copy(t[i]),this.c.copy(t[r]),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Sn.subVectors(this.c,this.b),ei.subVectors(this.a,this.b),Sn.cross(ei).length()*.5}getMidpoint(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new C),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Pt.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new ri),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return Pt.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,i,r,o){return Pt.getUV(t,this.a,this.b,this.c,n,i,r,o)}containsPoint(t){return Pt.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Pt.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new C);const i=this.a,r=this.b,o=this.c;let s,a;Gr.subVectors(r,i),Wr.subVectors(o,i),Uu.subVectors(t,i);const l=Gr.dot(Uu),c=Wr.dot(Uu);if(l<=0&&c<=0)return n.copy(i);Hu.subVectors(t,r);const h=Gr.dot(Hu),u=Wr.dot(Hu);if(h>=0&&u<=h)return n.copy(r);const f=l*u-h*c;if(f<=0&&l>=0&&h<=0)return s=l/(l-h),n.copy(i).addScaledVector(Gr,s);Vu.subVectors(t,o);const p=Gr.dot(Vu),g=Wr.dot(Vu);if(g>=0&&p<=g)return n.copy(o);const v=p*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(i).addScaledVector(Wr,a);const y=h*g-p*u;if(y<=0&&u-h>=0&&p-g>=0)return qm.subVectors(o,r),a=(u-h)/(u-h+(p-g)),n.copy(r).addScaledVector(qm,a);const m=1/(y+v+f);return s=v*m,a=f*m,n.copy(i).addScaledVector(Gr,s).addScaledVector(Wr,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const Ey={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bn={h:0,s:0,l:0},el={h:0,s:0,l:0};function Gu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function Wu(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function ju(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}class de{constructor(t,n,i){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&i===void 0?this.set(t):this.setRGB(t,n,i)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,this}setRGB(t,n,i){return this.r=t,this.g=n,this.b=i,this}setHSL(t,n,i){if(t=Te.euclideanModulo(t,1),n=Te.clamp(n,0,1),i=Te.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=Gu(o,r,t+1/3),this.g=Gu(o,r,t),this.b=Gu(o,r,t-1/3)}return this}setStyle(t){function n(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let r;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,n(r[4]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,n(r[4]),this;break;case"hsl":case"hsla":if(r=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return n(r[4]),this.setHSL(a,l,c)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=i[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const n=Ey[t];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,n=2){return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}copyLinearToGamma(t,n=2){const i=n>0?1/n:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=Wu(t.r),this.g=Wu(t.g),this.b=Wu(t.b),this}copyLinearToSRGB(t){return this.r=ju(t.r),this.g=ju(t.g),this.b=ju(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const n=this.r,i=this.g,r=this.b,o=Math.max(n,i,r),s=Math.min(n,i,r);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const h=o-s;switch(l=c<=.5?h/(o+s):h/(2-o-s),o){case n:a=(i-r)/h+(i<r?6:0);break;case i:a=(r-n)/h+2;break;case r:a=(n-i)/h+4;break}a/=6}return t.h=a,t.s=l,t.l=c,t}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(t,n,i){return this.getHSL(bn),bn.h+=t,bn.s+=n,bn.l+=i,this.setHSL(bn.h,bn.s,bn.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpHSL(t,n){this.getHSL(bn),t.getHSL(el);const i=Te.lerp(bn.h,el.h,n),r=Te.lerp(bn.s,el.s,n),o=Te.lerp(bn.l,el.l,n);return this.setHSL(i,r,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}de.NAMES=Ey;de.prototype.r=1;de.prototype.g=1;de.prototype.b=1;class lf{constructor(t,n,i,r,o,s=0){this.a=t,this.b=n,this.c=i,this.normal=r&&r.isVector3?r:new C,this.vertexNormals=Array.isArray(r)?r:[],this.color=o&&o.isColor?o:new de,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=s}clone(){return new this.constructor().copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let n=0,i=t.vertexNormals.length;n<i;n++)this.vertexNormals[n]=t.vertexNormals[n].clone();for(let n=0,i=t.vertexColors.length;n<i;n++)this.vertexColors[n]=t.vertexColors[n].clone();return this}}let OM=0;function xe(){Object.defineProperty(this,"id",{value:OM++}),this.uuid=Te.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Ds,this.side=Xc,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=xy,this.blendDst=_y,this.blendEquation=Kr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=of,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Pu,this.stencilZFail=Pu,this.stencilZPass=Pu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}xe.prototype=Object.assign(Object.create(xi.prototype),{constructor:xe,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===yy;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ds&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Xc&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const o=[];for(const s in r){const a=r[s];delete a.metadata,o.push(a)}return o}if(t){const r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(xe.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function fi(e){xe.call(this),this.type="MeshBasicMaterial",this.color=new de(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}fi.prototype=Object.create(xe.prototype);fi.prototype.constructor=fi;fi.prototype.isMeshBasicMaterial=!0;fi.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const qe=new C,tl=new X;function Me(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=$c,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Me.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Me.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new de),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new X),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new C),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Ge),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)tl.fromBufferAttribute(this,t),tl.applyMatrix3(e),this.setXY(t,tl.x,tl.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)qe.fromBufferAttribute(this,t),qe.applyMatrix3(e),this.setXYZ(t,qe.x,qe.y,qe.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)qe.x=this.getX(t),qe.y=this.getY(t),qe.z=this.getZ(t),qe.applyMatrix4(e),this.setXYZ(t,qe.x,qe.y,qe.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)qe.x=this.getX(t),qe.y=this.getY(t),qe.z=this.getZ(t),qe.applyNormalMatrix(e),this.setXYZ(t,qe.x,qe.y,qe.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)qe.x=this.getX(t),qe.y=this.getY(t),qe.z=this.getZ(t),qe.transformDirection(e),this.setXYZ(t,qe.x,qe.y,qe.z);return this},set:function(e,t=0){return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function cf(e,t,n){Me.call(this,new Int8Array(e),t,n)}cf.prototype=Object.create(Me.prototype);cf.prototype.constructor=cf;function uf(e,t,n){Me.call(this,new Uint8Array(e),t,n)}uf.prototype=Object.create(Me.prototype);uf.prototype.constructor=uf;function hf(e,t,n){Me.call(this,new Uint8ClampedArray(e),t,n)}hf.prototype=Object.create(Me.prototype);hf.prototype.constructor=hf;function ff(e,t,n){Me.call(this,new Int16Array(e),t,n)}ff.prototype=Object.create(Me.prototype);ff.prototype.constructor=ff;function aa(e,t,n){Me.call(this,new Uint16Array(e),t,n)}aa.prototype=Object.create(Me.prototype);aa.prototype.constructor=aa;function df(e,t,n){Me.call(this,new Int32Array(e),t,n)}df.prototype=Object.create(Me.prototype);df.prototype.constructor=df;function la(e,t,n){Me.call(this,new Uint32Array(e),t,n)}la.prototype=Object.create(Me.prototype);la.prototype.constructor=la;function yc(e,t,n){Me.call(this,new Uint16Array(e),t,n)}yc.prototype=Object.create(Me.prototype);yc.prototype.constructor=yc;yc.prototype.isFloat16BufferAttribute=!0;function ke(e,t,n){Me.call(this,new Float32Array(e),t,n)}ke.prototype=Object.create(Me.prototype);ke.prototype.constructor=ke;function pf(e,t,n){Me.call(this,new Float64Array(e),t,n)}pf.prototype=Object.create(Me.prototype);pf.prototype.constructor=pf;class FM{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const n=[];let i,r,o;const s=t.faces;for(r=0;r<s.length;r++){const a=s[r];a.materialIndex!==o&&(o=a.materialIndex,i!==void 0&&(i.count=r*3-i.start,n.push(i)),i={start:r*3,materialIndex:o})}i!==void 0&&(i.count=r*3-i.start,n.push(i)),this.groups=n}fromGeometry(t){const n=t.faces,i=t.vertices,r=t.faceVertexUvs,o=r[0]&&r[0].length>0,s=r[1]&&r[1].length>0,a=t.morphTargets,l=a.length;let c;if(l>0){c=[];for(let m=0;m<l;m++)c[m]={name:a[m].name,data:[]};this.morphTargets.position=c}const h=t.morphNormals,u=h.length;let f;if(u>0){f=[];for(let m=0;m<u;m++)f[m]={name:h[m].name,data:[]};this.morphTargets.normal=f}const p=t.skinIndices,g=t.skinWeights,v=p.length===i.length,y=g.length===i.length;i.length>0&&n.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let m=0;m<n.length;m++){const d=n[m];this.vertices.push(i[d.a],i[d.b],i[d.c]);const x=d.vertexNormals;if(x.length===3)this.normals.push(x[0],x[1],x[2]);else{const M=d.normal;this.normals.push(M,M,M)}const w=d.vertexColors;if(w.length===3)this.colors.push(w[0],w[1],w[2]);else{const M=d.color;this.colors.push(M,M,M)}if(o===!0){const M=r[0][m];M!==void 0?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",m),this.uvs.push(new X,new X,new X))}if(s===!0){const M=r[1][m];M!==void 0?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new X,new X,new X))}for(let M=0;M<l;M++){const _=a[M].vertices;c[M].data.push(_[d.a],_[d.b],_[d.c])}for(let M=0;M<u;M++){const _=h[M].vertexNormals[m];f[M].data.push(_.a,_.b,_.c)}v&&this.skinIndices.push(p[d.a],p[d.b],p[d.c]),y&&this.skinWeights.push(g[d.a],g[d.b],g[d.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this}}function Ty(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}const kM={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function nl(e,t){return new kM[e](t)}let BM=1;const Fn=new Ce,Xu=new ye,jr=new C,Jt=new ir,fs=new ir,gt=new C;function He(){Object.defineProperty(this,"id",{value:BM+=2}),this.uuid=Te.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}He.prototype=Object.assign(Object.create(xi.prototype),{constructor:He,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(Ty(e)>65535?la:aa)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return this.attributes[e]!==void 0},addGroup:function(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new Wt().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Fn.makeRotationX(e),this.applyMatrix4(Fn),this},rotateY:function(e){return Fn.makeRotationY(e),this.applyMatrix4(Fn),this},rotateZ:function(e){return Fn.makeRotationZ(e),this.applyMatrix4(Fn),this},translate:function(e,t,n){return Fn.makeTranslation(e,t,n),this.applyMatrix4(Fn),this},scale:function(e,t,n){return Fn.makeScale(e,t,n),this.applyMatrix4(Fn),this},lookAt:function(e){return Xu.lookAt(e),Xu.updateMatrix(),this.applyMatrix4(Xu.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(jr).negate(),this.translate(jr.x,jr.y,jr.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new ke(t.vertices.length*3,3),i=new ke(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const r=new ke(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new ke(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new FM().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Me(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Me(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new Me(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Me(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Me(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],r=e.morphTargets[n];for(let o=0,s=r.length;o<s;o++){const a=r[o],l=new ke(a.data.length*3,3);l.name=a.name,i.push(l.copyVector3sArray(a.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new ke(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new ke(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ir);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new C(-1/0,-1/0,-1/0),new C(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];Jt.setFromBufferAttribute(r),this.morphTargetsRelative?(gt.addVectors(this.boundingBox.min,Jt.min),this.boundingBox.expandByPoint(gt),gt.addVectors(this.boundingBox.max,Jt.max),this.boundingBox.expandByPoint(gt)):(this.boundingBox.expandByPoint(Jt.min),this.boundingBox.expandByPoint(Jt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new rr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new C,1/0);return}if(e){const n=this.boundingSphere.center;if(Jt.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const s=t[r];fs.setFromBufferAttribute(s),this.morphTargetsRelative?(gt.addVectors(Jt.min,fs.min),Jt.expandByPoint(gt),gt.addVectors(Jt.max,fs.max),Jt.expandByPoint(gt)):(Jt.expandByPoint(fs.min),Jt.expandByPoint(fs.max))}Jt.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)gt.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(gt));if(t)for(let r=0,o=t.length;r<o;r++){const s=t[r],a=this.morphTargetsRelative;for(let l=0,c=s.count;l<c;l++)gt.fromBufferAttribute(s,l),a&&(jr.fromBufferAttribute(e,l),gt.add(jr)),i=Math.max(i,n.distanceToSquared(gt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Me(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let u=0,f=n.count;u<f;u++)n.setXYZ(u,0,0,0);const i=new C,r=new C,o=new C,s=new C,a=new C,l=new C,c=new C,h=new C;if(e)for(let u=0,f=e.count;u<f;u+=3){const p=e.getX(u+0),g=e.getX(u+1),v=e.getX(u+2);i.fromBufferAttribute(t,p),r.fromBufferAttribute(t,g),o.fromBufferAttribute(t,v),c.subVectors(o,r),h.subVectors(i,r),c.cross(h),s.fromBufferAttribute(n,p),a.fromBufferAttribute(n,g),l.fromBufferAttribute(n,v),s.add(c),a.add(c),l.add(c),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(g,a.x,a.y,a.z),n.setXYZ(v,l.x,l.y,l.z)}else for(let u=0,f=t.count;u<f;u+=3)i.fromBufferAttribute(t,u+0),r.fromBufferAttribute(t,u+1),o.fromBufferAttribute(t,u+2),c.subVectors(o,r),h.subVectors(i,r),c.cross(h),n.setXYZ(u+0,c.x,c.y,c.z),n.setXYZ(u+1,c.x,c.y,c.z),n.setXYZ(u+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const o=n[i].array,s=e.attributes[i],a=s.array,l=s.itemSize*t,c=Math.min(a.length,o.length-l);for(let h=0,u=l;h<c;h++,u++)o[u]=a[h]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)gt.fromBufferAttribute(e,t),gt.normalize(),e.setXYZ(t,gt.x,gt.y,gt.z)},toNonIndexed:function(){function e(s,a){const l=s.array,c=s.itemSize,h=s.normalized,u=new l.constructor(a.length*c);let f=0,p=0;for(let g=0,v=a.length;g<v;g++){f=a[g]*c;for(let y=0;y<c;y++)u[p++]=l[f++]}return new Me(u,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new He,n=this.index.array,i=this.attributes;for(const s in i){const a=i[s],l=e(a,n);t.setAttribute(s,l)}const r=this.morphAttributes;for(const s in r){const a=[],l=r[s];for(let c=0,h=l.length;c<h;c++){const u=l[c],f=e(u,n);a.push(f)}t.morphAttributes[s]=a}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const l=o[s];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const a=this.parameters;for(const l in a)a[l]!==void 0&&(e[l]=a[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const l=n[a],c=l.toJSON(e.data);l.name!==""&&(c.name=l.name),e.data.attributes[a]=c}const i={};let r=!1;for(const a in this.morphAttributes){const l=this.morphAttributes[a],c=[];for(let h=0,u=l.length;h<u;h++){const f=l[h],p=f.toJSON(e.data);f.name!==""&&(p.name=f.name),c.push(p)}c.length>0&&(i[a]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e},clone:function(){return new He().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const c=i[l];this.setAttribute(l,c.clone(t))}const r=e.morphAttributes;for(const l in r){const c=[],h=r[l];for(let u=0,f=h.length;u<f;u++)c.push(h[u].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const h=o[l];this.addGroup(h.start,h.count,h.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const a=e.boundingSphere;return a!==null&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Ym=new Ce,lr=new Ca,qu=new rr,Ei=new C,Ti=new C,Ci=new C,Yu=new C,Zu=new C,$u=new C,il=new C,rl=new C,ol=new C,mo=new X,go=new X,vo=new X,ks=new C,sl=new C;function _t(e=new He,t=new fi){ye.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}_t.prototype=Object.assign(Object.create(ye.prototype),{constructor:_t,isMesh:!0,copy:function(e){return ye.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),qu.copy(n.boundingSphere),qu.applyMatrix4(r),e.ray.intersectsSphere(qu)===!1)||(Ym.copy(r).invert(),lr.copy(e.ray).applyMatrix4(Ym),n.boundingBox!==null&&lr.intersectsBox(n.boundingBox)===!1))return;let o;if(n.isBufferGeometry){const s=n.index,a=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,h=n.attributes.uv,u=n.attributes.uv2,f=n.groups,p=n.drawRange;if(s!==null)if(Array.isArray(i))for(let g=0,v=f.length;g<v;g++){const y=f[g],m=i[y.materialIndex],d=Math.max(y.start,p.start),x=Math.min(y.start+y.count,p.start+p.count);for(let w=d,M=x;w<M;w+=3){const _=s.getX(w),E=s.getX(w+1),P=s.getX(w+2);o=al(this,m,e,lr,a,l,c,h,u,_,E,P),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),v=Math.min(s.count,p.start+p.count);for(let y=g,m=v;y<m;y+=3){const d=s.getX(y),x=s.getX(y+1),w=s.getX(y+2);o=al(this,i,e,lr,a,l,c,h,u,d,x,w),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(a!==void 0)if(Array.isArray(i))for(let g=0,v=f.length;g<v;g++){const y=f[g],m=i[y.materialIndex],d=Math.max(y.start,p.start),x=Math.min(y.start+y.count,p.start+p.count);for(let w=d,M=x;w<M;w+=3){const _=w,E=w+1,P=w+2;o=al(this,m,e,lr,a,l,c,h,u,_,E,P),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let y=g,m=v;y<m;y+=3){const d=y,x=y+1,w=y+2;o=al(this,i,e,lr,a,l,c,h,u,d,x,w),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}else if(n.isGeometry){const s=Array.isArray(i),a=n.vertices,l=n.faces;let c;const h=n.faceVertexUvs[0];h.length>0&&(c=h);for(let u=0,f=l.length;u<f;u++){const p=l[u],g=s?i[p.materialIndex]:i;if(g===void 0)continue;const v=a[p.a],y=a[p.b],m=a[p.c];if(o=Cy(this,g,e,lr,v,y,m,ks),o){if(c&&c[u]){const d=c[u];mo.copy(d[0]),go.copy(d[1]),vo.copy(d[2]),o.uv=Pt.getUV(ks,v,y,m,mo,go,vo,new X)}o.face=p,o.faceIndex=u,t.push(o)}}}}});function Cy(e,t,n,i,r,o,s,a){let l;if(t.side===St?l=i.intersectTriangle(s,o,r,!0,a):l=i.intersectTriangle(r,o,s,t.side!==qc,a),l===null)return null;sl.copy(a),sl.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(sl);return c<n.near||c>n.far?null:{distance:c,point:sl.clone(),object:e}}function al(e,t,n,i,r,o,s,a,l,c,h,u){Ei.fromBufferAttribute(r,c),Ti.fromBufferAttribute(r,h),Ci.fromBufferAttribute(r,u);const f=e.morphTargetInfluences;if(t.morphTargets&&o&&f){il.set(0,0,0),rl.set(0,0,0),ol.set(0,0,0);for(let g=0,v=o.length;g<v;g++){const y=f[g],m=o[g];y!==0&&(Yu.fromBufferAttribute(m,c),Zu.fromBufferAttribute(m,h),$u.fromBufferAttribute(m,u),s?(il.addScaledVector(Yu,y),rl.addScaledVector(Zu,y),ol.addScaledVector($u,y)):(il.addScaledVector(Yu.sub(Ei),y),rl.addScaledVector(Zu.sub(Ti),y),ol.addScaledVector($u.sub(Ci),y)))}Ei.add(il),Ti.add(rl),Ci.add(ol)}e.isSkinnedMesh&&(e.boneTransform(c,Ei),e.boneTransform(h,Ti),e.boneTransform(u,Ci));const p=Cy(e,t,n,i,Ei,Ti,Ci,ks);if(p){a&&(mo.fromBufferAttribute(a,c),go.fromBufferAttribute(a,h),vo.fromBufferAttribute(a,u),p.uv=Pt.getUV(ks,Ei,Ti,Ci,mo,go,vo,new X)),l&&(mo.fromBufferAttribute(l,c),go.fromBufferAttribute(l,h),vo.fromBufferAttribute(l,u),p.uv2=Pt.getUV(ks,Ei,Ti,Ci,mo,go,vo,new X));const g=new lf(c,h,u);Pt.getNormal(Ei,Ti,Ci,g.normal),p.face=g}return p}class Ly extends He{constructor(t=1,n=1,i=1,r=1,o=1,s=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],h=[],u=[];let f=0,p=0;g("z","y","x",-1,-1,i,n,t,s,o,0),g("z","y","x",1,-1,i,n,-t,s,o,1),g("x","z","y",1,1,t,i,n,r,s,2),g("x","z","y",1,-1,t,i,-n,r,s,3),g("x","y","z",1,-1,t,n,i,r,o,4),g("x","y","z",-1,-1,t,n,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new ke(c,3)),this.setAttribute("normal",new ke(h,3)),this.setAttribute("uv",new ke(u,2));function g(v,y,m,d,x,w,M,_,E,P,I){const U=w/E,R=M/P,z=w/2,k=M/2,N=_/2,A=E+1,B=P+1;let q=0,O=0;const V=new C;for(let j=0;j<B;j++){const J=j*R-k;for(let ce=0;ce<A;ce++){const we=ce*U-z;V[v]=we*d,V[y]=J*x,V[m]=N,c.push(V.x,V.y,V.z),V[v]=0,V[y]=0,V[m]=_>0?1:-1,h.push(V.x,V.y,V.z),u.push(ce/E),u.push(1-j/P),q+=1}}for(let j=0;j<P;j++)for(let J=0;J<E;J++){const ce=f+J+A*j,we=f+J+A*(j+1),ze=f+(J+1)+A*(j+1),W=f+(J+1)+A*j;l.push(ce,we,W),l.push(we,ze,W),O+=6}a.addGroup(p,O,I),p+=O,f+=q}}}function Do(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Lt(e){const t={};for(let n=0;n<e.length;n++){const i=Do(e[n]);for(const r in i)t[r]=i[r]}return t}const zM={clone:Do,merge:Lt};var UM=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,HM=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Zt(e){xe.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=UM,this.fragmentShader=HM,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Zt.prototype=Object.create(xe.prototype);Zt.prototype.constructor=Zt;Zt.prototype.isShaderMaterial=!0;Zt.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Do(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this};Zt.prototype.toJSON=function(e){const t=xe.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function Ji(){ye.call(this),this.type="Camera",this.matrixWorldInverse=new Ce,this.projectionMatrix=new Ce,this.projectionMatrixInverse=new Ce}Ji.prototype=Object.assign(Object.create(ye.prototype),{constructor:Ji,isCamera:!0,copy:function(e,t){return ye.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new C),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){ye.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){ye.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return new this.constructor().copy(this)}});function yt(e=50,t=1,n=.1,i=2e3){Ji.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}yt.prototype=Object.assign(Object.create(Ji.prototype),{constructor:yt,isPerspectiveCamera:!0,copy:function(e,t){return Ji.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=Te.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(Te.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return Te.RAD2DEG*2*Math.atan(Math.tan(Te.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(Te.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const a=o.fullWidth,l=o.fullHeight;r+=o.offsetX*i/a,t-=o.offsetY*n/l,i*=o.width/a,n*=o.height/l}const s=this.filmOffset;s!==0&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=ye.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const Xr=90,qr=1;function Oo(e,t,n){if(ye.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new yt(Xr,qr,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new C(1,0,0)),this.add(i);const r=new yt(Xr,qr,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new C(-1,0,0)),this.add(r);const o=new yt(Xr,qr,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new C(0,1,0)),this.add(o);const s=new yt(Xr,qr,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new C(0,-1,0)),this.add(s);const a=new yt(Xr,qr,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new C(0,0,1)),this.add(a);const l=new yt(Xr,qr,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new C(0,0,-1)),this.add(l),this.update=function(c,h){this.parent===null&&this.updateMatrixWorld();const u=c.xr.enabled,f=c.getRenderTarget();c.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,c.setRenderTarget(n,0),c.render(h,i),c.setRenderTarget(n,1),c.render(h,r),c.setRenderTarget(n,2),c.render(h,o),c.setRenderTarget(n,3),c.render(h,s),c.setRenderTarget(n,4),c.render(h,a),n.texture.generateMipmaps=p,c.setRenderTarget(n,5),c.render(h,l),c.setRenderTarget(f),c.xr.enabled=u}}Oo.prototype=Object.create(ye.prototype);Oo.prototype.constructor=Oo;function Qi(e,t,n,i,r,o,s,a,l,c){e=e!==void 0?e:[],t=t!==void 0?t:Bd,s=s!==void 0?s:yr,Ze.call(this,e,t,n,i,r,o,s,a,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}Qi.prototype=Object.create(Ze.prototype);Qi.prototype.constructor=Qi;Qi.prototype.isCubeTexture=!0;Object.defineProperty(Qi.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function br(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),In.call(this,e,e,t),t=t||{},this.texture=new Qi(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}br.prototype=Object.create(In.prototype);br.prototype.constructor=br;br.prototype.isWebGLCubeRenderTarget=!0;br.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Nn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},i=new Ly(5,5,5),r=new Zt({name:"CubemapFromEquirect",uniforms:Do(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:St,blending:Is});r.uniforms.tEquirect.value=t;const o=new _t(i,r),s=t.minFilter;return t.minFilter===Zc&&(t.minFilter=Rt),new Oo(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this};br.prototype.clear=function(e,t,n,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)};function Fo(e,t,n,i,r,o,s,a,l,c,h,u){Ze.call(this,null,o,s,a,l,c,i,r,h,u),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=l!==void 0?l:Ot,this.minFilter=c!==void 0?c:Ot,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Fo.prototype=Object.create(Ze.prototype);Fo.prototype.constructor=Fo;Fo.prototype.isDataTexture=!0;const Yr=new rr,ll=new C;class Jc{constructor(t,n,i,r,o,s){this.planes=[t!==void 0?t:new ri,n!==void 0?n:new ri,i!==void 0?i:new ri,r!==void 0?r:new ri,o!==void 0?o:new ri,s!==void 0?s:new ri]}set(t,n,i,r,o,s){const a=this.planes;return a[0].copy(t),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}clone(){return new this.constructor().copy(this)}copy(t){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const n=this.planes,i=t.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],c=i[5],h=i[6],u=i[7],f=i[8],p=i[9],g=i[10],v=i[11],y=i[12],m=i[13],d=i[14],x=i[15];return n[0].setComponents(a-r,u-l,v-f,x-y).normalize(),n[1].setComponents(a+r,u+l,v+f,x+y).normalize(),n[2].setComponents(a+o,u+c,v+p,x+m).normalize(),n[3].setComponents(a-o,u-c,v-p,x-m).normalize(),n[4].setComponents(a-s,u-h,v-g,x-d).normalize(),n[5].setComponents(a+s,u+h,v+g,x+d).normalize(),this}intersectsObject(t){const n=t.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Yr.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Yr)}intersectsSprite(t){return Yr.center.set(0,0,0),Yr.radius=.7071067811865476,Yr.applyMatrix4(t.matrixWorld),this.intersectsSphere(Yr)}intersectsSphere(t){const n=this.planes,i=t.center,r=-t.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(ll.x=r.normal.x>0?t.max.x:t.min.x,ll.y=r.normal.y>0?t.max.y:t.min.y,ll.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(ll)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(t)<0)return!1;return!0}}function Ay(){let e=null,t=!1,n=null,i=null;function r(o,s){n(o,s),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function VM(e,t){const n=t.isWebGL2,i=new WeakMap;function r(c,h){const u=c.array,f=c.usage,p=e.createBuffer();e.bindBuffer(h,p),e.bufferData(h,u,f),c.onUploadCallback();let g=5126;return u instanceof Float32Array?g=5126:u instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):u instanceof Uint16Array?c.isFloat16BufferAttribute?n?g=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):g=5123:u instanceof Int16Array?g=5122:u instanceof Uint32Array?g=5125:u instanceof Int32Array?g=5124:u instanceof Int8Array?g=5120:u instanceof Uint8Array&&(g=5121),{buffer:p,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function o(c,h,u){const f=h.array,p=h.updateRange;e.bindBuffer(u,c),p.count===-1?e.bufferSubData(u,0,f):(n?e.bufferSubData(u,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):e.bufferSubData(u,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h&&(e.deleteBuffer(h.buffer),i.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u===void 0?i.set(c,r(c,h)):u.version<c.version&&(o(u.buffer,c,h),u.version=c.version)}return{get:s,remove:a,update:l}}class GM extends He{constructor(t=1,n=1,i=1,r=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:r};const o=t/2,s=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,h=l+1,u=t/a,f=n/l,p=[],g=[],v=[],y=[];for(let m=0;m<h;m++){const d=m*f-s;for(let x=0;x<c;x++){const w=x*u-o;g.push(w,-d,0),v.push(0,0,1),y.push(x/a),y.push(1-m/l)}}for(let m=0;m<l;m++)for(let d=0;d<a;d++){const x=d+c*m,w=d+c*(m+1),M=d+1+c*(m+1),_=d+1+c*m;p.push(x,w,_),p.push(w,M,_)}this.setIndex(p),this.setAttribute("position",new ke(g,3)),this.setAttribute("normal",new ke(v,3)),this.setAttribute("uv",new ke(y,2))}}var WM=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,jM=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,XM=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,qM=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,YM=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ZM="vec3 transformed = vec3( position );",$M=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,JM=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,QM=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,KM=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,eS=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,tS=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,nS=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iS=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,rS=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,oS=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,sS=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,aS=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,lS=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cS=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,uS=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,hS=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,fS=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,dS=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,pS="gl_FragColor = linearToOutputTexel( gl_FragColor );",mS=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,gS=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,vS=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,yS=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xS=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_S=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,wS=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,MS=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,SS=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bS=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ES=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,TS=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,CS=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,LS=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,AS=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,PS=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,RS=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,NS=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,IS=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,DS=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,OS=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,FS=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,kS=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,BS=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,zS=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,US=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,HS=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VS=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,GS=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,WS=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,jS=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,XS=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,qS=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YS=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ZS=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,$S=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,JS=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,QS=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,KS=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,e3=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,t3=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,n3=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,i3=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,r3=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,o3=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,s3=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,a3=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,l3=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,c3=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,u3=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,h3=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,f3=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,d3=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,p3=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,m3=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,g3=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,v3=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,y3=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,x3=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_3=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,w3=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,M3=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,S3=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,b3=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,E3=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,T3=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,C3=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,L3=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,A3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,P3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,R3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,N3=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,I3=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,D3=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,O3=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,F3=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,k3=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,B3=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,z3=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,U3=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,H3=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,V3=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,G3=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,W3=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,j3=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,X3=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,q3=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Y3=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Z3=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$3=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,J3=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q3=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K3=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eb=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tb=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nb=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ib=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,rb=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ob=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sb=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ab=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,lb=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cb=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ub=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Re={alphamap_fragment:WM,alphamap_pars_fragment:jM,alphatest_fragment:XM,aomap_fragment:qM,aomap_pars_fragment:YM,begin_vertex:ZM,beginnormal_vertex:$M,bsdfs:JM,bumpmap_pars_fragment:QM,clipping_planes_fragment:KM,clipping_planes_pars_fragment:eS,clipping_planes_pars_vertex:tS,clipping_planes_vertex:nS,color_fragment:iS,color_pars_fragment:rS,color_pars_vertex:oS,color_vertex:sS,common:aS,cube_uv_reflection_fragment:lS,defaultnormal_vertex:cS,displacementmap_pars_vertex:uS,displacementmap_vertex:hS,emissivemap_fragment:fS,emissivemap_pars_fragment:dS,encodings_fragment:pS,encodings_pars_fragment:mS,envmap_fragment:gS,envmap_common_pars_fragment:vS,envmap_pars_fragment:yS,envmap_pars_vertex:xS,envmap_physical_pars_fragment:PS,envmap_vertex:_S,fog_vertex:wS,fog_pars_vertex:MS,fog_fragment:SS,fog_pars_fragment:bS,gradientmap_pars_fragment:ES,lightmap_fragment:TS,lightmap_pars_fragment:CS,lights_lambert_vertex:LS,lights_pars_begin:AS,lights_toon_fragment:RS,lights_toon_pars_fragment:NS,lights_phong_fragment:IS,lights_phong_pars_fragment:DS,lights_physical_fragment:OS,lights_physical_pars_fragment:FS,lights_fragment_begin:kS,lights_fragment_maps:BS,lights_fragment_end:zS,logdepthbuf_fragment:US,logdepthbuf_pars_fragment:HS,logdepthbuf_pars_vertex:VS,logdepthbuf_vertex:GS,map_fragment:WS,map_pars_fragment:jS,map_particle_fragment:XS,map_particle_pars_fragment:qS,metalnessmap_fragment:YS,metalnessmap_pars_fragment:ZS,morphnormal_vertex:$S,morphtarget_pars_vertex:JS,morphtarget_vertex:QS,normal_fragment_begin:KS,normal_fragment_maps:e3,normalmap_pars_fragment:t3,clearcoat_normal_fragment_begin:n3,clearcoat_normal_fragment_maps:i3,clearcoat_pars_fragment:r3,packing:o3,premultiplied_alpha_fragment:s3,project_vertex:a3,dithering_fragment:l3,dithering_pars_fragment:c3,roughnessmap_fragment:u3,roughnessmap_pars_fragment:h3,shadowmap_pars_fragment:f3,shadowmap_pars_vertex:d3,shadowmap_vertex:p3,shadowmask_pars_fragment:m3,skinbase_vertex:g3,skinning_pars_vertex:v3,skinning_vertex:y3,skinnormal_vertex:x3,specularmap_fragment:_3,specularmap_pars_fragment:w3,tonemapping_fragment:M3,tonemapping_pars_fragment:S3,transmissionmap_fragment:b3,transmissionmap_pars_fragment:E3,uv_pars_fragment:T3,uv_pars_vertex:C3,uv_vertex:L3,uv2_pars_fragment:A3,uv2_pars_vertex:P3,uv2_vertex:R3,worldpos_vertex:N3,background_frag:I3,background_vert:D3,cube_frag:O3,cube_vert:F3,depth_frag:k3,depth_vert:B3,distanceRGBA_frag:z3,distanceRGBA_vert:U3,equirect_frag:H3,equirect_vert:V3,linedashed_frag:G3,linedashed_vert:W3,meshbasic_frag:j3,meshbasic_vert:X3,meshlambert_frag:q3,meshlambert_vert:Y3,meshmatcap_frag:Z3,meshmatcap_vert:$3,meshtoon_frag:J3,meshtoon_vert:Q3,meshphong_frag:K3,meshphong_vert:eb,meshphysical_frag:tb,meshphysical_vert:nb,normal_frag:ib,normal_vert:rb,points_frag:ob,points_vert:sb,shadow_frag:ab,shadow_vert:lb,sprite_frag:cb,sprite_vert:ub},ie={common:{diffuse:{value:new de(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Wt},uv2Transform:{value:new Wt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new X(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new de(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new de(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Wt}},sprite:{diffuse:{value:new de(15658734)},opacity:{value:1},center:{value:new X(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Wt}}},zn={basic:{uniforms:Lt([ie.common,ie.specularmap,ie.envmap,ie.aomap,ie.lightmap,ie.fog]),vertexShader:Re.meshbasic_vert,fragmentShader:Re.meshbasic_frag},lambert:{uniforms:Lt([ie.common,ie.specularmap,ie.envmap,ie.aomap,ie.lightmap,ie.emissivemap,ie.fog,ie.lights,{emissive:{value:new de(0)}}]),vertexShader:Re.meshlambert_vert,fragmentShader:Re.meshlambert_frag},phong:{uniforms:Lt([ie.common,ie.specularmap,ie.envmap,ie.aomap,ie.lightmap,ie.emissivemap,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.fog,ie.lights,{emissive:{value:new de(0)},specular:{value:new de(1118481)},shininess:{value:30}}]),vertexShader:Re.meshphong_vert,fragmentShader:Re.meshphong_frag},standard:{uniforms:Lt([ie.common,ie.envmap,ie.aomap,ie.lightmap,ie.emissivemap,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.roughnessmap,ie.metalnessmap,ie.fog,ie.lights,{emissive:{value:new de(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Re.meshphysical_vert,fragmentShader:Re.meshphysical_frag},toon:{uniforms:Lt([ie.common,ie.aomap,ie.lightmap,ie.emissivemap,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.gradientmap,ie.fog,ie.lights,{emissive:{value:new de(0)}}]),vertexShader:Re.meshtoon_vert,fragmentShader:Re.meshtoon_frag},matcap:{uniforms:Lt([ie.common,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.fog,{matcap:{value:null}}]),vertexShader:Re.meshmatcap_vert,fragmentShader:Re.meshmatcap_frag},points:{uniforms:Lt([ie.points,ie.fog]),vertexShader:Re.points_vert,fragmentShader:Re.points_frag},dashed:{uniforms:Lt([ie.common,ie.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Re.linedashed_vert,fragmentShader:Re.linedashed_frag},depth:{uniforms:Lt([ie.common,ie.displacementmap]),vertexShader:Re.depth_vert,fragmentShader:Re.depth_frag},normal:{uniforms:Lt([ie.common,ie.bumpmap,ie.normalmap,ie.displacementmap,{opacity:{value:1}}]),vertexShader:Re.normal_vert,fragmentShader:Re.normal_frag},sprite:{uniforms:Lt([ie.sprite,ie.fog]),vertexShader:Re.sprite_vert,fragmentShader:Re.sprite_frag},background:{uniforms:{uvTransform:{value:new Wt},t2D:{value:null}},vertexShader:Re.background_vert,fragmentShader:Re.background_frag},cube:{uniforms:Lt([ie.envmap,{opacity:{value:1}}]),vertexShader:Re.cube_vert,fragmentShader:Re.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Re.equirect_vert,fragmentShader:Re.equirect_frag},distanceRGBA:{uniforms:Lt([ie.common,ie.displacementmap,{referencePosition:{value:new C},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Re.distanceRGBA_vert,fragmentShader:Re.distanceRGBA_frag},shadow:{uniforms:Lt([ie.lights,ie.fog,{color:{value:new de(0)},opacity:{value:1}}]),vertexShader:Re.shadow_vert,fragmentShader:Re.shadow_frag}};zn.physical={uniforms:Lt([zn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new X(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new de(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Re.meshphysical_vert,fragmentShader:Re.meshphysical_frag};function hb(e,t,n,i,r){const o=new de(0);let s=0,a,l,c=null,h=0,u=null;function f(g,v,y,m){let d=v.isScene===!0?v.background:null;d&&d.isTexture&&(d=t.get(d));const x=e.xr,w=x.getSession&&x.getSession();w&&w.environmentBlendMode==="additive"&&(d=null),d===null?p(o,s):d&&d.isColor&&(p(d,1),m=!0),(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLCubeRenderTarget||d.mapping===Ud)?(l===void 0&&(l=new _t(new Ly(1,1,1),new Zt({name:"BackgroundCubeMaterial",uniforms:Do(zn.cube.uniforms),vertexShader:zn.cube.vertexShader,fragmentShader:zn.cube.fragmentShader,side:St,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(M,_,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),d.isWebGLCubeRenderTarget&&(d=d.texture),l.material.uniforms.envMap.value=d,l.material.uniforms.flipEnvMap.value=d.isCubeTexture&&d._needsFlipEnvMap?-1:1,(c!==d||h!==d.version||u!==e.toneMapping)&&(l.material.needsUpdate=!0,c=d,h=d.version,u=e.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null)):d&&d.isTexture&&(a===void 0&&(a=new _t(new GM(2,2),new Zt({name:"BackgroundMaterial",uniforms:Do(zn.background.uniforms),vertexShader:zn.background.vertexShader,fragmentShader:zn.background.fragmentShader,side:Xc,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=d,d.matrixAutoUpdate===!0&&d.updateMatrix(),a.material.uniforms.uvTransform.value.copy(d.matrix),(c!==d||h!==d.version||u!==e.toneMapping)&&(a.material.needsUpdate=!0,c=d,h=d.version,u=e.toneMapping),g.unshift(a,a.geometry,a.material,0,0,null))}function p(g,v){n.buffers.color.setClear(g.r,g.g,g.b,v,r)}return{getClearColor:function(){return o},setClearColor:function(g,v=1){o.set(g),s=v,p(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(g){s=g,p(o,s)},render:f}}function fb(e,t,n,i){const r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||o!==null,a={},l=v(null);let c=l;function h(k,N,A,B,q){let O=!1;if(s){const V=g(B,A,N);c!==V&&(c=V,f(c.object)),O=y(B,q),O&&m(B,q)}else{const V=N.wireframe===!0;(c.geometry!==B.id||c.program!==A.id||c.wireframe!==V)&&(c.geometry=B.id,c.program=A.id,c.wireframe=V,O=!0)}k.isInstancedMesh===!0&&(O=!0),q!==null&&n.update(q,34963),O&&(E(k,N,A,B),q!==null&&e.bindBuffer(34963,n.get(q).buffer))}function u(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function f(k){return i.isWebGL2?e.bindVertexArray(k):o.bindVertexArrayOES(k)}function p(k){return i.isWebGL2?e.deleteVertexArray(k):o.deleteVertexArrayOES(k)}function g(k,N,A){const B=A.wireframe===!0;let q=a[k.id];q===void 0&&(q={},a[k.id]=q);let O=q[N.id];O===void 0&&(O={},q[N.id]=O);let V=O[B];return V===void 0&&(V=v(u()),O[B]=V),V}function v(k){const N=[],A=[],B=[];for(let q=0;q<r;q++)N[q]=0,A[q]=0,B[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:A,attributeDivisors:B,object:k,attributes:{},index:null}}function y(k,N){const A=c.attributes,B=k.attributes;let q=0;for(const O in B){const V=A[O],j=B[O];if(V===void 0||V.attribute!==j||V.data!==j.data)return!0;q++}return c.attributesNum!==q||c.index!==N}function m(k,N){const A={},B=k.attributes;let q=0;for(const O in B){const V=B[O],j={};j.attribute=V,V.data&&(j.data=V.data),A[O]=j,q++}c.attributes=A,c.attributesNum=q,c.index=N}function d(){const k=c.newAttributes;for(let N=0,A=k.length;N<A;N++)k[N]=0}function x(k){w(k,0)}function w(k,N){const A=c.newAttributes,B=c.enabledAttributes,q=c.attributeDivisors;A[k]=1,B[k]===0&&(e.enableVertexAttribArray(k),B[k]=1),q[k]!==N&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,N),q[k]=N)}function M(){const k=c.newAttributes,N=c.enabledAttributes;for(let A=0,B=N.length;A<B;A++)N[A]!==k[A]&&(e.disableVertexAttribArray(A),N[A]=0)}function _(k,N,A,B,q,O){i.isWebGL2===!0&&(A===5124||A===5125)?e.vertexAttribIPointer(k,N,A,q,O):e.vertexAttribPointer(k,N,A,B,q,O)}function E(k,N,A,B){if(i.isWebGL2===!1&&(k.isInstancedMesh||B.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;d();const q=B.attributes,O=A.getAttributes(),V=N.defaultAttributeValues;for(const j in O){const J=O[j];if(J>=0){const ce=q[j];if(ce!==void 0){const we=ce.normalized,ze=ce.itemSize,W=n.get(ce);if(W===void 0)continue;const Ke=W.buffer,pe=W.type,Fe=W.bytesPerElement;if(ce.isInterleavedBufferAttribute){const Se=ce.data,Ue=Se.stride,Pe=ce.offset;Se&&Se.isInstancedInterleavedBuffer?(w(J,Se.meshPerAttribute),B._maxInstanceCount===void 0&&(B._maxInstanceCount=Se.meshPerAttribute*Se.count)):x(J),e.bindBuffer(34962,Ke),_(J,ze,pe,we,Ue*Fe,Pe*Fe)}else ce.isInstancedBufferAttribute?(w(J,ce.meshPerAttribute),B._maxInstanceCount===void 0&&(B._maxInstanceCount=ce.meshPerAttribute*ce.count)):x(J),e.bindBuffer(34962,Ke),_(J,ze,pe,we,0,0)}else if(j==="instanceMatrix"){const we=n.get(k.instanceMatrix);if(we===void 0)continue;const ze=we.buffer,W=we.type;w(J+0,1),w(J+1,1),w(J+2,1),w(J+3,1),e.bindBuffer(34962,ze),e.vertexAttribPointer(J+0,4,W,!1,64,0),e.vertexAttribPointer(J+1,4,W,!1,64,16),e.vertexAttribPointer(J+2,4,W,!1,64,32),e.vertexAttribPointer(J+3,4,W,!1,64,48)}else if(j==="instanceColor"){const we=n.get(k.instanceColor);if(we===void 0)continue;const ze=we.buffer,W=we.type;w(J,1),e.bindBuffer(34962,ze),e.vertexAttribPointer(J,3,W,!1,12,0)}else if(V!==void 0){const we=V[j];if(we!==void 0)switch(we.length){case 2:e.vertexAttrib2fv(J,we);break;case 3:e.vertexAttrib3fv(J,we);break;case 4:e.vertexAttrib4fv(J,we);break;default:e.vertexAttrib1fv(J,we)}}}}M()}function P(){R();for(const k in a){const N=a[k];for(const A in N){const B=N[A];for(const q in B)p(B[q].object),delete B[q];delete N[A]}delete a[k]}}function I(k){if(a[k.id]===void 0)return;const N=a[k.id];for(const A in N){const B=N[A];for(const q in B)p(B[q].object),delete B[q];delete N[A]}delete a[k.id]}function U(k){for(const N in a){const A=a[N];if(A[k.id]===void 0)continue;const B=A[k.id];for(const q in B)p(B[q].object),delete B[q];delete A[k.id]}}function R(){z(),c!==l&&(c=l,f(c.object))}function z(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:R,resetDefaultState:z,dispose:P,releaseStatesOfGeometry:I,releaseStatesOfProgram:U,initAttributes:d,enableAttribute:x,disableUnusedAttributes:M}}function db(e,t,n,i){const r=i.isWebGL2;let o;function s(c){o=c}function a(c,h){e.drawArrays(o,c,h),n.update(h,o,1)}function l(c,h,u){if(u===0)return;let f,p;if(r)f=e,p="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](o,c,h,u),n.update(h,o,u)}this.setMode=s,this.render=a,this.renderInstances=l}function pb(e,t,n){let i;function r(){if(i!==void 0)return i;const _=t.get("EXT_texture_filter_anisotropic");return _!==null?i=e.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function o(_){if(_==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";_="mediump"}return _==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=n.logarithmicDepthBuffer===!0,h=e.getParameter(34930),u=e.getParameter(35660),f=e.getParameter(3379),p=e.getParameter(34076),g=e.getParameter(34921),v=e.getParameter(36347),y=e.getParameter(36348),m=e.getParameter(36349),d=u>0,x=s||!!t.get("OES_texture_float"),w=d&&x,M=s?e.getParameter(36183):0;return{isWebGL2:s,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:m,vertexTextures:d,floatFragmentTextures:x,floatVertexTextures:w,maxSamples:M}}function mb(e){const t=this;let n=null,i=0,r=!1,o=!1;const s=new ri,a=new Wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f,p){const g=u.length!==0||f||i!==0||r;return r=f,n=h(u,p,0),i=u.length,g},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1,c()},this.setState=function(u,f,p){const g=u.clippingPlanes,v=u.clipIntersection,y=u.clipShadows,m=e.get(u);if(!r||g===null||g.length===0||o&&!y)o?h(null):c();else{const d=o?0:i,x=d*4;let w=m.clippingState||null;l.value=w,w=h(g,f,x,p);for(let M=0;M!==x;++M)w[M]=n[M];m.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=d}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function h(u,f,p,g){const v=u!==null?u.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const m=p+v*4,d=f.matrixWorldInverse;a.getNormalMatrix(d),(y===null||y.length<m)&&(y=new Float32Array(m));for(let x=0,w=p;x!==v;++x,w+=4)s.copy(u[x]).applyMatrix4(d,a),s.normal.toArray(y,w),y[w+3]=s.constant}l.value=y,l.needsUpdate=!0}return t.numPlanes=v,t.numIntersection=0,y}}function gb(e){let t=new WeakMap;function n(s,a){return a===Sm?s.mapping=Bd:a===bm&&(s.mapping=zd),s}function i(s){if(s&&s.isTexture){const a=s.mapping;if(a===Sm||a===bm)if(t.has(s)){const l=t.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=e.getRenderList(),h=e.getRenderTarget(),u=new br(l.height/2);return u.fromEquirectangularTexture(e,s),t.set(s,u),e.setRenderTarget(h),e.setRenderList(c),s.addEventListener("dispose",r),n(u.texture,s.mapping)}else return null}}return s}function r(s){const a=s.target;a.removeEventListener("dispose",r);const l=t.get(a);l!==void 0&&(t.delete(a),l.dispose())}function o(){t=new WeakMap}return{get:i,dispose:o}}function vb(e){const t={};return{has:function(n){if(t[n]!==void 0)return t[n]!==null;let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i!==null},get:function(n){return this.has(n)||console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]}}}function yb(e,t,n,i){const r=new WeakMap,o=new WeakMap;function s(u){const f=u.target,p=r.get(f);p.index!==null&&t.remove(p.index);for(const v in p.attributes)t.remove(p.attributes[v]);f.removeEventListener("dispose",s),r.delete(f);const g=o.get(p);g&&(t.remove(g),o.delete(p)),i.releaseStatesOfGeometry(p),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(u,f){let p=r.get(f);return p||(f.addEventListener("dispose",s),f.isBufferGeometry?p=f:f.isGeometry&&(f._bufferGeometry===void 0&&(f._bufferGeometry=new He().setFromObject(u)),p=f._bufferGeometry),r.set(f,p),n.memory.geometries++,p)}function l(u){const f=u.attributes;for(const g in f)t.update(f[g],34962);const p=u.morphAttributes;for(const g in p){const v=p[g];for(let y=0,m=v.length;y<m;y++)t.update(v[y],34962)}}function c(u){const f=[],p=u.index,g=u.attributes.position;let v=0;if(p!==null){const d=p.array;v=p.version;for(let x=0,w=d.length;x<w;x+=3){const M=d[x+0],_=d[x+1],E=d[x+2];f.push(M,_,_,E,E,M)}}else{const d=g.array;v=g.version;for(let x=0,w=d.length/3-1;x<w;x+=3){const M=x+0,_=x+1,E=x+2;f.push(M,_,_,E,E,M)}}const y=new(Ty(f)>65535?la:aa)(f,1);y.version=v;const m=o.get(u);m&&t.remove(m),o.set(u,y)}function h(u){const f=o.get(u);if(f){const p=u.index;p!==null&&f.version<p.version&&c(u)}else c(u);return o.get(u)}return{get:a,update:l,getWireframeAttribute:h}}function xb(e,t,n,i){const r=i.isWebGL2;let o;function s(f){o=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function h(f,p){e.drawElements(o,p,a,f*l),n.update(p,o,1)}function u(f,p,g){if(g===0)return;let v,y;if(r)v=e,y="drawElementsInstanced";else if(v=t.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](o,p,a,f*l,g),n.update(p,o,g)}this.setMode=s,this.setIndex=c,this.render=h,this.renderInstances=u}function _b(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,s,a){switch(n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function wb(e,t){return e[0]-t[0]}function Mb(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Sb(e){const t={},n=new Float32Array(8),i=[];for(let o=0;o<8;o++)i[o]=[o,0];function r(o,s,a,l){const c=o.morphTargetInfluences,h=c===void 0?0:c.length;let u=t[s.id];if(u===void 0){u=[];for(let y=0;y<h;y++)u[y]=[y,0];t[s.id]=u}for(let y=0;y<h;y++){const m=u[y];m[0]=y,m[1]=c[y]}u.sort(Mb);for(let y=0;y<8;y++)y<h&&u[y][1]?(i[y][0]=u[y][0],i[y][1]=u[y][1]):(i[y][0]=Number.MAX_SAFE_INTEGER,i[y][1]=0);i.sort(wb);const f=a.morphTargets&&s.morphAttributes.position,p=a.morphNormals&&s.morphAttributes.normal;let g=0;for(let y=0;y<8;y++){const m=i[y],d=m[0],x=m[1];d!==Number.MAX_SAFE_INTEGER&&x?(f&&s.getAttribute("morphTarget"+y)!==f[d]&&s.setAttribute("morphTarget"+y,f[d]),p&&s.getAttribute("morphNormal"+y)!==p[d]&&s.setAttribute("morphNormal"+y,p[d]),n[y]=x,g+=x):(f&&s.hasAttribute("morphTarget"+y)===!0&&s.deleteAttribute("morphTarget"+y),p&&s.hasAttribute("morphNormal"+y)===!0&&s.deleteAttribute("morphNormal"+y),n[y]=0)}const v=s.morphTargetsRelative?1:1-g;l.getUniforms().setValue(e,"morphTargetBaseInfluence",v),l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function bb(e,t,n,i){let r=new WeakMap;function o(l){const c=i.render.frame,h=l.geometry,u=t.get(l,h);return r.get(u)!==c&&(h.isGeometry&&u.updateFromObject(l),t.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),u}function s(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}function ca(e=null,t=1,n=1,i=1){Ze.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=Ot,this.minFilter=Ot,this.wrapR=Kt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ca.prototype=Object.create(Ze.prototype);ca.prototype.constructor=ca;ca.prototype.isDataTexture2DArray=!0;function ua(e=null,t=1,n=1,i=1){Ze.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=Ot,this.minFilter=Ot,this.wrapR=Kt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ua.prototype=Object.create(Ze.prototype);ua.prototype.constructor=ua;ua.prototype.isDataTexture3D=!0;const Py=new Ze,Eb=new ca,Tb=new ua,Ry=new Qi,Zm=[],$m=[],Jm=new Float32Array(16),Qm=new Float32Array(9),Km=new Float32Array(4);function Jo(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let o=Zm[r];if(o===void 0&&(o=new Float32Array(r),Zm[r]=o),t!==0){i.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=n,e[s].toArray(o,a)}return o}function yn(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function on(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function Ny(e,t){let n=$m[t];n===void 0&&(n=new Int32Array(t),$m[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Cb(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Lb(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yn(n,t))return;e.uniform2fv(this.addr,t),on(n,t)}}function Ab(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(yn(n,t))return;e.uniform3fv(this.addr,t),on(n,t)}}function Pb(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yn(n,t))return;e.uniform4fv(this.addr,t),on(n,t)}}function Rb(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(yn(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),on(n,t)}else{if(yn(n,i))return;Km.set(i),e.uniformMatrix2fv(this.addr,!1,Km),on(n,i)}}function Nb(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(yn(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),on(n,t)}else{if(yn(n,i))return;Qm.set(i),e.uniformMatrix3fv(this.addr,!1,Qm),on(n,i)}}function Ib(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(yn(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),on(n,t)}else{if(yn(n,i))return;Jm.set(i),e.uniformMatrix4fv(this.addr,!1,Jm),on(n,i)}}function Db(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||Py,r)}function Ob(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Eb,r)}function Fb(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Tb,r)}function kb(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||Ry,r)}function Bb(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function zb(e,t){const n=this.cache;yn(n,t)||(e.uniform2iv(this.addr,t),on(n,t))}function Ub(e,t){const n=this.cache;yn(n,t)||(e.uniform3iv(this.addr,t),on(n,t))}function Hb(e,t){const n=this.cache;yn(n,t)||(e.uniform4iv(this.addr,t),on(n,t))}function Vb(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Gb(e){switch(e){case 5126:return Cb;case 35664:return Lb;case 35665:return Ab;case 35666:return Pb;case 35674:return Rb;case 35675:return Nb;case 35676:return Ib;case 5124:case 35670:return Bb;case 35667:case 35671:return zb;case 35668:case 35672:return Ub;case 35669:case 35673:return Hb;case 5125:return Vb;case 35678:case 36198:case 36298:case 36306:case 35682:return Db;case 35679:case 36299:case 36307:return Fb;case 35680:case 36300:case 36308:case 36293:return kb;case 36289:case 36303:case 36311:case 36292:return Ob}}function Wb(e,t){e.uniform1fv(this.addr,t)}function jb(e,t){e.uniform1iv(this.addr,t)}function Xb(e,t){e.uniform2iv(this.addr,t)}function qb(e,t){e.uniform3iv(this.addr,t)}function Yb(e,t){e.uniform4iv(this.addr,t)}function Zb(e,t){const n=Jo(t,this.size,2);e.uniform2fv(this.addr,n)}function $b(e,t){const n=Jo(t,this.size,3);e.uniform3fv(this.addr,n)}function Jb(e,t){const n=Jo(t,this.size,4);e.uniform4fv(this.addr,n)}function Qb(e,t){const n=Jo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Kb(e,t){const n=Jo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function eE(e,t){const n=Jo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function tE(e,t,n){const i=t.length,r=Ny(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTexture2D(t[o]||Py,r[o])}function nE(e,t,n){const i=t.length,r=Ny(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTextureCube(t[o]||Ry,r[o])}function iE(e){switch(e){case 5126:return Wb;case 35664:return Zb;case 35665:return $b;case 35666:return Jb;case 35674:return Qb;case 35675:return Kb;case 35676:return eE;case 5124:case 35670:return jb;case 35667:case 35671:return Xb;case 35668:case 35672:return qb;case 35669:case 35673:return Yb;case 35678:case 36198:case 36298:case 36306:case 35682:return tE;case 35680:case 36300:case 36308:case 36293:return nE}}function rE(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Gb(t.type)}function Iy(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=iE(t.type)}Iy.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),on(t,e)};function Dy(e){this.id=e,this.seq=[],this.map={}}Dy.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const s=i[r];s.setValue(e,t[s.id],n)}};const Ju=/(\w+)(\])?(\[|\.)?/g;function eg(e,t){e.seq.push(t),e.map[t.id]=t}function oE(e,t,n){const i=e.name,r=i.length;for(Ju.lastIndex=0;;){const o=Ju.exec(i),s=Ju.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===r){eg(n,c===void 0?new rE(a,e,t):new Iy(a,e,t));break}else{let u=n.map[a];u===void 0&&(u=new Dy(a),eg(n,u)),n=u}}}function qi(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),o=e.getUniformLocation(t,r.name);oE(r,o,this)}}qi.prototype.setValue=function(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)};qi.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};qi.upload=function(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const s=t[r],a=n[s.id];a.needsUpdate!==!1&&s.setValue(e,a.value,i)}};qi.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in t&&n.push(o)}return n};function tg(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let sE=0;function aE(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function Oy(e){switch(e){case Ta:return["Linear","( value )"];case Sy:return["sRGB","( value )"];case gM:return["RGBE","( value )"];case yM:return["RGBM","( value, 7.0 )"];case xM:return["RGBM","( value, 16.0 )"];case _M:return["RGBD","( value, 256.0 )"];case mM:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case vM:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function ng(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";const o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+r+aE(o)}function ds(e,t){const n=Oy(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function lE(e,t){const n=Oy(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function cE(e,t){let n;switch(t){case p2:n="Linear";break;case m2:n="Reinhard";break;case g2:n="OptimizedCineon";break;case v2:n="ACESFilmic";break;case y2:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function uE(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ss).join(`
`)}function hE(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function fE(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const s=e.getActiveAttrib(t,r).name;n[s]=e.getAttribLocation(t,s)}return n}function Ss(e){return e!==""}function ig(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function rg(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const dE=/^[ \t]*#include +<([\w\d./]+)>/gm;function mf(e){return e.replace(dE,pE)}function pE(e,t){const n=Re[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return mf(n)}const mE=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,gE=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function og(e){return e.replace(gE,Fy).replace(mE,vE)}function vE(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Fy(e,t,n,i)}function Fy(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function sg(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function yE(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===vy?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Xw?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Ms&&(t="SHADOWMAP_TYPE_VSM"),t}function xE(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Bd:case zd:t="ENVMAP_TYPE_CUBE";break;case Ud:case Hd:t="ENVMAP_TYPE_CUBE_UV";break}return t}function _E(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case zd:case Hd:t="ENVMAP_MODE_REFRACTION";break}return t}function wE(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Yc:t="ENVMAP_BLENDING_MULTIPLY";break;case f2:t="ENVMAP_BLENDING_MIX";break;case d2:t="ENVMAP_BLENDING_ADD";break}return t}function ME(e,t,n,i){const r=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=yE(n),c=xE(n),h=_E(n),u=wE(n),f=e.gammaFactor>0?e.gammaFactor:1,p=n.isWebGL2?"":uE(n),g=hE(o),v=r.createProgram();let y,m,d=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[g].filter(Ss).join(`
`),y.length>0&&(y+=`
`),m=[p,g].filter(Ss).join(`
`),m.length>0&&(m+=`
`)):(y=[sg(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ss).join(`
`),m=[p,sg(n),"#define SHADER_NAME "+n.shaderName,g,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Os?"#define TONE_MAPPING":"",n.toneMapping!==Os?Re.tonemapping_pars_fragment:"",n.toneMapping!==Os?cE("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Re.encodings_pars_fragment,n.map?ds("mapTexelToLinear",n.mapEncoding):"",n.matcap?ds("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?ds("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?ds("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?ds("lightMapTexelToLinear",n.lightMapEncoding):"",lE("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ss).join(`
`)),s=mf(s),s=ig(s,n),s=rg(s,n),a=mf(a),a=ig(a,n),a=rg(a,n),s=og(s),a=og(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(d=`#version 300 es
`,y=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,m=["#define varying in",n.glslVersion===km?"":"out highp vec4 pc_fragColor;",n.glslVersion===km?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const x=d+y+s,w=d+m+a,M=tg(r,35633,x),_=tg(r,35632,w);if(r.attachShader(v,M),r.attachShader(v,_),n.index0AttributeName!==void 0?r.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),e.debug.checkShaderErrors){const I=r.getProgramInfoLog(v).trim(),U=r.getShaderInfoLog(M).trim(),R=r.getShaderInfoLog(_).trim();let z=!0,k=!0;if(r.getProgramParameter(v,35714)===!1){z=!1;const N=ng(r,M,"vertex"),A=ng(r,_,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(v,35715),"gl.getProgramInfoLog",I,N,A)}else I!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",I):(U===""||R==="")&&(k=!1);k&&(this.diagnostics={runnable:z,programLog:I,vertexShader:{log:U,prefix:y},fragmentShader:{log:R,prefix:m}})}r.deleteShader(M),r.deleteShader(_);let E;this.getUniforms=function(){return E===void 0&&(E=new qi(r,v)),E};let P;return this.getAttributes=function(){return P===void 0&&(P=fE(r,v)),P},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=sE++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=_,this}function SE(e,t,n,i,r,o){const s=[],a=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,h=i.maxVertexUniforms,u=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},g=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function v(_){const P=_.skeleton.bones;if(c)return 1024;{const U=Math.floor((h-20)/4),R=Math.min(U,P.length);return R<P.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+P.length+" bones. This GPU supports "+R+"."),0):R}}function y(_){let E;return _&&_.isTexture?E=_.encoding:_&&_.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),E=_.texture.encoding):E=Ta,E}function m(_,E,P,I,U){const R=I.fog,z=_.isMeshStandardMaterial?I.environment:null,k=t.get(_.envMap||z),N=p[_.type],A=U.isSkinnedMesh?v(U):0;_.precision!==null&&(f=i.getMaxPrecision(_.precision),f!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",f,"instead."));let B,q;if(N){const j=zn[N];B=j.vertexShader,q=j.fragmentShader}else B=_.vertexShader,q=_.fragmentShader;const O=e.getRenderTarget();return{isWebGL2:a,shaderID:N,shaderName:_.type,vertexShader:B,fragmentShader:q,defines:_.defines,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:f,instancing:U.isInstancedMesh===!0,instancingColor:U.isInstancedMesh===!0&&U.instanceColor!==null,supportsVertexTextures:u,outputEncoding:O!==null?y(O.texture):e.outputEncoding,map:!!_.map,mapEncoding:y(_.map),matcap:!!_.matcap,matcapEncoding:y(_.matcap),envMap:!!k,envMapMode:k&&k.mapping,envMapEncoding:y(k),envMapCubeUV:!!k&&(k.mapping===Ud||k.mapping===Hd),lightMap:!!_.lightMap,lightMapEncoding:y(_.lightMap),aoMap:!!_.aoMap,emissiveMap:!!_.emissiveMap,emissiveMapEncoding:y(_.emissiveMap),bumpMap:!!_.bumpMap,normalMap:!!_.normalMap,objectSpaceNormalMap:_.normalMapType===SM,tangentSpaceNormalMap:_.normalMapType===Zo,clearcoatMap:!!_.clearcoatMap,clearcoatRoughnessMap:!!_.clearcoatRoughnessMap,clearcoatNormalMap:!!_.clearcoatNormalMap,displacementMap:!!_.displacementMap,roughnessMap:!!_.roughnessMap,metalnessMap:!!_.metalnessMap,specularMap:!!_.specularMap,alphaMap:!!_.alphaMap,gradientMap:!!_.gradientMap,sheen:!!_.sheen,transmissionMap:!!_.transmissionMap,combine:_.combine,vertexTangents:_.normalMap&&_.vertexTangents,vertexColors:_.vertexColors,vertexUvs:!!_.map||!!_.bumpMap||!!_.normalMap||!!_.specularMap||!!_.alphaMap||!!_.emissiveMap||!!_.roughnessMap||!!_.metalnessMap||!!_.clearcoatMap||!!_.clearcoatRoughnessMap||!!_.clearcoatNormalMap||!!_.displacementMap||!!_.transmissionMap,uvsVertexOnly:!(_.map||_.bumpMap||_.normalMap||_.specularMap||_.alphaMap||_.emissiveMap||_.roughnessMap||_.metalnessMap||_.clearcoatNormalMap||_.transmissionMap)&&!!_.displacementMap,fog:!!R,useFog:_.fog,fogExp2:R&&R.isFogExp2,flatShading:_.flatShading,sizeAttenuation:_.sizeAttenuation,logarithmicDepthBuffer:l,skinning:_.skinning&&A>0,maxBones:A,useVertexTexture:c,morphTargets:_.morphTargets,morphNormals:_.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:_.dithering,shadowMapEnabled:e.shadowMap.enabled&&P.length>0,shadowMapType:e.shadowMap.type,toneMapping:_.toneMapped?e.toneMapping:Os,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:_.premultipliedAlpha,alphaTest:_.alphaTest,doubleSided:_.side===qc,flipSided:_.side===St,depthPacking:_.depthPacking!==void 0?_.depthPacking:!1,index0AttributeName:_.index0AttributeName,extensionDerivatives:_.extensions&&_.extensions.derivatives,extensionFragDepth:_.extensions&&_.extensions.fragDepth,extensionDrawBuffers:_.extensions&&_.extensions.drawBuffers,extensionShaderTextureLOD:_.extensions&&_.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:_.customProgramCacheKey()}}function d(_){const E=[];if(_.shaderID?E.push(_.shaderID):(E.push(_.fragmentShader),E.push(_.vertexShader)),_.defines!==void 0)for(const P in _.defines)E.push(P),E.push(_.defines[P]);if(_.isRawShaderMaterial===!1){for(let P=0;P<g.length;P++)E.push(_[g[P]]);E.push(e.outputEncoding),E.push(e.gammaFactor)}return E.push(_.customProgramCacheKey),E.join()}function x(_){const E=p[_.type];let P;if(E){const I=zn[E];P=zM.clone(I.uniforms)}else P=_.uniforms;return P}function w(_,E){let P;for(let I=0,U=s.length;I<U;I++){const R=s[I];if(R.cacheKey===E){P=R,++P.usedTimes;break}}return P===void 0&&(P=new ME(e,E,_,r),s.push(P)),P}function M(_){if(--_.usedTimes===0){const E=s.indexOf(_);s[E]=s[s.length-1],s.pop(),_.destroy()}}return{getParameters:m,getProgramCacheKey:d,getUniforms:x,acquireProgram:w,releaseProgram:M,programs:s}}function bE(){let e=new WeakMap;function t(o){let s=e.get(o);return s===void 0&&(s={},e.set(o,s)),s}function n(o){e.delete(o)}function i(o,s,a){e.get(o)[s]=a}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function EE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function TE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ag(e){const t=[];let n=0;const i=[],r=[],o={id:-1};function s(){n=0,i.length=0,r.length=0}function a(f,p,g,v,y,m){let d=t[n];const x=e.get(g);return d===void 0?(d={id:f.id,object:f,geometry:p,material:g,program:x.program||o,groupOrder:v,renderOrder:f.renderOrder,z:y,group:m},t[n]=d):(d.id=f.id,d.object=f,d.geometry=p,d.material=g,d.program=x.program||o,d.groupOrder=v,d.renderOrder=f.renderOrder,d.z=y,d.group=m),n++,d}function l(f,p,g,v,y,m){const d=a(f,p,g,v,y,m);(g.transparent===!0?r:i).push(d)}function c(f,p,g,v,y,m){const d=a(f,p,g,v,y,m);(g.transparent===!0?r:i).unshift(d)}function h(f,p){i.length>1&&i.sort(f||EE),r.length>1&&r.sort(p||TE)}function u(){for(let f=n,p=t.length;f<p;f++){const g=t[f];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.program=null,g.group=null}}return{opaque:i,transparent:r,init:s,push:l,unshift:c,finish:u,sort:h}}function CE(e){let t=new WeakMap;function n(r,o){const s=t.get(r);let a;return s===void 0?(a=new ag(e),t.set(r,new WeakMap),t.get(r).set(o,a)):(a=s.get(o),a===void 0&&(a=new ag(e),s.set(o,a))),a}function i(){t=new WeakMap}return{get:n,dispose:i}}function LE(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new C,color:new de};break;case"SpotLight":n={position:new C,direction:new C,color:new de,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new C,color:new de,distance:0,decay:0};break;case"HemisphereLight":n={direction:new C,skyColor:new de,groundColor:new de};break;case"RectAreaLight":n={color:new de,position:new C,halfWidth:new C,halfHeight:new C};break}return e[t.id]=n,n}}}function AE(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new X};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new X};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new X,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let PE=0;function RE(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function NE(e,t){const n=new LE,i=AE(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)r.probe.push(new C);const o=new C,s=new Ce,a=new Ce;function l(h){let u=0,f=0,p=0;for(let E=0;E<9;E++)r.probe[E].set(0,0,0);let g=0,v=0,y=0,m=0,d=0,x=0,w=0,M=0;h.sort(RE);for(let E=0,P=h.length;E<P;E++){const I=h[E],U=I.color,R=I.intensity,z=I.distance,k=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=U.r*R,f+=U.g*R,p+=U.b*R;else if(I.isLightProbe)for(let N=0;N<9;N++)r.probe[N].addScaledVector(I.sh.coefficients[N],R);else if(I.isDirectionalLight){const N=n.get(I);if(N.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const A=I.shadow,B=i.get(I);B.shadowBias=A.bias,B.shadowNormalBias=A.normalBias,B.shadowRadius=A.radius,B.shadowMapSize=A.mapSize,r.directionalShadow[g]=B,r.directionalShadowMap[g]=k,r.directionalShadowMatrix[g]=I.shadow.matrix,x++}r.directional[g]=N,g++}else if(I.isSpotLight){const N=n.get(I);if(N.position.setFromMatrixPosition(I.matrixWorld),N.color.copy(U).multiplyScalar(R),N.distance=z,N.coneCos=Math.cos(I.angle),N.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),N.decay=I.decay,I.castShadow){const A=I.shadow,B=i.get(I);B.shadowBias=A.bias,B.shadowNormalBias=A.normalBias,B.shadowRadius=A.radius,B.shadowMapSize=A.mapSize,r.spotShadow[y]=B,r.spotShadowMap[y]=k,r.spotShadowMatrix[y]=I.shadow.matrix,M++}r.spot[y]=N,y++}else if(I.isRectAreaLight){const N=n.get(I);N.color.copy(U).multiplyScalar(R),N.halfWidth.set(I.width*.5,0,0),N.halfHeight.set(0,I.height*.5,0),r.rectArea[m]=N,m++}else if(I.isPointLight){const N=n.get(I);if(N.color.copy(I.color).multiplyScalar(I.intensity),N.distance=I.distance,N.decay=I.decay,I.castShadow){const A=I.shadow,B=i.get(I);B.shadowBias=A.bias,B.shadowNormalBias=A.normalBias,B.shadowRadius=A.radius,B.shadowMapSize=A.mapSize,B.shadowCameraNear=A.camera.near,B.shadowCameraFar=A.camera.far,r.pointShadow[v]=B,r.pointShadowMap[v]=k,r.pointShadowMatrix[v]=I.shadow.matrix,w++}r.point[v]=N,v++}else if(I.isHemisphereLight){const N=n.get(I);N.skyColor.copy(I.color).multiplyScalar(R),N.groundColor.copy(I.groundColor).multiplyScalar(R),r.hemi[d]=N,d++}}m>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ie.LTC_FLOAT_1,r.rectAreaLTC2=ie.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ie.LTC_HALF_1,r.rectAreaLTC2=ie.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=p;const _=r.hash;(_.directionalLength!==g||_.pointLength!==v||_.spotLength!==y||_.rectAreaLength!==m||_.hemiLength!==d||_.numDirectionalShadows!==x||_.numPointShadows!==w||_.numSpotShadows!==M)&&(r.directional.length=g,r.spot.length=y,r.rectArea.length=m,r.point.length=v,r.hemi.length=d,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=w,r.spotShadowMatrix.length=M,_.directionalLength=g,_.pointLength=v,_.spotLength=y,_.rectAreaLength=m,_.hemiLength=d,_.numDirectionalShadows=x,_.numPointShadows=w,_.numSpotShadows=M,r.version=PE++)}function c(h,u){let f=0,p=0,g=0,v=0,y=0;const m=u.matrixWorldInverse;for(let d=0,x=h.length;d<x;d++){const w=h[d];if(w.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(m),f++}else if(w.isSpotLight){const M=r.spot[g];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(m),M.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(m),g++}else if(w.isRectAreaLight){const M=r.rectArea[v];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(m),a.identity(),s.copy(w.matrixWorld),s.premultiply(m),a.extractRotation(s),M.halfWidth.set(w.width*.5,0,0),M.halfHeight.set(0,w.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),v++}else if(w.isPointLight){const M=r.point[p];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(m),p++}else if(w.isHemisphereLight){const M=r.hemi[y];M.direction.setFromMatrixPosition(w.matrixWorld),M.direction.transformDirection(m),M.direction.normalize(),y++}}}return{setup:l,setupView:c,state:r}}function lg(e,t){const n=new NE(e,t),i=[],r=[];function o(){i.length=0,r.length=0}function s(u){i.push(u)}function a(u){r.push(u)}function l(){n.setup(i)}function c(u){n.setupView(i,u)}return{init:o,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function IE(e,t){let n=new WeakMap;function i(o,s=0){let a;return n.has(o)===!1?(a=new lg(e,t),n.set(o,[]),n.get(o).push(a)):s>=n.get(o).length?(a=new lg(e,t),n.get(o).push(a)):a=n.get(o)[s],a}function r(){n=new WeakMap}return{get:i,dispose:r}}function Er(e){xe.call(this),this.type="MeshDepthMaterial",this.depthPacking=wM,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}Er.prototype=Object.create(xe.prototype);Er.prototype.constructor=Er;Er.prototype.isMeshDepthMaterial=!0;Er.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Tr(e){xe.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new C,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Tr.prototype=Object.create(xe.prototype);Tr.prototype.constructor=Tr;Tr.prototype.isMeshDistanceMaterial=!0;Tr.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var DE=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,OE=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function ky(e,t,n){let i=new Jc;const r=new X,o=new X,s=new Ge,a=[],l=[],c={},h={0:St,1:Xc,2:qc},u=new Zt({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new X},radius:{value:4}},vertexShader:OE,fragmentShader:DE}),f=u.clone();f.defines.HORIZONTAL_PASS=1;const p=new He;p.setAttribute("position",new Me(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new _t(p,u),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vy,this.render=function(M,_,E){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;const P=e.getRenderTarget(),I=e.getActiveCubeFace(),U=e.getActiveMipmapLevel(),R=e.state;R.setBlending(Is),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);for(let z=0,k=M.length;z<k;z++){const N=M[z],A=N.shadow;if(A===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(A.autoUpdate===!1&&A.needsUpdate===!1)continue;r.copy(A.mapSize);const B=A.getFrameExtents();if(r.multiply(B),o.copy(A.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/B.x),r.x=o.x*B.x,A.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/B.y),r.y=o.y*B.y,A.mapSize.y=o.y)),A.map===null&&!A.isPointLightShadow&&this.type===Ms){const O={minFilter:Rt,magFilter:Rt,format:Nn};A.map=new In(r.x,r.y,O),A.map.texture.name=N.name+".shadowMap",A.mapPass=new In(r.x,r.y,O),A.camera.updateProjectionMatrix()}if(A.map===null){const O={minFilter:Ot,magFilter:Ot,format:Nn};A.map=new In(r.x,r.y,O),A.map.texture.name=N.name+".shadowMap",A.camera.updateProjectionMatrix()}e.setRenderTarget(A.map),e.clear();const q=A.getViewportCount();for(let O=0;O<q;O++){const V=A.getViewport(O);s.set(o.x*V.x,o.y*V.y,o.x*V.z,o.y*V.w),R.viewport(s),A.updateMatrices(N,O),i=A.getFrustum(),w(_,E,A.camera,N,this.type)}!A.isPointLightShadow&&this.type===Ms&&y(A,E),A.needsUpdate=!1}v.needsUpdate=!1,e.setRenderTarget(P,I,U)};function y(M,_){const E=t.update(g);u.uniforms.shadow_pass.value=M.map.texture,u.uniforms.resolution.value=M.mapSize,u.uniforms.radius.value=M.radius,e.setRenderTarget(M.mapPass),e.clear(),e.renderBufferDirect(_,null,E,u,g,null),f.uniforms.shadow_pass.value=M.mapPass.texture,f.uniforms.resolution.value=M.mapSize,f.uniforms.radius.value=M.radius,e.setRenderTarget(M.map),e.clear(),e.renderBufferDirect(_,null,E,f,g,null)}function m(M,_,E){const P=M<<0|_<<1|E<<2;let I=a[P];return I===void 0&&(I=new Er({depthPacking:MM,morphTargets:M,skinning:_}),a[P]=I),I}function d(M,_,E){const P=M<<0|_<<1|E<<2;let I=l[P];return I===void 0&&(I=new Tr({morphTargets:M,skinning:_}),l[P]=I),I}function x(M,_,E,P,I,U,R){let z=null,k=m,N=M.customDepthMaterial;if(P.isPointLight===!0&&(k=d,N=M.customDistanceMaterial),N===void 0){let A=!1;E.morphTargets===!0&&(A=_.morphAttributes&&_.morphAttributes.position&&_.morphAttributes.position.length>0);let B=!1;M.isSkinnedMesh===!0&&(E.skinning===!0?B=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",M));const q=M.isInstancedMesh===!0;z=k(A,B,q)}else z=N;if(e.localClippingEnabled&&E.clipShadows===!0&&E.clippingPlanes.length!==0){const A=z.uuid,B=E.uuid;let q=c[A];q===void 0&&(q={},c[A]=q);let O=q[B];O===void 0&&(O=z.clone(),q[B]=O),z=O}return z.visible=E.visible,z.wireframe=E.wireframe,R===Ms?z.side=E.shadowSide!==null?E.shadowSide:E.side:z.side=E.shadowSide!==null?E.shadowSide:h[E.side],z.clipShadows=E.clipShadows,z.clippingPlanes=E.clippingPlanes,z.clipIntersection=E.clipIntersection,z.wireframeLinewidth=E.wireframeLinewidth,z.linewidth=E.linewidth,P.isPointLight===!0&&z.isMeshDistanceMaterial===!0&&(z.referencePosition.setFromMatrixPosition(P.matrixWorld),z.nearDistance=I,z.farDistance=U),z}function w(M,_,E,P,I){if(M.visible===!1)return;if(M.layers.test(_.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&I===Ms)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,M.matrixWorld);const z=t.update(M),k=M.material;if(Array.isArray(k)){const N=z.groups;for(let A=0,B=N.length;A<B;A++){const q=N[A],O=k[q.materialIndex];if(O&&O.visible){const V=x(M,z,O,P,E.near,E.far,I);e.renderBufferDirect(E,null,z,V,M,q)}}}else if(k.visible){const N=x(M,z,k,P,E.near,E.far,I);e.renderBufferDirect(E,null,z,N,M,null)}}const R=M.children;for(let z=0,k=R.length;z<k;z++)w(R[z],_,E,P,I)}}function FE(e,t,n){const i=n.isWebGL2;function r(){let L=!1;const K=new Ge;let se=null;const fe=new Ge(0,0,0,0);return{setMask:function(ne){se!==ne&&!L&&(e.colorMask(ne,ne,ne,ne),se=ne)},setLocked:function(ne){L=ne},setClear:function(ne,he,ve,be,ue){ue===!0&&(ne*=be,he*=be,ve*=be),K.set(ne,he,ve,be),fe.equals(K)===!1&&(e.clearColor(ne,he,ve,be),fe.copy(K))},reset:function(){L=!1,se=null,fe.set(-1,0,0,0)}}}function o(){let L=!1,K=null,se=null,fe=null;return{setTest:function(ne){ne?j(2929):J(2929)},setMask:function(ne){K!==ne&&!L&&(e.depthMask(ne),K=ne)},setFunc:function(ne){if(se!==ne){if(ne)switch(ne){case o2:e.depthFunc(512);break;case s2:e.depthFunc(519);break;case a2:e.depthFunc(513);break;case of:e.depthFunc(515);break;case l2:e.depthFunc(514);break;case c2:e.depthFunc(518);break;case u2:e.depthFunc(516);break;case h2:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);se=ne}},setLocked:function(ne){L=ne},setClear:function(ne){fe!==ne&&(e.clearDepth(ne),fe=ne)},reset:function(){L=!1,K=null,se=null,fe=null}}}function s(){let L=!1,K=null,se=null,fe=null,ne=null,he=null,ve=null,be=null,ue=null;return{setTest:function(_e){L||(_e?j(2960):J(2960))},setMask:function(_e){K!==_e&&!L&&(e.stencilMask(_e),K=_e)},setFunc:function(_e,nt,Ut){(se!==_e||fe!==nt||ne!==Ut)&&(e.stencilFunc(_e,nt,Ut),se=_e,fe=nt,ne=Ut)},setOp:function(_e,nt,Ut){(he!==_e||ve!==nt||be!==Ut)&&(e.stencilOp(_e,nt,Ut),he=_e,ve=nt,be=Ut)},setLocked:function(_e){L=_e},setClear:function(_e){ue!==_e&&(e.clearStencil(_e),ue=_e)},reset:function(){L=!1,K=null,se=null,fe=null,ne=null,he=null,ve=null,be=null,ue=null}}}const a=new r,l=new o,c=new s;let h={},u=null,f=null,p=null,g=null,v=null,y=null,m=null,d=null,x=null,w=!1,M=null,_=null,E=null,P=null,I=null;const U=e.getParameter(35661);let R=!1,z=0;const k=e.getParameter(7938);k.indexOf("WebGL")!==-1?(z=parseFloat(/^WebGL (\d)/.exec(k)[1]),R=z>=1):k.indexOf("OpenGL ES")!==-1&&(z=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),R=z>=2);let N=null,A={};const B=new Ge,q=new Ge;function O(L,K,se){const fe=new Uint8Array(4),ne=e.createTexture();e.bindTexture(L,ne),e.texParameteri(L,10241,9728),e.texParameteri(L,10240,9728);for(let he=0;he<se;he++)e.texImage2D(K+he,0,6408,1,1,0,6408,5121,fe);return ne}const V={};V[3553]=O(3553,3553,1),V[34067]=O(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),j(2929),l.setFunc(of),pe(!1),Fe(vm),j(2884),W(Is);function j(L){h[L]!==!0&&(e.enable(L),h[L]=!0)}function J(L){h[L]!==!1&&(e.disable(L),h[L]=!1)}function ce(L){return u!==L?(e.useProgram(L),u=L,!0):!1}const we={[Kr]:32774,[Yw]:32778,[Zw]:32779};if(i)we[wm]=32775,we[Mm]=32776;else{const L=t.get("EXT_blend_minmax");L!==null&&(we[wm]=L.MIN_EXT,we[Mm]=L.MAX_EXT)}const ze={[$w]:0,[Jw]:1,[Qw]:768,[xy]:770,[r2]:776,[n2]:774,[e2]:772,[Kw]:769,[_y]:771,[i2]:775,[t2]:773};function W(L,K,se,fe,ne,he,ve,be){if(L===Is){f&&(J(3042),f=!1);return}if(f||(j(3042),f=!0),L!==qw){if(L!==p||be!==w){if((g!==Kr||m!==Kr)&&(e.blendEquation(32774),g=Kr,m=Kr),be)switch(L){case Ds:e.blendFuncSeparate(1,771,1,771);break;case ym:e.blendFunc(1,1);break;case xm:e.blendFuncSeparate(0,0,769,771);break;case _m:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",L);break}else switch(L){case Ds:e.blendFuncSeparate(770,771,1,771);break;case ym:e.blendFunc(770,1);break;case xm:e.blendFunc(0,769);break;case _m:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",L);break}v=null,y=null,d=null,x=null,p=L,w=be}return}ne=ne||K,he=he||se,ve=ve||fe,(K!==g||ne!==m)&&(e.blendEquationSeparate(we[K],we[ne]),g=K,m=ne),(se!==v||fe!==y||he!==d||ve!==x)&&(e.blendFuncSeparate(ze[se],ze[fe],ze[he],ze[ve]),v=se,y=fe,d=he,x=ve),p=L,w=null}function Ke(L,K){L.side===qc?J(2884):j(2884);let se=L.side===St;K&&(se=!se),pe(se),L.blending===Ds&&L.transparent===!1?W(Is):W(L.blending,L.blendEquation,L.blendSrc,L.blendDst,L.blendEquationAlpha,L.blendSrcAlpha,L.blendDstAlpha,L.premultipliedAlpha),l.setFunc(L.depthFunc),l.setTest(L.depthTest),l.setMask(L.depthWrite),a.setMask(L.colorWrite);const fe=L.stencilWrite;c.setTest(fe),fe&&(c.setMask(L.stencilWriteMask),c.setFunc(L.stencilFunc,L.stencilRef,L.stencilFuncMask),c.setOp(L.stencilFail,L.stencilZFail,L.stencilZPass)),Ue(L.polygonOffset,L.polygonOffsetFactor,L.polygonOffsetUnits)}function pe(L){M!==L&&(L?e.frontFace(2304):e.frontFace(2305),M=L)}function Fe(L){L!==Ww?(j(2884),L!==_&&(L===vm?e.cullFace(1029):L===jw?e.cullFace(1028):e.cullFace(1032))):J(2884),_=L}function Se(L){L!==E&&(R&&e.lineWidth(L),E=L)}function Ue(L,K,se){L?(j(32823),(P!==K||I!==se)&&(e.polygonOffset(K,se),P=K,I=se)):J(32823)}function Pe(L){L?j(3089):J(3089)}function $(L){L===void 0&&(L=33984+U-1),N!==L&&(e.activeTexture(L),N=L)}function ee(L,K){N===null&&$();let se=A[N];se===void 0&&(se={type:void 0,texture:void 0},A[N]=se),(se.type!==L||se.texture!==K)&&(e.bindTexture(L,K||V[L]),se.type=L,se.texture=K)}function re(){const L=A[N];L!==void 0&&L.type!==void 0&&(e.bindTexture(L.type,null),L.type=void 0,L.texture=void 0)}function ge(){try{e.compressedTexImage2D.apply(e,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function ae(){try{e.texImage2D.apply(e,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function T(){try{e.texImage3D.apply(e,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function b(L){B.equals(L)===!1&&(e.scissor(L.x,L.y,L.z,L.w),B.copy(L))}function Q(L){q.equals(L)===!1&&(e.viewport(L.x,L.y,L.z,L.w),q.copy(L))}function Y(){h={},N=null,A={},u=null,f=null,p=null,g=null,v=null,y=null,m=null,d=null,x=null,w=!1,M=null,_=null,E=null,P=null,I=null,a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:j,disable:J,useProgram:ce,setBlending:W,setMaterial:Ke,setFlipSided:pe,setCullFace:Fe,setLineWidth:Se,setPolygonOffset:Ue,setScissorTest:Pe,activeTexture:$,bindTexture:ee,unbindTexture:re,compressedTexImage2D:ge,texImage2D:ae,texImage3D:T,scissor:b,viewport:Q,reset:Y}}function kE(e,t,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,h=r.maxTextureSize,u=r.maxSamples,f=new WeakMap;let p,g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(T,b){return g?new OffscreenCanvas(T,b):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function y(T,b,Q,Y){let L=1;if((T.width>Y||T.height>Y)&&(L=Y/Math.max(T.width,T.height)),L<1||b===!0)if(typeof HTMLImageElement<"u"&&T instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&T instanceof ImageBitmap){const K=b?Te.floorPowerOfTwo:Math.floor,se=K(L*T.width),fe=K(L*T.height);p===void 0&&(p=v(se,fe));const ne=Q?v(se,fe):p;return ne.width=se,ne.height=fe,ne.getContext("2d").drawImage(T,0,0,se,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+T.width+"x"+T.height+") to ("+se+"x"+fe+")."),ne}else return"data"in T&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+T.width+"x"+T.height+")."),T;return T}function m(T){return Te.isPowerOfTwo(T.width)&&Te.isPowerOfTwo(T.height)}function d(T){return a?!1:T.wrapS!==Kt||T.wrapT!==Kt||T.minFilter!==Ot&&T.minFilter!==Rt}function x(T,b){return T.generateMipmaps&&b&&T.minFilter!==Ot&&T.minFilter!==Rt}function w(T,b,Q,Y){e.generateMipmap(T);const L=i.get(b);L.__maxMipLevel=Math.log(Math.max(Q,Y))*Math.LOG2E}function M(T,b,Q){if(a===!1)return b;if(T!==null){if(e[T]!==void 0)return e[T];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+T+"'")}let Y=b;return b===6403&&(Q===5126&&(Y=33326),Q===5131&&(Y=33325),Q===5121&&(Y=33321)),b===6407&&(Q===5126&&(Y=34837),Q===5131&&(Y=34843),Q===5121&&(Y=32849)),b===6408&&(Q===5126&&(Y=34836),Q===5131&&(Y=34842),Q===5121&&(Y=32856)),(Y===33325||Y===33326||Y===34842||Y===34836)&&t.get("EXT_color_buffer_float"),Y}function _(T){return T===Ot||T===Em||T===Tm?9728:9729}function E(T){const b=T.target;b.removeEventListener("dispose",E),I(b),b.isVideoTexture&&f.delete(b),s.memory.textures--}function P(T){const b=T.target;b.removeEventListener("dispose",P),U(b),s.memory.textures--}function I(T){const b=i.get(T);b.__webglInit!==void 0&&(e.deleteTexture(b.__webglTexture),i.remove(T))}function U(T){const b=i.get(T),Q=i.get(T.texture);if(T){if(Q.__webglTexture!==void 0&&e.deleteTexture(Q.__webglTexture),T.depthTexture&&T.depthTexture.dispose(),T.isWebGLCubeRenderTarget)for(let Y=0;Y<6;Y++)e.deleteFramebuffer(b.__webglFramebuffer[Y]),b.__webglDepthbuffer&&e.deleteRenderbuffer(b.__webglDepthbuffer[Y]);else e.deleteFramebuffer(b.__webglFramebuffer),b.__webglDepthbuffer&&e.deleteRenderbuffer(b.__webglDepthbuffer),b.__webglMultisampledFramebuffer&&e.deleteFramebuffer(b.__webglMultisampledFramebuffer),b.__webglColorRenderbuffer&&e.deleteRenderbuffer(b.__webglColorRenderbuffer),b.__webglDepthRenderbuffer&&e.deleteRenderbuffer(b.__webglDepthRenderbuffer);i.remove(T.texture),i.remove(T)}}let R=0;function z(){R=0}function k(){const T=R;return T>=l&&console.warn("THREE.WebGLTextures: Trying to use "+T+" texture units while this GPU supports only "+l),R+=1,T}function N(T,b){const Q=i.get(T);if(T.isVideoTexture&&$(T),T.version>0&&Q.__version!==T.version){const Y=T.image;if(Y===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Y.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(Q,T,b);return}}n.activeTexture(33984+b),n.bindTexture(3553,Q.__webglTexture)}function A(T,b){const Q=i.get(T);if(T.version>0&&Q.__version!==T.version){ce(Q,T,b);return}n.activeTexture(33984+b),n.bindTexture(35866,Q.__webglTexture)}function B(T,b){const Q=i.get(T);if(T.version>0&&Q.__version!==T.version){ce(Q,T,b);return}n.activeTexture(33984+b),n.bindTexture(32879,Q.__webglTexture)}function q(T,b){const Q=i.get(T);if(T.version>0&&Q.__version!==T.version){we(Q,T,b);return}n.activeTexture(33984+b),n.bindTexture(34067,Q.__webglTexture)}const O={[sf]:10497,[Kt]:33071,[af]:33648},V={[Ot]:9728,[Em]:9984,[Tm]:9986,[Rt]:9729,[x2]:9985,[Zc]:9987};function j(T,b,Q){Q?(e.texParameteri(T,10242,O[b.wrapS]),e.texParameteri(T,10243,O[b.wrapT]),(T===32879||T===35866)&&e.texParameteri(T,32882,O[b.wrapR]),e.texParameteri(T,10240,V[b.magFilter]),e.texParameteri(T,10241,V[b.minFilter])):(e.texParameteri(T,10242,33071),e.texParameteri(T,10243,33071),(T===32879||T===35866)&&e.texParameteri(T,32882,33071),(b.wrapS!==Kt||b.wrapT!==Kt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(T,10240,_(b.magFilter)),e.texParameteri(T,10241,_(b.minFilter)),b.minFilter!==Ot&&b.minFilter!==Rt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const Y=t.get("EXT_texture_filter_anisotropic");if(Y){if(b.type===Ii&&t.get("OES_texture_float_linear")===null||b.type===mc&&(a||t.get("OES_texture_half_float_linear"))===null)return;(b.anisotropy>1||i.get(b).__currentAnisotropy)&&(e.texParameterf(T,Y.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,r.getMaxAnisotropy())),i.get(b).__currentAnisotropy=b.anisotropy)}}function J(T,b){T.__webglInit===void 0&&(T.__webglInit=!0,b.addEventListener("dispose",E),T.__webglTexture=e.createTexture(),s.memory.textures++)}function ce(T,b,Q){let Y=3553;b.isDataTexture2DArray&&(Y=35866),b.isDataTexture3D&&(Y=32879),J(T,b),n.activeTexture(33984+Q),n.bindTexture(Y,T.__webglTexture),e.pixelStorei(37440,b.flipY),e.pixelStorei(37441,b.premultiplyAlpha),e.pixelStorei(3317,b.unpackAlignment);const L=d(b)&&m(b.image)===!1,K=y(b.image,L,!1,h),se=m(K)||a,fe=o.convert(b.format);let ne=o.convert(b.type),he=M(b.internalFormat,fe,ne);j(Y,b,se);let ve;const be=b.mipmaps;if(b.isDepthTexture)he=6402,a?b.type===Ii?he=36012:b.type===zl?he=33190:b.type===Fs?he=35056:he=33189:b.type===Ii&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),b.format===Eo&&he===6402&&b.type!==pc&&b.type!==zl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),b.type=pc,ne=o.convert(b.type)),b.format===oa&&he===6402&&(he=34041,b.type!==Fs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),b.type=Fs,ne=o.convert(b.type))),n.texImage2D(3553,0,he,K.width,K.height,0,fe,ne,null);else if(b.isDataTexture)if(be.length>0&&se){for(let ue=0,_e=be.length;ue<_e;ue++)ve=be[ue],n.texImage2D(3553,ue,he,ve.width,ve.height,0,fe,ne,ve.data);b.generateMipmaps=!1,T.__maxMipLevel=be.length-1}else n.texImage2D(3553,0,he,K.width,K.height,0,fe,ne,K.data),T.__maxMipLevel=0;else if(b.isCompressedTexture){for(let ue=0,_e=be.length;ue<_e;ue++)ve=be[ue],b.format!==Nn&&b.format!==yr?fe!==null?n.compressedTexImage2D(3553,ue,he,ve.width,ve.height,0,ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,ue,he,ve.width,ve.height,0,fe,ne,ve.data);T.__maxMipLevel=be.length-1}else if(b.isDataTexture2DArray)n.texImage3D(35866,0,he,K.width,K.height,K.depth,0,fe,ne,K.data),T.__maxMipLevel=0;else if(b.isDataTexture3D)n.texImage3D(32879,0,he,K.width,K.height,K.depth,0,fe,ne,K.data),T.__maxMipLevel=0;else if(be.length>0&&se){for(let ue=0,_e=be.length;ue<_e;ue++)ve=be[ue],n.texImage2D(3553,ue,he,fe,ne,ve);b.generateMipmaps=!1,T.__maxMipLevel=be.length-1}else n.texImage2D(3553,0,he,fe,ne,K),T.__maxMipLevel=0;x(b,se)&&w(Y,b,K.width,K.height),T.__version=b.version,b.onUpdate&&b.onUpdate(b)}function we(T,b,Q){if(b.image.length!==6)return;J(T,b),n.activeTexture(33984+Q),n.bindTexture(34067,T.__webglTexture),e.pixelStorei(37440,b.flipY);const Y=b&&(b.isCompressedTexture||b.image[0].isCompressedTexture),L=b.image[0]&&b.image[0].isDataTexture,K=[];for(let ue=0;ue<6;ue++)!Y&&!L?K[ue]=y(b.image[ue],!1,!0,c):K[ue]=L?b.image[ue].image:b.image[ue];const se=K[0],fe=m(se)||a,ne=o.convert(b.format),he=o.convert(b.type),ve=M(b.internalFormat,ne,he);j(34067,b,fe);let be;if(Y){for(let ue=0;ue<6;ue++){be=K[ue].mipmaps;for(let _e=0;_e<be.length;_e++){const nt=be[_e];b.format!==Nn&&b.format!==yr?ne!==null?n.compressedTexImage2D(34069+ue,_e,ve,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+ue,_e,ve,nt.width,nt.height,0,ne,he,nt.data)}}T.__maxMipLevel=be.length-1}else{be=b.mipmaps;for(let ue=0;ue<6;ue++)if(L){n.texImage2D(34069+ue,0,ve,K[ue].width,K[ue].height,0,ne,he,K[ue].data);for(let _e=0;_e<be.length;_e++){const Ut=be[_e].image[ue].image;n.texImage2D(34069+ue,_e+1,ve,Ut.width,Ut.height,0,ne,he,Ut.data)}}else{n.texImage2D(34069+ue,0,ve,ne,he,K[ue]);for(let _e=0;_e<be.length;_e++){const nt=be[_e];n.texImage2D(34069+ue,_e+1,ve,ne,he,nt.image[ue])}}T.__maxMipLevel=be.length}x(b,fe)&&w(34067,b,se.width,se.height),T.__version=b.version,b.onUpdate&&b.onUpdate(b)}function ze(T,b,Q,Y){const L=o.convert(b.texture.format),K=o.convert(b.texture.type),se=M(b.texture.internalFormat,L,K);n.texImage2D(Y,0,se,b.width,b.height,0,L,K,null),e.bindFramebuffer(36160,T),e.framebufferTexture2D(36160,Q,Y,i.get(b.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function W(T,b,Q){if(e.bindRenderbuffer(36161,T),b.depthBuffer&&!b.stencilBuffer){let Y=33189;if(Q){const L=b.depthTexture;L&&L.isDepthTexture&&(L.type===Ii?Y=36012:L.type===zl&&(Y=33190));const K=Pe(b);e.renderbufferStorageMultisample(36161,K,Y,b.width,b.height)}else e.renderbufferStorage(36161,Y,b.width,b.height);e.framebufferRenderbuffer(36160,36096,36161,T)}else if(b.depthBuffer&&b.stencilBuffer){if(Q){const Y=Pe(b);e.renderbufferStorageMultisample(36161,Y,35056,b.width,b.height)}else e.renderbufferStorage(36161,34041,b.width,b.height);e.framebufferRenderbuffer(36160,33306,36161,T)}else{const Y=o.convert(b.texture.format),L=o.convert(b.texture.type),K=M(b.texture.internalFormat,Y,L);if(Q){const se=Pe(b);e.renderbufferStorageMultisample(36161,se,K,b.width,b.height)}else e.renderbufferStorage(36161,K,b.width,b.height)}e.bindRenderbuffer(36161,null)}function Ke(T,b){if(b&&b.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,T),!(b.depthTexture&&b.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(b.depthTexture).__webglTexture||b.depthTexture.image.width!==b.width||b.depthTexture.image.height!==b.height)&&(b.depthTexture.image.width=b.width,b.depthTexture.image.height=b.height,b.depthTexture.needsUpdate=!0),N(b.depthTexture,0);const Y=i.get(b.depthTexture).__webglTexture;if(b.depthTexture.format===Eo)e.framebufferTexture2D(36160,36096,3553,Y,0);else if(b.depthTexture.format===oa)e.framebufferTexture2D(36160,33306,3553,Y,0);else throw new Error("Unknown depthTexture format")}function pe(T){const b=i.get(T),Q=T.isWebGLCubeRenderTarget===!0;if(T.depthTexture){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");Ke(b.__webglFramebuffer,T)}else if(Q){b.__webglDepthbuffer=[];for(let Y=0;Y<6;Y++)e.bindFramebuffer(36160,b.__webglFramebuffer[Y]),b.__webglDepthbuffer[Y]=e.createRenderbuffer(),W(b.__webglDepthbuffer[Y],T,!1)}else e.bindFramebuffer(36160,b.__webglFramebuffer),b.__webglDepthbuffer=e.createRenderbuffer(),W(b.__webglDepthbuffer,T,!1);e.bindFramebuffer(36160,null)}function Fe(T){const b=i.get(T),Q=i.get(T.texture);T.addEventListener("dispose",P),Q.__webglTexture=e.createTexture(),s.memory.textures++;const Y=T.isWebGLCubeRenderTarget===!0,L=T.isWebGLMultisampleRenderTarget===!0,K=m(T)||a;if(a&&T.texture.format===yr&&(T.texture.type===Ii||T.texture.type===mc)&&(T.texture.format=Nn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Y){b.__webglFramebuffer=[];for(let se=0;se<6;se++)b.__webglFramebuffer[se]=e.createFramebuffer()}else if(b.__webglFramebuffer=e.createFramebuffer(),L)if(a){b.__webglMultisampledFramebuffer=e.createFramebuffer(),b.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,b.__webglColorRenderbuffer);const se=o.convert(T.texture.format),fe=o.convert(T.texture.type),ne=M(T.texture.internalFormat,se,fe),he=Pe(T);e.renderbufferStorageMultisample(36161,he,ne,T.width,T.height),e.bindFramebuffer(36160,b.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,b.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),T.depthBuffer&&(b.__webglDepthRenderbuffer=e.createRenderbuffer(),W(b.__webglDepthRenderbuffer,T,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Y){n.bindTexture(34067,Q.__webglTexture),j(34067,T.texture,K);for(let se=0;se<6;se++)ze(b.__webglFramebuffer[se],T,36064,34069+se);x(T.texture,K)&&w(34067,T.texture,T.width,T.height),n.bindTexture(34067,null)}else n.bindTexture(3553,Q.__webglTexture),j(3553,T.texture,K),ze(b.__webglFramebuffer,T,36064,3553),x(T.texture,K)&&w(3553,T.texture,T.width,T.height),n.bindTexture(3553,null);T.depthBuffer&&pe(T)}function Se(T){const b=T.texture,Q=m(T)||a;if(x(b,Q)){const Y=T.isWebGLCubeRenderTarget?34067:3553,L=i.get(b).__webglTexture;n.bindTexture(Y,L),w(Y,b,T.width,T.height),n.bindTexture(Y,null)}}function Ue(T){if(T.isWebGLMultisampleRenderTarget)if(a){const b=i.get(T);e.bindFramebuffer(36008,b.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,b.__webglFramebuffer);const Q=T.width,Y=T.height;let L=16384;T.depthBuffer&&(L|=256),T.stencilBuffer&&(L|=1024),e.blitFramebuffer(0,0,Q,Y,0,0,Q,Y,L,9728),e.bindFramebuffer(36160,b.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Pe(T){return a&&T.isWebGLMultisampleRenderTarget?Math.min(u,T.samples):0}function $(T){const b=s.render.frame;f.get(T)!==b&&(f.set(T,b),T.update())}let ee=!1,re=!1;function ge(T,b){T&&T.isWebGLRenderTarget&&(ee===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),ee=!0),T=T.texture),N(T,b)}function ae(T,b){T&&T.isWebGLCubeRenderTarget&&(re===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),re=!0),T=T.texture),q(T,b)}this.allocateTextureUnit=k,this.resetTextureUnits=z,this.setTexture2D=N,this.setTexture2DArray=A,this.setTexture3D=B,this.setTextureCube=q,this.setupRenderTarget=Fe,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=Ue,this.safeSetTexture2D=ge,this.safeSetTextureCube=ae}function BE(e,t,n){const i=n.isWebGL2;function r(o){let s;if(o===Vd)return 5121;if(o===S2)return 32819;if(o===b2)return 32820;if(o===E2)return 33635;if(o===_2)return 5120;if(o===w2)return 5122;if(o===pc)return 5123;if(o===M2)return 5124;if(o===zl)return 5125;if(o===Ii)return 5126;if(o===mc)return i?5131:(s=t.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===T2)return 6406;if(o===yr)return 6407;if(o===Nn)return 6408;if(o===C2)return 6409;if(o===L2)return 6410;if(o===Eo)return 6402;if(o===oa)return 34041;if(o===A2)return 6403;if(o===P2)return 36244;if(o===R2)return 33319;if(o===N2)return 33320;if(o===I2)return 36248;if(o===D2)return 36249;if(o===Cm||o===Lm||o===Am||o===Pm)if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===Cm)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Lm)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Am)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Pm)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Rm||o===Nm||o===Im||o===Dm)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===Rm)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Nm)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Im)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Dm)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===O2)return s=t.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===Om||o===Fm)&&(s=t.get("WEBGL_compressed_texture_etc"),s!==null)){if(o===Om)return s.COMPRESSED_RGB8_ETC2;if(o===Fm)return s.COMPRESSED_RGBA8_ETC2_EAC}if(o===F2||o===k2||o===B2||o===z2||o===U2||o===H2||o===V2||o===G2||o===W2||o===j2||o===X2||o===q2||o===Y2||o===Z2||o===J2||o===Q2||o===K2||o===eM||o===tM||o===nM||o===iM||o===rM||o===oM||o===sM||o===aM||o===lM||o===cM||o===uM)return s=t.get("WEBGL_compressed_texture_astc"),s!==null?o:null;if(o===$2)return s=t.get("EXT_texture_compression_bptc"),s!==null?o:null;if(o===Fs)return i?34042:(s=t.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}function gf(e=[]){yt.call(this),this.cameras=e}gf.prototype=Object.assign(Object.create(yt.prototype),{constructor:gf,isArrayCamera:!0});function mr(){ye.call(this),this.type="Group"}mr.prototype=Object.assign(Object.create(ye.prototype),{constructor:mr,isGroup:!0});function Bs(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(Bs.prototype,{constructor:Bs,getHandSpace:function(){if(this._hand===null&&(this._hand=new mr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){const t=new mr;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new mr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new mr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(l&&e.hand){o=!0;for(let c=0;c<=window.XRHand.LITTLE_PHALANX_TIP;c++)if(e.hand[c]){const h=t.getJointPose(e.hand[c],n),u=l.joints[c];h!==null&&(u.matrix.fromArray(h.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.jointRadius=h.radius),u.visible=h!==null;const f=l.joints[window.XRHand.INDEX_PHALANX_TIP],p=l.joints[window.XRHand.THUMB_PHALANX_TIP],g=f.position.distanceTo(p.position),v=.02,y=.005;l.inputState.pinching&&g>v+y?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=v-y&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else s!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),a!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return s!==null&&(s.visible=i!==null),a!==null&&(a.visible=r!==null),l!==null&&(l.visible=o!==null),this}});function By(e,t){const n=this;let i=null,r=1,o=null,s="local-floor",a=null;const l=[],c=new Map,h=new yt;h.layers.enable(1),h.viewport=new Ge;const u=new yt;u.layers.enable(2),u.viewport=new Ge;const f=[h,u],p=new gf;p.layers.enable(1),p.layers.enable(2);let g=null,v=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(R){let z=l[R];return z===void 0&&(z=new Bs,l[R]=z),z.getTargetRaySpace()},this.getControllerGrip=function(R){let z=l[R];return z===void 0&&(z=new Bs,l[R]=z),z.getGripSpace()},this.getHand=function(R){let z=l[R];return z===void 0&&(z=new Bs,l[R]=z),z.getHandSpace()};function y(R){const z=c.get(R.inputSource);z&&z.dispatchEvent({type:R.type,data:R.inputSource})}function m(){c.forEach(function(R,z){R.disconnect(z)}),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),U.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function d(R){o=R,U.setContext(i),U.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(R){r=R,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(R){s=R,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(R){if(i=R,i!==null){i.addEventListener("select",y),i.addEventListener("selectstart",y),i.addEventListener("selectend",y),i.addEventListener("squeeze",y),i.addEventListener("squeezestart",y),i.addEventListener("squeezeend",y),i.addEventListener("end",m);const z=t.getContextAttributes();z.xrCompatible!==!0&&t.makeXRCompatible();const k={antialias:z.antialias,alpha:z.alpha,depth:z.depth,stencil:z.stencil,framebufferScaleFactor:r},N=new XRWebGLLayer(i,t,k);i.updateRenderState({baseLayer:N}),i.requestReferenceSpace(s).then(d),i.addEventListener("inputsourceschange",x)}};function x(R){const z=i.inputSources;for(let k=0;k<l.length;k++)c.set(z[k],l[k]);for(let k=0;k<R.removed.length;k++){const N=R.removed[k],A=c.get(N);A&&(A.dispatchEvent({type:"disconnected",data:N}),c.delete(N))}for(let k=0;k<R.added.length;k++){const N=R.added[k],A=c.get(N);A&&A.dispatchEvent({type:"connected",data:N})}}const w=new C,M=new C;function _(R,z,k){w.setFromMatrixPosition(z.matrixWorld),M.setFromMatrixPosition(k.matrixWorld);const N=w.distanceTo(M),A=z.projectionMatrix.elements,B=k.projectionMatrix.elements,q=A[14]/(A[10]-1),O=A[14]/(A[10]+1),V=(A[9]+1)/A[5],j=(A[9]-1)/A[5],J=(A[8]-1)/A[0],ce=(B[8]+1)/B[0],we=q*J,ze=q*ce,W=N/(-J+ce),Ke=W*-J;z.matrixWorld.decompose(R.position,R.quaternion,R.scale),R.translateX(Ke),R.translateZ(W),R.matrixWorld.compose(R.position,R.quaternion,R.scale),R.matrixWorldInverse.copy(R.matrixWorld).invert();const pe=q+W,Fe=O+W,Se=we-Ke,Ue=ze+(N-Ke),Pe=V*O/Fe*pe,$=j*O/Fe*pe;R.projectionMatrix.makePerspective(Se,Ue,Pe,$,pe,Fe)}function E(R,z){z===null?R.matrixWorld.copy(R.matrix):R.matrixWorld.multiplyMatrices(z.matrixWorld,R.matrix),R.matrixWorldInverse.copy(R.matrixWorld).invert()}this.getCamera=function(R){p.near=u.near=h.near=R.near,p.far=u.far=h.far=R.far,(g!==p.near||v!==p.far)&&(i.updateRenderState({depthNear:p.near,depthFar:p.far}),g=p.near,v=p.far);const z=R.parent,k=p.cameras;E(p,z);for(let A=0;A<k.length;A++)E(k[A],z);R.matrixWorld.copy(p.matrixWorld);const N=R.children;for(let A=0,B=N.length;A<B;A++)N[A].updateMatrixWorld(!0);return k.length===2?_(p,h,u):p.projectionMatrix.copy(h.projectionMatrix),p};let P=null;function I(R,z){if(a=z.getViewerPose(o),a!==null){const N=a.views,A=i.renderState.baseLayer;e.setFramebuffer(A.framebuffer);let B=!1;N.length!==p.cameras.length&&(p.cameras.length=0,B=!0);for(let q=0;q<N.length;q++){const O=N[q],V=A.getViewport(O),j=f[q];j.matrix.fromArray(O.transform.matrix),j.projectionMatrix.fromArray(O.projectionMatrix),j.viewport.set(V.x,V.y,V.width,V.height),q===0&&p.matrix.copy(j.matrix),B===!0&&p.cameras.push(j)}}const k=i.inputSources;for(let N=0;N<l.length;N++){const A=l[N],B=k[N];A.update(B,z,o)}P&&P(R,z)}const U=new Ay;U.setAnimationLoop(I),this.setAnimationLoop=function(R){P=R},this.dispose=function(){}}Object.assign(By.prototype,xi.prototype);function zE(e){function t(m,d){m.fogColor.value.copy(d.color),d.isFog?(m.fogNear.value=d.near,m.fogFar.value=d.far):d.isFogExp2&&(m.fogDensity.value=d.density)}function n(m,d,x,w){d.isMeshBasicMaterial?i(m,d):d.isMeshLambertMaterial?(i(m,d),l(m,d)):d.isMeshToonMaterial?(i(m,d),h(m,d)):d.isMeshPhongMaterial?(i(m,d),c(m,d)):d.isMeshStandardMaterial?(i(m,d),d.isMeshPhysicalMaterial?f(m,d):u(m,d)):d.isMeshMatcapMaterial?(i(m,d),p(m,d)):d.isMeshDepthMaterial?(i(m,d),g(m,d)):d.isMeshDistanceMaterial?(i(m,d),v(m,d)):d.isMeshNormalMaterial?(i(m,d),y(m,d)):d.isLineBasicMaterial?(r(m,d),d.isLineDashedMaterial&&o(m,d)):d.isPointsMaterial?s(m,d,x,w):d.isSpriteMaterial?a(m,d):d.isShadowMaterial?(m.color.value.copy(d.color),m.opacity.value=d.opacity):d.isShaderMaterial&&(d.uniformsNeedUpdate=!1)}function i(m,d){m.opacity.value=d.opacity,d.color&&m.diffuse.value.copy(d.color),d.emissive&&m.emissive.value.copy(d.emissive).multiplyScalar(d.emissiveIntensity),d.map&&(m.map.value=d.map),d.alphaMap&&(m.alphaMap.value=d.alphaMap),d.specularMap&&(m.specularMap.value=d.specularMap);const x=e.get(d).envMap;if(x){m.envMap.value=x,m.flipEnvMap.value=x.isCubeTexture&&x._needsFlipEnvMap?-1:1,m.reflectivity.value=d.reflectivity,m.refractionRatio.value=d.refractionRatio;const _=e.get(x).__maxMipLevel;_!==void 0&&(m.maxMipLevel.value=_)}d.lightMap&&(m.lightMap.value=d.lightMap,m.lightMapIntensity.value=d.lightMapIntensity),d.aoMap&&(m.aoMap.value=d.aoMap,m.aoMapIntensity.value=d.aoMapIntensity);let w;d.map?w=d.map:d.specularMap?w=d.specularMap:d.displacementMap?w=d.displacementMap:d.normalMap?w=d.normalMap:d.bumpMap?w=d.bumpMap:d.roughnessMap?w=d.roughnessMap:d.metalnessMap?w=d.metalnessMap:d.alphaMap?w=d.alphaMap:d.emissiveMap?w=d.emissiveMap:d.clearcoatMap?w=d.clearcoatMap:d.clearcoatNormalMap?w=d.clearcoatNormalMap:d.clearcoatRoughnessMap&&(w=d.clearcoatRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),m.uvTransform.value.copy(w.matrix));let M;d.aoMap?M=d.aoMap:d.lightMap&&(M=d.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),m.uv2Transform.value.copy(M.matrix))}function r(m,d){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity}function o(m,d){m.dashSize.value=d.dashSize,m.totalSize.value=d.dashSize+d.gapSize,m.scale.value=d.scale}function s(m,d,x,w){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,m.size.value=d.size*x,m.scale.value=w*.5,d.map&&(m.map.value=d.map),d.alphaMap&&(m.alphaMap.value=d.alphaMap);let M;d.map?M=d.map:d.alphaMap&&(M=d.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),m.uvTransform.value.copy(M.matrix))}function a(m,d){m.diffuse.value.copy(d.color),m.opacity.value=d.opacity,m.rotation.value=d.rotation,d.map&&(m.map.value=d.map),d.alphaMap&&(m.alphaMap.value=d.alphaMap);let x;d.map?x=d.map:d.alphaMap&&(x=d.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix))}function l(m,d){d.emissiveMap&&(m.emissiveMap.value=d.emissiveMap)}function c(m,d){m.specular.value.copy(d.specular),m.shininess.value=Math.max(d.shininess,1e-4),d.emissiveMap&&(m.emissiveMap.value=d.emissiveMap),d.bumpMap&&(m.bumpMap.value=d.bumpMap,m.bumpScale.value=d.bumpScale,d.side===St&&(m.bumpScale.value*=-1)),d.normalMap&&(m.normalMap.value=d.normalMap,m.normalScale.value.copy(d.normalScale),d.side===St&&m.normalScale.value.negate()),d.displacementMap&&(m.displacementMap.value=d.displacementMap,m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias)}function h(m,d){d.gradientMap&&(m.gradientMap.value=d.gradientMap),d.emissiveMap&&(m.emissiveMap.value=d.emissiveMap),d.bumpMap&&(m.bumpMap.value=d.bumpMap,m.bumpScale.value=d.bumpScale,d.side===St&&(m.bumpScale.value*=-1)),d.normalMap&&(m.normalMap.value=d.normalMap,m.normalScale.value.copy(d.normalScale),d.side===St&&m.normalScale.value.negate()),d.displacementMap&&(m.displacementMap.value=d.displacementMap,m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias)}function u(m,d){m.roughness.value=d.roughness,m.metalness.value=d.metalness,d.roughnessMap&&(m.roughnessMap.value=d.roughnessMap),d.metalnessMap&&(m.metalnessMap.value=d.metalnessMap),d.emissiveMap&&(m.emissiveMap.value=d.emissiveMap),d.bumpMap&&(m.bumpMap.value=d.bumpMap,m.bumpScale.value=d.bumpScale,d.side===St&&(m.bumpScale.value*=-1)),d.normalMap&&(m.normalMap.value=d.normalMap,m.normalScale.value.copy(d.normalScale),d.side===St&&m.normalScale.value.negate()),d.displacementMap&&(m.displacementMap.value=d.displacementMap,m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias),e.get(d).envMap&&(m.envMapIntensity.value=d.envMapIntensity)}function f(m,d){u(m,d),m.reflectivity.value=d.reflectivity,m.clearcoat.value=d.clearcoat,m.clearcoatRoughness.value=d.clearcoatRoughness,d.sheen&&m.sheen.value.copy(d.sheen),d.clearcoatMap&&(m.clearcoatMap.value=d.clearcoatMap),d.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=d.clearcoatRoughnessMap),d.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(d.clearcoatNormalScale),m.clearcoatNormalMap.value=d.clearcoatNormalMap,d.side===St&&m.clearcoatNormalScale.value.negate()),m.transmission.value=d.transmission,d.transmissionMap&&(m.transmissionMap.value=d.transmissionMap)}function p(m,d){d.matcap&&(m.matcap.value=d.matcap),d.bumpMap&&(m.bumpMap.value=d.bumpMap,m.bumpScale.value=d.bumpScale,d.side===St&&(m.bumpScale.value*=-1)),d.normalMap&&(m.normalMap.value=d.normalMap,m.normalScale.value.copy(d.normalScale),d.side===St&&m.normalScale.value.negate()),d.displacementMap&&(m.displacementMap.value=d.displacementMap,m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias)}function g(m,d){d.displacementMap&&(m.displacementMap.value=d.displacementMap,m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias)}function v(m,d){d.displacementMap&&(m.displacementMap.value=d.displacementMap,m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias),m.referencePosition.value.copy(d.referencePosition),m.nearDistance.value=d.nearDistance,m.farDistance.value=d.farDistance}function y(m,d){d.bumpMap&&(m.bumpMap.value=d.bumpMap,m.bumpScale.value=d.bumpScale,d.side===St&&(m.bumpScale.value*=-1)),d.normalMap&&(m.normalMap.value=d.normalMap,m.normalScale.value.copy(d.normalScale),d.side===St&&m.normalScale.value.negate()),d.displacementMap&&(m.displacementMap.value=d.displacementMap,m.displacementScale.value=d.displacementScale,m.displacementBias.value=d.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function UE(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}function Aa(e){e=e||{};const t=e.canvas!==void 0?e.canvas:UE(),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,o=e.stencil!==void 0?e.stencil:!0,s=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",h=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let u=null,f=null;const p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ta,this.physicallyCorrectLights=!1,this.toneMapping=Os,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const g=this;let v=!1,y=null,m=0,d=0,x=null,w=null,M=-1,_=null;const E=new Ge,P=new Ge;let I=null,U=t.width,R=t.height,z=1,k=null,N=null;const A=new Ge(0,0,U,R),B=new Ge(0,0,U,R);let q=!1;const O=new Jc;let V=!1,j=!1;const J=new Ce,ce=new C,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ze(){return x===null?z:1}let W=n;function Ke(S,H){for(let F=0;F<S.length;F++){const G=S[F],oe=t.getContext(G,H);if(oe!==null)return oe}return null}try{const S={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h};if(t.addEventListener("webglcontextlost",nt,!1),t.addEventListener("webglcontextrestored",Ut,!1),W===null){const H=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&H.shift(),W=Ke(H,S),W===null)throw Ke(H)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(S){throw console.error("THREE.WebGLRenderer: "+S.message),S}let pe,Fe,Se,Ue,Pe,$,ee,re,ge,ae,T,b,Q,Y,L,K,se,fe,ne,he,ve;function be(){pe=new vb(W),Fe=new pb(W,pe,e),Fe.isWebGL2===!1&&(pe.get("WEBGL_depth_texture"),pe.get("OES_texture_float"),pe.get("OES_texture_half_float"),pe.get("OES_texture_half_float_linear"),pe.get("OES_standard_derivatives"),pe.get("OES_element_index_uint"),pe.get("OES_vertex_array_object"),pe.get("ANGLE_instanced_arrays")),pe.get("OES_texture_float_linear"),he=new BE(W,pe,Fe),Se=new FE(W,pe,Fe),Se.scissor(P.copy(B).multiplyScalar(z).floor()),Se.viewport(E.copy(A).multiplyScalar(z).floor()),Ue=new _b,Pe=new bE,$=new kE(W,pe,Se,Pe,Fe,he,Ue),ee=new gb(g),re=new VM(W,Fe),ve=new fb(W,pe,re,Fe),ge=new yb(W,re,Ue,ve),ae=new bb(W,ge,re,Ue),se=new Sb(W),L=new mb(Pe),T=new SE(g,ee,pe,Fe,ve,L),b=new zE(Pe),Q=new CE(Pe),Y=new IE(pe,Fe),K=new hb(g,ee,Se,ae,a),fe=new db(W,pe,Ue,Fe),ne=new xb(W,pe,Ue,Fe),Ue.programs=T.programs,g.capabilities=Fe,g.extensions=pe,g.properties=Pe,g.renderLists=Q,g.state=Se,g.info=Ue}be();const ue=new By(g,W);this.xr=ue;const _e=new ky(g,ae,Fe.maxTextureSize);this.shadowMap=_e,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){const S=pe.get("WEBGL_lose_context");S&&S.loseContext()},this.forceContextRestore=function(){const S=pe.get("WEBGL_lose_context");S&&S.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(S){S!==void 0&&(z=S,this.setSize(U,R,!1))},this.getSize=function(S){return S===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),S=new X),S.set(U,R)},this.setSize=function(S,H,F){if(ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=S,R=H,t.width=Math.floor(S*z),t.height=Math.floor(H*z),F!==!1&&(t.style.width=S+"px",t.style.height=H+"px"),this.setViewport(0,0,S,H)},this.getDrawingBufferSize=function(S){return S===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),S=new X),S.set(U*z,R*z).floor()},this.setDrawingBufferSize=function(S,H,F){U=S,R=H,z=F,t.width=Math.floor(S*F),t.height=Math.floor(H*F),this.setViewport(0,0,S,H)},this.getCurrentViewport=function(S){return S===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),S=new Ge),S.copy(E)},this.getViewport=function(S){return S.copy(A)},this.setViewport=function(S,H,F,G){S.isVector4?A.set(S.x,S.y,S.z,S.w):A.set(S,H,F,G),Se.viewport(E.copy(A).multiplyScalar(z).floor())},this.getScissor=function(S){return S.copy(B)},this.setScissor=function(S,H,F,G){S.isVector4?B.set(S.x,S.y,S.z,S.w):B.set(S,H,F,G),Se.scissor(P.copy(B).multiplyScalar(z).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(S){Se.setScissorTest(q=S)},this.setOpaqueSort=function(S){k=S},this.setTransparentSort=function(S){N=S},this.getClearColor=function(S){return S===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),S=new de),S.copy(K.getClearColor())},this.setClearColor=function(){K.setClearColor.apply(K,arguments)},this.getClearAlpha=function(){return K.getClearAlpha()},this.setClearAlpha=function(){K.setClearAlpha.apply(K,arguments)},this.clear=function(S,H,F){let G=0;(S===void 0||S)&&(G|=16384),(H===void 0||H)&&(G|=256),(F===void 0||F)&&(G|=1024),W.clear(G)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",nt,!1),t.removeEventListener("webglcontextrestored",Ut,!1),Q.dispose(),Y.dispose(),Pe.dispose(),ee.dispose(),ae.dispose(),ve.dispose(),ue.dispose(),Qo.stop()};function nt(S){S.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Ut(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1,be()}function Yd(S){const H=S.target;H.removeEventListener("dispose",Yd),Qy(H)}function Qy(S){Zd(S),Pe.remove(S)}function Zd(S){const H=Pe.get(S).program;H!==void 0&&T.releaseProgram(H)}function Ky(S,H){S.render(function(F){g.renderBufferImmediate(F,H)})}this.renderBufferImmediate=function(S,H){ve.initAttributes();const F=Pe.get(S);S.hasPositions&&!F.position&&(F.position=W.createBuffer()),S.hasNormals&&!F.normal&&(F.normal=W.createBuffer()),S.hasUvs&&!F.uv&&(F.uv=W.createBuffer()),S.hasColors&&!F.color&&(F.color=W.createBuffer());const G=H.getAttributes();S.hasPositions&&(W.bindBuffer(34962,F.position),W.bufferData(34962,S.positionArray,35048),ve.enableAttribute(G.position),W.vertexAttribPointer(G.position,3,5126,!1,0,0)),S.hasNormals&&(W.bindBuffer(34962,F.normal),W.bufferData(34962,S.normalArray,35048),ve.enableAttribute(G.normal),W.vertexAttribPointer(G.normal,3,5126,!1,0,0)),S.hasUvs&&(W.bindBuffer(34962,F.uv),W.bufferData(34962,S.uvArray,35048),ve.enableAttribute(G.uv),W.vertexAttribPointer(G.uv,2,5126,!1,0,0)),S.hasColors&&(W.bindBuffer(34962,F.color),W.bufferData(34962,S.colorArray,35048),ve.enableAttribute(G.color),W.vertexAttribPointer(G.color,3,5126,!1,0,0)),ve.disableUnusedAttributes(),W.drawArrays(4,0,S.count),S.count=0},this.renderBufferDirect=function(S,H,F,G,oe,Ne){H===null&&(H=we);const Le=oe.isMesh&&oe.matrixWorld.determinant()<0,Oe=Kd(S,H,G,oe);Se.setMaterial(G,Le);let Ae=F.index;const ut=F.attributes.position;if(Ae===null){if(ut===void 0||ut.count===0)return}else if(Ae.count===0)return;let lt=1;G.wireframe===!0&&(Ae=ge.getWireframeAttribute(F),lt=2),(G.morphTargets||G.morphNormals)&&se.update(oe,F,G,Oe),ve.setup(oe,G,Oe,F,Ae);let Ee,je=fe;Ae!==null&&(Ee=re.get(Ae),je=ne,je.setIndex(Ee));const $n=Ae!==null?Ae.count:ut.count,Xe=F.drawRange.start*lt,or=F.drawRange.count*lt,mt=Ne!==null?Ne.start*lt:0,eu=Ne!==null?Ne.count*lt:1/0,Ht=Math.max(Xe,mt),Ko=Math.min($n,Xe+or,mt+eu)-1,Or=Math.max(0,Ko-Ht+1);if(Or!==0){if(oe.isMesh)G.wireframe===!0?(Se.setLineWidth(G.wireframeLinewidth*ze()),je.setMode(1)):je.setMode(4);else if(oe.isLine){let es=G.linewidth;es===void 0&&(es=1),Se.setLineWidth(es*ze()),oe.isLineSegments?je.setMode(1):oe.isLineLoop?je.setMode(2):je.setMode(3)}else oe.isPoints?je.setMode(0):oe.isSprite&&je.setMode(4);if(oe.isInstancedMesh)je.renderInstances(Ht,Or,oe.count);else if(F.isInstancedBufferGeometry){const es=Math.min(F.instanceCount,F._maxInstanceCount);je.renderInstances(Ht,Or,es)}else je.render(Ht,Or)}},this.compile=function(S,H){f=Y.get(S),f.init(),S.traverseVisible(function(G){G.isLight&&G.layers.test(H.layers)&&(f.pushLight(G),G.castShadow&&f.pushShadow(G))}),f.setupLights();const F=new WeakMap;S.traverse(function(G){const oe=G.material;if(oe)if(Array.isArray(oe))for(let Ne=0;Ne<oe.length;Ne++){const Le=oe[Ne];F.has(Le)===!1&&(Zn(Le,S,G),F.set(Le))}else F.has(oe)===!1&&(Zn(oe,S,G),F.set(oe))})};let Kc=null;function e1(S){ue.isPresenting||Kc&&Kc(S)}const Qo=new Ay;Qo.setAnimationLoop(e1),typeof window<"u"&&Qo.setContext(window),this.setAnimationLoop=function(S){Kc=S,ue.setAnimationLoop(S),S===null?Qo.stop():Qo.start()},this.render=function(S,H){let F,G;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),F=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),G=arguments[3]),H!==void 0&&H.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;ve.resetDefaultState(),M=-1,_=null,S.autoUpdate===!0&&S.updateMatrixWorld(),H.parent===null&&H.updateMatrixWorld(),ue.enabled===!0&&ue.isPresenting===!0&&(H=ue.getCamera(H)),S.isScene===!0&&S.onBeforeRender(g,S,H,F||x),f=Y.get(S,p.length),f.init(),p.push(f),J.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),O.setFromProjectionMatrix(J),j=this.localClippingEnabled,V=L.init(this.clippingPlanes,j,H),u=Q.get(S,H),u.init(),$d(S,H,0,g.sortObjects),u.finish(),g.sortObjects===!0&&u.sort(k,N),V===!0&&L.beginShadows();const oe=f.state.shadowsArray;_e.render(oe,S,H),f.setupLights(),f.setupLightsView(H),V===!0&&L.endShadows(),this.info.autoReset===!0&&this.info.reset(),F!==void 0&&this.setRenderTarget(F),K.render(u,S,H,G);const Ne=u.opaque,Le=u.transparent;Ne.length>0&&Jd(Ne,S,H),Le.length>0&&Jd(Le,S,H),S.isScene===!0&&S.onAfterRender(g,S,H),x!==null&&($.updateRenderTargetMipmap(x),$.updateMultisampleRenderTarget(x)),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1),p.pop(),p.length>0?f=p[p.length-1]:f=null,u=null};function $d(S,H,F,G){if(S.visible===!1)return;if(S.layers.test(H.layers)){if(S.isGroup)F=S.renderOrder;else if(S.isLOD)S.autoUpdate===!0&&S.update(H);else if(S.isLight)f.pushLight(S),S.castShadow&&f.pushShadow(S);else if(S.isSprite){if(!S.frustumCulled||O.intersectsSprite(S)){G&&ce.setFromMatrixPosition(S.matrixWorld).applyMatrix4(J);const Le=ae.update(S),Oe=S.material;Oe.visible&&u.push(S,Le,Oe,F,ce.z,null)}}else if(S.isImmediateRenderObject)G&&ce.setFromMatrixPosition(S.matrixWorld).applyMatrix4(J),u.push(S,null,S.material,F,ce.z,null);else if((S.isMesh||S.isLine||S.isPoints)&&(S.isSkinnedMesh&&S.skeleton.frame!==Ue.render.frame&&(S.skeleton.update(),S.skeleton.frame=Ue.render.frame),!S.frustumCulled||O.intersectsObject(S))){G&&ce.setFromMatrixPosition(S.matrixWorld).applyMatrix4(J);const Le=ae.update(S),Oe=S.material;if(Array.isArray(Oe)){const Ae=Le.groups;for(let ut=0,lt=Ae.length;ut<lt;ut++){const Ee=Ae[ut],je=Oe[Ee.materialIndex];je&&je.visible&&u.push(S,Le,je,F,ce.z,Ee)}}else Oe.visible&&u.push(S,Le,Oe,F,ce.z,null)}}const Ne=S.children;for(let Le=0,Oe=Ne.length;Le<Oe;Le++)$d(Ne[Le],H,F,G)}function Jd(S,H,F){const G=H.isScene===!0?H.overrideMaterial:null;for(let oe=0,Ne=S.length;oe<Ne;oe++){const Le=S[oe],Oe=Le.object,Ae=Le.geometry,ut=G===null?Le.material:G,lt=Le.group;if(F.isArrayCamera){const Ee=F.cameras;for(let je=0,$n=Ee.length;je<$n;je++){const Xe=Ee[je];Oe.layers.test(Xe.layers)&&(Se.viewport(E.copy(Xe.viewport)),f.setupLightsView(Xe),Qd(Oe,H,Xe,Ae,ut,lt))}}else Qd(Oe,H,F,Ae,ut,lt)}}function Qd(S,H,F,G,oe,Ne){if(S.onBeforeRender(g,H,F,G,oe,Ne),S.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,S.matrixWorld),S.normalMatrix.getNormalMatrix(S.modelViewMatrix),S.isImmediateRenderObject){const Le=Kd(F,H,oe,S);Se.setMaterial(oe),ve.reset(),Ky(S,Le)}else g.renderBufferDirect(F,H,G,oe,S,Ne);S.onAfterRender(g,H,F,G,oe,Ne)}function Zn(S,H,F){H.isScene!==!0&&(H=we);const G=Pe.get(S),oe=f.state.lights,Ne=f.state.shadowsArray,Le=oe.state.version,Oe=T.getParameters(S,oe.state,Ne,H,F),Ae=T.getProgramCacheKey(Oe);let ut=G.program,lt=!0;if(ut===void 0)S.addEventListener("dispose",Yd);else if(ut.cacheKey!==Ae)Zd(S);else if(G.lightsStateVersion!==Le)lt=!1;else if(Oe.shaderID!==void 0){const Xe=S.isMeshStandardMaterial?H.environment:null;G.envMap=ee.get(S.envMap||Xe);return}else lt=!1;lt&&(Oe.uniforms=T.getUniforms(S),S.onBeforeCompile(Oe,g),ut=T.acquireProgram(Oe,Ae),G.program=ut,G.uniforms=Oe.uniforms,G.outputEncoding=Oe.outputEncoding);const Ee=G.uniforms;(!S.isShaderMaterial&&!S.isRawShaderMaterial||S.clipping===!0)&&(G.numClippingPlanes=L.numPlanes,G.numIntersection=L.numIntersection,Ee.clippingPlanes=L.uniform),G.environment=S.isMeshStandardMaterial?H.environment:null,G.fog=H.fog,G.envMap=ee.get(S.envMap||G.environment),G.needsLights=n1(S),G.lightsStateVersion=Le,G.needsLights&&(Ee.ambientLightColor.value=oe.state.ambient,Ee.lightProbe.value=oe.state.probe,Ee.directionalLights.value=oe.state.directional,Ee.directionalLightShadows.value=oe.state.directionalShadow,Ee.spotLights.value=oe.state.spot,Ee.spotLightShadows.value=oe.state.spotShadow,Ee.rectAreaLights.value=oe.state.rectArea,Ee.ltc_1.value=oe.state.rectAreaLTC1,Ee.ltc_2.value=oe.state.rectAreaLTC2,Ee.pointLights.value=oe.state.point,Ee.pointLightShadows.value=oe.state.pointShadow,Ee.hemisphereLights.value=oe.state.hemi,Ee.directionalShadowMap.value=oe.state.directionalShadowMap,Ee.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,Ee.spotShadowMap.value=oe.state.spotShadowMap,Ee.spotShadowMatrix.value=oe.state.spotShadowMatrix,Ee.pointShadowMap.value=oe.state.pointShadowMap,Ee.pointShadowMatrix.value=oe.state.pointShadowMatrix);const je=G.program.getUniforms(),$n=qi.seqWithValue(je.seq,Ee);G.uniformsList=$n}function Kd(S,H,F,G){H.isScene!==!0&&(H=we),$.resetTextureUnits();const oe=H.fog,Ne=F.isMeshStandardMaterial?H.environment:null,Le=x===null?g.outputEncoding:x.texture.encoding,Oe=ee.get(F.envMap||Ne),Ae=Pe.get(F),ut=f.state.lights;if(V===!0&&(j===!0||S!==_)){const mt=S===_&&F.id===M;L.setState(F,S,mt)}F.version===Ae.__version?(F.fog&&Ae.fog!==oe||Ae.environment!==Ne||Ae.needsLights&&Ae.lightsStateVersion!==ut.state.version||Ae.numClippingPlanes!==void 0&&(Ae.numClippingPlanes!==L.numPlanes||Ae.numIntersection!==L.numIntersection)||Ae.outputEncoding!==Le||Ae.envMap!==Oe)&&Zn(F,H,G):(Zn(F,H,G),Ae.__version=F.version);let lt=!1,Ee=!1,je=!1;const $n=Ae.program,Xe=$n.getUniforms(),or=Ae.uniforms;if(Se.useProgram($n.program)&&(lt=!0,Ee=!0,je=!0),F.id!==M&&(M=F.id,Ee=!0),lt||_!==S){if(Xe.setValue(W,"projectionMatrix",S.projectionMatrix),Fe.logarithmicDepthBuffer&&Xe.setValue(W,"logDepthBufFC",2/(Math.log(S.far+1)/Math.LN2)),_!==S&&(_=S,Ee=!0,je=!0),F.isShaderMaterial||F.isMeshPhongMaterial||F.isMeshToonMaterial||F.isMeshStandardMaterial||F.envMap){const mt=Xe.map.cameraPosition;mt!==void 0&&mt.setValue(W,ce.setFromMatrixPosition(S.matrixWorld))}(F.isMeshPhongMaterial||F.isMeshToonMaterial||F.isMeshLambertMaterial||F.isMeshBasicMaterial||F.isMeshStandardMaterial||F.isShaderMaterial)&&Xe.setValue(W,"isOrthographic",S.isOrthographicCamera===!0),(F.isMeshPhongMaterial||F.isMeshToonMaterial||F.isMeshLambertMaterial||F.isMeshBasicMaterial||F.isMeshStandardMaterial||F.isShaderMaterial||F.isShadowMaterial||F.skinning)&&Xe.setValue(W,"viewMatrix",S.matrixWorldInverse)}if(F.skinning){Xe.setOptional(W,G,"bindMatrix"),Xe.setOptional(W,G,"bindMatrixInverse");const mt=G.skeleton;if(mt){const eu=mt.bones;if(Fe.floatVertexTextures){if(mt.boneTexture===null){let Ht=Math.sqrt(eu.length*4);Ht=Te.ceilPowerOfTwo(Ht),Ht=Math.max(Ht,4);const Ko=new Float32Array(Ht*Ht*4);Ko.set(mt.boneMatrices);const Or=new Fo(Ko,Ht,Ht,Nn,Ii);mt.boneMatrices=Ko,mt.boneTexture=Or,mt.boneTextureSize=Ht}Xe.setValue(W,"boneTexture",mt.boneTexture,$),Xe.setValue(W,"boneTextureSize",mt.boneTextureSize)}else Xe.setOptional(W,mt,"boneMatrices")}}return(Ee||Ae.receiveShadow!==G.receiveShadow)&&(Ae.receiveShadow=G.receiveShadow,Xe.setValue(W,"receiveShadow",G.receiveShadow)),Ee&&(Xe.setValue(W,"toneMappingExposure",g.toneMappingExposure),Ae.needsLights&&t1(or,je),oe&&F.fog&&b.refreshFogUniforms(or,oe),b.refreshMaterialUniforms(or,F,z,R),qi.upload(W,Ae.uniformsList,or,$)),F.isShaderMaterial&&F.uniformsNeedUpdate===!0&&(qi.upload(W,Ae.uniformsList,or,$),F.uniformsNeedUpdate=!1),F.isSpriteMaterial&&Xe.setValue(W,"center",G.center),Xe.setValue(W,"modelViewMatrix",G.modelViewMatrix),Xe.setValue(W,"normalMatrix",G.normalMatrix),Xe.setValue(W,"modelMatrix",G.matrixWorld),$n}function t1(S,H){S.ambientLightColor.needsUpdate=H,S.lightProbe.needsUpdate=H,S.directionalLights.needsUpdate=H,S.directionalLightShadows.needsUpdate=H,S.pointLights.needsUpdate=H,S.pointLightShadows.needsUpdate=H,S.spotLights.needsUpdate=H,S.spotLightShadows.needsUpdate=H,S.rectAreaLights.needsUpdate=H,S.hemisphereLights.needsUpdate=H}function n1(S){return S.isMeshLambertMaterial||S.isMeshToonMaterial||S.isMeshPhongMaterial||S.isMeshStandardMaterial||S.isShadowMaterial||S.isShaderMaterial&&S.lights===!0}this.setFramebuffer=function(S){y!==S&&x===null&&W.bindFramebuffer(36160,S),y=S},this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return d},this.getRenderList=function(){return u},this.setRenderList=function(S){u=S},this.getRenderTarget=function(){return x},this.setRenderTarget=function(S,H=0,F=0){x=S,m=H,d=F,S&&Pe.get(S).__webglFramebuffer===void 0&&$.setupRenderTarget(S);let G=y,oe=!1;if(S){const Ne=Pe.get(S).__webglFramebuffer;S.isWebGLCubeRenderTarget?(G=Ne[H],oe=!0):S.isWebGLMultisampleRenderTarget?G=Pe.get(S).__webglMultisampledFramebuffer:G=Ne,E.copy(S.viewport),P.copy(S.scissor),I=S.scissorTest}else E.copy(A).multiplyScalar(z).floor(),P.copy(B).multiplyScalar(z).floor(),I=q;if(w!==G&&(W.bindFramebuffer(36160,G),w=G),Se.viewport(E),Se.scissor(P),Se.setScissorTest(I),oe){const Ne=Pe.get(S.texture);W.framebufferTexture2D(36160,36064,34069+H,Ne.__webglTexture,F)}},this.readRenderTargetPixels=function(S,H,F,G,oe,Ne,Le){if(!(S&&S.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Oe=Pe.get(S).__webglFramebuffer;if(S.isWebGLCubeRenderTarget&&Le!==void 0&&(Oe=Oe[Le]),Oe){let Ae=!1;Oe!==w&&(W.bindFramebuffer(36160,Oe),Ae=!0);try{const ut=S.texture,lt=ut.format,Ee=ut.type;if(lt!==Nn&&he.convert(lt)!==W.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Ee!==Vd&&he.convert(Ee)!==W.getParameter(35738)&&!(Ee===Ii&&(Fe.isWebGL2||pe.get("OES_texture_float")||pe.get("WEBGL_color_buffer_float")))&&!(Ee===mc&&(Fe.isWebGL2?pe.get("EXT_color_buffer_float"):pe.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}W.checkFramebufferStatus(36160)===36053?H>=0&&H<=S.width-G&&F>=0&&F<=S.height-oe&&W.readPixels(H,F,G,oe,he.convert(lt),he.convert(Ee),Ne):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Ae&&W.bindFramebuffer(36160,w)}}},this.copyFramebufferToTexture=function(S,H,F=0){const G=Math.pow(2,-F),oe=Math.floor(H.image.width*G),Ne=Math.floor(H.image.height*G),Le=he.convert(H.format);$.setTexture2D(H,0),W.copyTexImage2D(3553,F,Le,S.x,S.y,oe,Ne,0),Se.unbindTexture()},this.copyTextureToTexture=function(S,H,F,G=0){const oe=H.image.width,Ne=H.image.height,Le=he.convert(F.format),Oe=he.convert(F.type);$.setTexture2D(F,0),W.pixelStorei(37440,F.flipY),W.pixelStorei(37441,F.premultiplyAlpha),W.pixelStorei(3317,F.unpackAlignment),H.isDataTexture?W.texSubImage2D(3553,G,S.x,S.y,oe,Ne,Le,Oe,H.image.data):H.isCompressedTexture?W.compressedTexSubImage2D(3553,G,S.x,S.y,H.mipmaps[0].width,H.mipmaps[0].height,Le,H.mipmaps[0].data):W.texSubImage2D(3553,G,S.x,S.y,Le,Oe,H.image),G===0&&F.generateMipmaps&&W.generateMipmap(3553),Se.unbindTexture()},this.initTexture=function(S){$.setTexture2D(S,0),Se.unbindTexture()},this.resetState=function(){Se.reset(),ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function cg(e){Aa.call(this,e)}cg.prototype=Object.assign(Object.create(Aa.prototype),{constructor:cg,isWebGL1Renderer:!0});class zy extends ye{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.background!==null&&(n.object.background=this.background.toJSON(t)),this.environment!==null&&(n.object.environment=this.environment.toJSON(t)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}function dn(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=$c,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Te.generateUUID()}Object.defineProperty(dn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(dn.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t=0){return this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Te.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new dn(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Te.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const cr=new C;function Cr(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(Cr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}});Object.assign(Cr.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)cr.x=this.getX(t),cr.y=this.getY(t),cr.z=this.getZ(t),cr.applyMatrix4(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Me(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function Lr(e){xe.call(this),this.type="SpriteMaterial",this.color=new de(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Lr.prototype=Object.create(xe.prototype);Lr.prototype.constructor=Lr;Lr.prototype.isSpriteMaterial=!0;Lr.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let Zr;const ps=new C,$r=new C,Jr=new C,Qr=new X,ms=new X,Uy=new Ce,cl=new C,gs=new C,ul=new C,ug=new X,Qu=new X,hg=new X;function fg(e){if(ye.call(this),this.type="Sprite",Zr===void 0){Zr=new He;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new dn(t,5);Zr.setIndex([0,1,2,0,2,3]),Zr.setAttribute("position",new Cr(n,3,0,!1)),Zr.setAttribute("uv",new Cr(n,2,3,!1))}this.geometry=Zr,this.material=e!==void 0?e:new Lr,this.center=new X(.5,.5)}fg.prototype=Object.assign(Object.create(ye.prototype),{constructor:fg,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$r.setFromMatrixScale(this.matrixWorld),Uy.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Jr.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&$r.multiplyScalar(-Jr.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;hl(cl.set(-.5,-.5,0),Jr,o,$r,i,r),hl(gs.set(.5,-.5,0),Jr,o,$r,i,r),hl(ul.set(.5,.5,0),Jr,o,$r,i,r),ug.set(0,0),Qu.set(1,0),hg.set(1,1);let s=e.ray.intersectTriangle(cl,gs,ul,!1,ps);if(s===null&&(hl(gs.set(-.5,.5,0),Jr,o,$r,i,r),Qu.set(0,1),s=e.ray.intersectTriangle(cl,ul,gs,!1,ps),s===null))return;const a=e.ray.origin.distanceTo(ps);a<e.near||a>e.far||t.push({distance:a,point:ps.clone(),uv:Pt.getUV(ps,cl,gs,ul,ug,Qu,hg,new X),face:null,object:this})},copy:function(e){return ye.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function hl(e,t,n,i,r,o){Qr.subVectors(e,n).addScalar(.5).multiply(i),r!==void 0?(ms.x=o*Qr.x-r*Qr.y,ms.y=r*Qr.x+o*Qr.y):ms.copy(Qr),e.copy(t),e.x+=ms.x,e.y+=ms.y,e.applyMatrix4(Uy)}const fl=new C,dg=new C;function vf(){ye.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}vf.prototype=Object.assign(Object.create(ye.prototype),{constructor:vf,isLOD:!0,copy:function(e){ye.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t=0){t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){fl.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(fl);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){fl.setFromMatrixPosition(e.matrixWorld),dg.setFromMatrixPosition(this.matrixWorld);const n=fl.distanceTo(dg)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=ye.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}});const pg=new C,mg=new Ge,gg=new Ge,HE=new C,vg=new Ce;function yf(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),_t.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ce,this.bindMatrixInverse=new Ce}yf.prototype=Object.assign(Object.create(_t.prototype),{constructor:yf,isSkinnedMesh:!0,copy:function(e){return _t.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new Ge,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){_t.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){const n=this.skeleton,i=this.geometry;mg.fromBufferAttribute(i.attributes.skinIndex,e),gg.fromBufferAttribute(i.attributes.skinWeight,e),pg.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=gg.getComponent(r);if(o!==0){const s=mg.getComponent(r);vg.multiplyMatrices(n.bones[s].matrixWorld,n.boneInverses[s]),t.addScaledVector(HE.copy(pg).applyMatrix4(vg),o)}}return t.applyMatrix4(this.bindMatrixInverse)}});function xf(){ye.call(this),this.type="Bone"}xf.prototype=Object.assign(Object.create(ye.prototype),{constructor:xf,isBone:!0});const yg=new Ce,VE=new Ce;function _f(e=[],t=[]){this.uuid=Te.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(_f.prototype,{init:function(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ce)}},calculateInverses:function(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Ce;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const s=e[r]?e[r].matrixWorld:VE;yg.multiplyMatrices(s,t[r]),yg.toArray(n,r*16)}i!==null&&(i.needsUpdate=!0)},clone:function(){return new _f(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const r=e.bones[n];let o=t[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new xf),this.bones.push(o),this.boneInverses.push(new Ce().fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const o=t[i];e.bones.push(o.uuid);const s=n[i];e.boneInverses.push(s.toArray())}return e}});const xg=new Ce,_g=new Ce,dl=[],vs=new _t;function wg(e,t,n){_t.call(this,e,t),this.instanceMatrix=new Me(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}wg.prototype=Object.assign(Object.create(_t.prototype),{constructor:wg,isInstancedMesh:!0,copy:function(e){return _t.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,e*3)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(vs.geometry=this.geometry,vs.material=this.material,vs.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,xg),_g.multiplyMatrices(n,xg),vs.matrixWorld=_g,vs.raycast(e,dl);for(let o=0,s=dl.length;o<s;o++){const a=dl[o];a.instanceId=r,a.object=this,t.push(a)}dl.length=0}},setColorAt:function(e,t){this.instanceColor===null&&(this.instanceColor=new Me(new Float32Array(this.count*3),3)),t.toArray(this.instanceColor.array,e*3)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});function xn(e){xe.call(this),this.type="LineBasicMaterial",this.color=new de(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}xn.prototype=Object.create(xe.prototype);xn.prototype.constructor=xn;xn.prototype.isLineBasicMaterial=!0;xn.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const Mg=new C,Sg=new C,bg=new Ce,pl=new Ca,ml=new rr;function ko(e=new He,t=new xn){ye.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}ko.prototype=Object.assign(Object.create(ye.prototype),{constructor:ko,isLine:!0,copy:function(e){return ye.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)Mg.fromBufferAttribute(t,i-1),Sg.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Mg.distanceTo(Sg);e.setAttribute("lineDistance",new ke(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,r=t.length;i<r;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),ml.copy(n.boundingSphere),ml.applyMatrix4(i),ml.radius+=r,e.ray.intersectsSphere(ml)===!1)return;bg.copy(i).invert(),pl.copy(e.ray).applyMatrix4(bg);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new C,l=new C,c=new C,h=new C,u=this.isLineSegments?2:1;if(n.isBufferGeometry){const f=n.index,g=n.attributes.position;if(f!==null){const v=f.array;for(let y=0,m=v.length-1;y<m;y+=u){const d=v[y],x=v[y+1];if(a.fromBufferAttribute(g,d),l.fromBufferAttribute(g,x),pl.distanceSqToSegment(a,l,h,c)>s)continue;h.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(h);M<e.near||M>e.far||t.push({distance:M,point:c.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(let v=0,y=g.count-1;v<y;v+=u){if(a.fromBufferAttribute(g,v),l.fromBufferAttribute(g,v+1),pl.distanceSqToSegment(a,l,h,c)>s)continue;h.applyMatrix4(this.matrixWorld);const d=e.ray.origin.distanceTo(h);d<e.near||d>e.far||t.push({distance:d,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const f=n.vertices,p=f.length;for(let g=0;g<p-1;g+=u){if(pl.distanceSqToSegment(f[g],f[g+1],h,c)>s)continue;h.applyMatrix4(this.matrixWorld);const y=e.ray.origin.distanceTo(h);y<e.near||y>e.far||t.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const gl=new C,vl=new C;function xc(e,t){ko.call(this,e,t),this.type="LineSegments"}xc.prototype=Object.assign(Object.create(ko.prototype),{constructor:xc,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)gl.fromBufferAttribute(t,i),vl.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+gl.distanceTo(vl);e.setAttribute("lineDistance",new ke(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,r=t.length;i<r;i+=2)gl.copy(t[i]),vl.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+gl.distanceTo(vl)}return this}});function Eg(e,t){ko.call(this,e,t),this.type="LineLoop"}Eg.prototype=Object.assign(Object.create(ko.prototype),{constructor:Eg,isLineLoop:!0});function Ar(e){xe.call(this),this.type="PointsMaterial",this.color=new de(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Ar.prototype=Object.create(xe.prototype);Ar.prototype.constructor=Ar;Ar.prototype.isPointsMaterial=!0;Ar.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const Tg=new Ce,wf=new Ca,yl=new rr,xl=new C;function Cg(e=new He,t=new Ar){ye.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}Cg.prototype=Object.assign(Object.create(ye.prototype),{constructor:Cg,isPoints:!0,copy:function(e){return ye.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),yl.copy(n.boundingSphere),yl.applyMatrix4(i),yl.radius+=r,e.ray.intersectsSphere(yl)===!1)return;Tg.copy(i).invert(),wf.copy(e.ray).applyMatrix4(Tg);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){const a=n.index,c=n.attributes.position;if(a!==null){const h=a.array;for(let u=0,f=h.length;u<f;u++){const p=h[u];xl.fromBufferAttribute(c,p),Ku(xl,p,s,i,e,t,this)}}else for(let h=0,u=c.count;h<u;h++)xl.fromBufferAttribute(c,h),Ku(xl,h,s,i,e,t,this)}else{const a=n.vertices;for(let l=0,c=a.length;l<c;l++)Ku(a[l],l,s,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function Ku(e,t,n,i,r,o,s){const a=wf.distanceSqToPoint(e);if(a<n){const l=new C;wf.closestPointToPoint(e,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:s})}}function Lg(e,t,n,i,r,o,s,a,l){Ze.call(this,e,t,n,i,r,o,s,a,l),this.format=s!==void 0?s:yr,this.minFilter=o!==void 0?o:Rt,this.magFilter=r!==void 0?r:Rt,this.generateMipmaps=!1;const c=this;function h(){c.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}Lg.prototype=Object.assign(Object.create(Ze.prototype),{constructor:Lg,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function ha(e,t,n,i,r,o,s,a,l,c,h,u){Ze.call(this,null,o,s,a,l,c,i,r,h,u),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}ha.prototype=Object.create(Ze.prototype);ha.prototype.constructor=ha;ha.prototype.isCompressedTexture=!0;function _c(e,t,n,i,r,o,s,a,l){Ze.call(this,e,t,n,i,r,o,s,a,l),this.needsUpdate=!0}_c.prototype=Object.create(Ze.prototype);_c.prototype.constructor=_c;_c.prototype.isCanvasTexture=!0;function wc(e,t,n,i,r,o,s,a,l,c){if(c=c!==void 0?c:Eo,c!==Eo&&c!==oa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===Eo&&(n=pc),n===void 0&&c===oa&&(n=Fs),Ze.call(this,null,i,r,o,s,a,c,n,l),this.image={width:e,height:t},this.magFilter=s!==void 0?s:Ot,this.minFilter=a!==void 0?a:Ot,this.flipY=!1,this.generateMipmaps=!1}wc.prototype=Object.create(Ze.prototype);wc.prototype.constructor=wc;wc.prototype.isDepthTexture=!0;let GE=0;const kn=new Ce,eh=new ye,_l=new C;function tn(){Object.defineProperty(this,"id",{value:GE+=2}),this.uuid=Te.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}tn.prototype=Object.assign(Object.create(xi.prototype),{constructor:tn,isGeometry:!0,applyMatrix4:function(e){const t=new Wt().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let o=0,s=r.vertexNormals.length;o<s;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return kn.makeRotationX(e),this.applyMatrix4(kn),this},rotateY:function(e){return kn.makeRotationY(e),this.applyMatrix4(kn),this},rotateZ:function(e){return kn.makeRotationZ(e),this.applyMatrix4(kn),this},translate:function(e,t,n){return kn.makeTranslation(e,t,n),this.applyMatrix4(kn),this},scale:function(e,t,n){return kn.makeScale(e,t,n),this.applyMatrix4(kn),this},lookAt:function(e){return eh.lookAt(e),eh.updateMatrix(),this.applyMatrix4(eh.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,o=i.normal,s=i.color,a=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let u=0;u<r.count;u++)t.vertices.push(new C().fromBufferAttribute(r,u)),s!==void 0&&t.colors.push(new de().fromBufferAttribute(s,u));function c(u,f,p,g){const v=s===void 0?[]:[t.colors[u].clone(),t.colors[f].clone(),t.colors[p].clone()],y=o===void 0?[]:[new C().fromBufferAttribute(o,u),new C().fromBufferAttribute(o,f),new C().fromBufferAttribute(o,p)],m=new lf(u,f,p,y,v,g);t.faces.push(m),a!==void 0&&t.faceVertexUvs[0].push([new X().fromBufferAttribute(a,u),new X().fromBufferAttribute(a,f),new X().fromBufferAttribute(a,p)]),l!==void 0&&t.faceVertexUvs[1].push([new X().fromBufferAttribute(l,u),new X().fromBufferAttribute(l,f),new X().fromBufferAttribute(l,p)])}const h=e.groups;if(h.length>0)for(let u=0;u<h.length;u++){const f=h[u],p=f.start,g=f.count;for(let v=p,y=p+g;v<y;v+=3)n!==void 0?c(n.getX(v),n.getX(v+1),n.getX(v+2),f.materialIndex):c(v,v+1,v+2,f.materialIndex)}else if(n!==void 0)for(let u=0;u<n.count;u+=3)c(n.getX(u),n.getX(u+1),n.getX(u+2));else for(let u=0;u<r.count;u+=3)c(u,u+1,u+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(_l).negate(),this.translate(_l.x,_l.y,_l.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new Ce;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new C,t=new C;for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],o=this.vertices[r.a],s=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,s),t.subVectors(o,s),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e=!0){const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new C;if(e){const n=new C,i=new C;for(let r=0,o=this.faces.length;r<o;r++){const s=this.faces[r],a=this.vertices[s.a],l=this.vertices[s.b],c=this.vertices[s.c];n.subVectors(c,l),i.subVectors(a,l),n.cross(i),t[s.a].add(n),t[s.b].add(n),t[s.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],o=r.vertexNormals;o.length===3?(o[0].copy(t[r.a]),o[1].copy(t[r.b]),o[2].copy(t[r.c])):(o[0]=t[r.a].clone(),o[1]=t[r.b].clone(),o[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,o=i.vertexNormals.length;r<o;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}const e=new tn;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const r=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let s=0,a=this.faces.length;s<a;s++){const l=new C,c={a:new C,b:new C,c:new C};r.push(l),o.push(c)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,o=this.faces.length;r<o;r++){const s=this.faces[r],a=i.faceNormals[r],l=i.vertexNormals[r];a.copy(s.normal),l.a.copy(s.vertexNormals[0]),l.b.copy(s.vertexNormals[1]),l.c.copy(s.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ir),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new rr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i;const r=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,l=e.faces,c=this.colors,h=e.colors;t!==void 0&&(i=new Wt().getNormalMatrix(t));for(let u=0,f=s.length;u<f;u++){const g=s[u].clone();t!==void 0&&g.applyMatrix4(t),o.push(g)}for(let u=0,f=h.length;u<f;u++)c.push(h[u].clone());for(let u=0,f=l.length;u<f;u++){const p=l[u];let g,v;const y=p.vertexNormals,m=p.vertexColors,d=new lf(p.a+r,p.b+r,p.c+r);d.normal.copy(p.normal),i!==void 0&&d.normal.applyMatrix3(i).normalize();for(let x=0,w=y.length;x<w;x++)g=y[x].clone(),i!==void 0&&g.applyMatrix3(i).normalize(),d.vertexNormals.push(g);d.color.copy(p.color);for(let x=0,w=m.length;x<w;x++)v=m[x],d.vertexColors.push(v.clone());d.materialIndex=p.materialIndex+n,a.push(d)}for(let u=0,f=e.faceVertexUvs.length;u<f;u++){const p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let g=0,v=p.length;g<v;g++){const y=p[g],m=[];for(let d=0,x=y.length;d<x;d++)m.push(y[d].clone());this.faceVertexUvs[u].push(m)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(e=4){const t={},n=[],i=[],r=Math.pow(10,e);for(let a=0,l=this.vertices.length;a<l;a++){const c=this.vertices[a],h=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);t[h]===void 0?(t[h]=a,n.push(this.vertices[a]),i[a]=n.length-1):i[a]=i[t[h]]}const o=[];for(let a=0,l=this.faces.length;a<l;a++){const c=this.faces[a];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];const h=[c.a,c.b,c.c];for(let u=0;u<3;u++)if(h[u]===h[(u+1)%3]){o.push(a);break}}for(let a=o.length-1;a>=0;a--){const l=o[a];this.faces.splice(l,1);for(let c=0,h=this.faceVertexUvs.length;c<h;c++)this.faceVertexUvs[c].splice(l,1)}const s=this.vertices.length-n.length;return this.vertices=n,s},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new C(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let a=0;a<t;a++)e[a]._id=a;function n(a,l){return a.materialIndex-l.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let o,s;i&&i.length===t&&(o=[]),r&&r.length===t&&(s=[]);for(let a=0;a<t;a++){const l=e[a]._id;o&&o.push(i[l]),s&&s.push(r[l])}o&&(this.faceVertexUvs[0]=o),s&&(this.faceVertexUvs[1]=s)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const p=this.parameters;for(const g in p)p[g]!==void 0&&(e[g]=p[g]);return e}const t=[];for(let p=0;p<this.vertices.length;p++){const g=this.vertices[p];t.push(g.x,g.y,g.z)}const n=[],i=[],r={},o=[],s={},a=[],l={};for(let p=0;p<this.faces.length;p++){const g=this.faces[p],v=!0,y=!1,m=this.faceVertexUvs[0][p]!==void 0,d=g.normal.length()>0,x=g.vertexNormals.length>0,w=g.color.r!==1||g.color.g!==1||g.color.b!==1,M=g.vertexColors.length>0;let _=0;if(_=c(_,0,0),_=c(_,1,v),_=c(_,2,y),_=c(_,3,m),_=c(_,4,d),_=c(_,5,x),_=c(_,6,w),_=c(_,7,M),n.push(_),n.push(g.a,g.b,g.c),n.push(g.materialIndex),m){const E=this.faceVertexUvs[0][p];n.push(f(E[0]),f(E[1]),f(E[2]))}if(d&&n.push(h(g.normal)),x){const E=g.vertexNormals;n.push(h(E[0]),h(E[1]),h(E[2]))}if(w&&n.push(u(g.color)),M){const E=g.vertexColors;n.push(u(E[0]),u(E[1]),u(E[2]))}}function c(p,g,v){return v?p|1<<g:p&~(1<<g)}function h(p){const g=p.x.toString()+p.y.toString()+p.z.toString();return r[g]!==void 0||(r[g]=i.length/3,i.push(p.x,p.y,p.z)),r[g]}function u(p){const g=p.r.toString()+p.g.toString()+p.b.toString();return s[g]!==void 0||(s[g]=o.length,o.push(p.getHex())),s[g]}function f(p){const g=p.x.toString()+p.y.toString();return l[g]!==void 0||(l[g]=a.length/2,a.push(p.x,p.y)),l[g]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e},clone:function(){return new tn().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let u=0,f=t.length;u<f;u++)this.vertices.push(t[u].clone());const n=e.colors;for(let u=0,f=n.length;u<f;u++)this.colors.push(n[u].clone());const i=e.faces;for(let u=0,f=i.length;u<f;u++)this.faces.push(i[u].clone());for(let u=0,f=e.faceVertexUvs.length;u<f;u++){const p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let g=0,v=p.length;g<v;g++){const y=p[g],m=[];for(let d=0,x=y.length;d<x;d++){const w=y[d];m.push(w.clone())}this.faceVertexUvs[u].push(m)}}const r=e.morphTargets;for(let u=0,f=r.length;u<f;u++){const p={};if(p.name=r[u].name,r[u].vertices!==void 0){p.vertices=[];for(let g=0,v=r[u].vertices.length;g<v;g++)p.vertices.push(r[u].vertices[g].clone())}if(r[u].normals!==void 0){p.normals=[];for(let g=0,v=r[u].normals.length;g<v;g++)p.normals.push(r[u].normals[g].clone())}this.morphTargets.push(p)}const o=e.morphNormals;for(let u=0,f=o.length;u<f;u++){const p={};if(o[u].vertexNormals!==void 0){p.vertexNormals=[];for(let g=0,v=o[u].vertexNormals.length;g<v;g++){const y=o[u].vertexNormals[g],m={};m.a=y.a.clone(),m.b=y.b.clone(),m.c=y.c.clone(),p.vertexNormals.push(m)}}if(o[u].faceNormals!==void 0){p.faceNormals=[];for(let g=0,v=o[u].faceNormals.length;g<v;g++)p.faceNormals.push(o[u].faceNormals[g].clone())}this.morphNormals.push(p)}const s=e.skinWeights;for(let u=0,f=s.length;u<f;u++)this.skinWeights.push(s[u].clone());const a=e.skinIndices;for(let u=0,f=a.length;u<f;u++)this.skinIndices.push(a[u].clone());const l=e.lineDistances;for(let u=0,f=l.length;u<f;u++)this.lineDistances.push(l[u]);const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});new C;new C;new C;new Pt;const WE={triangulate:function(e,t,n){n=n||2;const i=t&&t.length,r=i?t[0]*n:e.length;let o=Hy(e,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,h,u,f,p;if(i&&(o=ZE(e,t,o,n)),e.length>80*n){a=c=e[0],l=h=e[1];for(let g=n;g<r;g+=n)u=e[g],f=e[g+1],u<a&&(a=u),f<l&&(l=f),u>c&&(c=u),f>h&&(h=f);p=Math.max(c-a,h-l),p=p!==0?1/p:0}return fa(o,s,n,a,l,p),s}};function Hy(e,t,n,i,r){let o,s;if(r===sT(e,t,n,i)>0)for(o=t;o<n;o+=i)s=Ag(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=Ag(o,e[o],e[o+1],s);return s&&Qc(s,s.next)&&(pa(s),s=s.next),s}function Ki(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(Qc(n,n.next)||rt(n.prev,n,n.next)===0)){if(pa(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function fa(e,t,n,i,r,o,s){if(!e)return;!s&&o&&eT(e,i,r,o);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,o?XE(e,i,r,o):jE(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),pa(e),e=c.next,a=c.next;continue}if(e=c,e===a){s?s===1?(e=qE(Ki(e),t,n),fa(e,t,n,i,r,o,2)):s===2&&YE(e,t,n,i,r,o):fa(Ki(e),t,n,i,r,o,1);break}}}function jE(e){const t=e.prev,n=e,i=e.next;if(rt(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(yo(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&rt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function XE(e,t,n,i){const r=e.prev,o=e,s=e.next;if(rt(r,o,s)>=0)return!1;const a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,c=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,h=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,u=Mf(a,l,t,n,i),f=Mf(c,h,t,n,i);let p=e.prevZ,g=e.nextZ;for(;p&&p.z>=u&&g&&g.z<=f;){if(p!==e.prev&&p!==e.next&&yo(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&rt(p.prev,p,p.next)>=0||(p=p.prevZ,g!==e.prev&&g!==e.next&&yo(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&rt(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&yo(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&rt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=f;){if(g!==e.prev&&g!==e.next&&yo(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&rt(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function qE(e,t,n){let i=e;do{const r=i.prev,o=i.next.next;!Qc(r,o)&&Vy(r,i,i.next,o)&&da(r,o)&&da(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),pa(i),pa(i.next),i=e=o),i=i.next}while(i!==e);return Ki(i)}function YE(e,t,n,i,r,o){let s=e;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&iT(s,a)){let l=Gy(s,a);s=Ki(s,s.next),l=Ki(l,l.next),fa(s,t,n,i,r,o),fa(l,t,n,i,r,o);return}a=a.next}s=s.next}while(s!==e)}function ZE(e,t,n,i){const r=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=Hy(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(nT(c));for(r.sort($E),o=0;o<r.length;o++)JE(r[o],n),n=Ki(n,n.next);return n}function $E(e,t){return e.x-t.x}function JE(e,t){if(t=QE(e,t),t){const n=Gy(t,e);Ki(t,t.next),Ki(n,n.next)}}function QE(e,t){let n=t;const i=e.x,r=e.y;let o=-1/0,s;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const f=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=i&&f>o){if(o=f,f===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!s)return null;if(i===o)return s;const a=s,l=s.x,c=s.y;let h=1/0,u;n=s;do i>=n.x&&n.x>=l&&i!==n.x&&yo(r<c?i:o,r,l,c,r<c?o:i,r,n.x,n.y)&&(u=Math.abs(r-n.y)/(i-n.x),da(n,e)&&(u<h||u===h&&(n.x>s.x||n.x===s.x&&KE(s,n)))&&(s=n,h=u)),n=n.next;while(n!==a);return s}function KE(e,t){return rt(e.prev,e,t.prev)<0&&rt(t.next,e,e.next)<0}function eT(e,t,n,i){let r=e;do r.z===null&&(r.z=Mf(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,tT(r)}function tT(e){let t,n,i,r,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,!!i);t++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1);return e}function Mf(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function nT(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function yo(e,t,n,i,r,o,s,a){return(r-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(i-a)-(n-s)*(t-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function iT(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!rT(e,t)&&(da(e,t)&&da(t,e)&&oT(e,t)&&(rt(e.prev,e,t.prev)||rt(e,t.prev,t))||Qc(e,t)&&rt(e.prev,e,e.next)>0&&rt(t.prev,t,t.next)>0)}function rt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Qc(e,t){return e.x===t.x&&e.y===t.y}function Vy(e,t,n,i){const r=Ml(rt(e,t,n)),o=Ml(rt(e,t,i)),s=Ml(rt(n,i,e)),a=Ml(rt(n,i,t));return!!(r!==o&&s!==a||r===0&&wl(e,n,t)||o===0&&wl(e,i,t)||s===0&&wl(n,e,i)||a===0&&wl(n,t,i))}function wl(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ml(e){return e>0?1:e<0?-1:0}function rT(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Vy(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function da(e,t){return rt(e.prev,e,e.next)<0?rt(e,t,e.next)>=0&&rt(e,e.prev,t)>=0:rt(e,t,e.prev)<0||rt(e,e.next,t)<0}function oT(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function Gy(e,t){const n=new Sf(e.i,e.x,e.y),i=new Sf(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Ag(e,t,n,i){const r=new Sf(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function pa(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Sf(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function sT(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}const Yi={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5},isClockWise:function(e){return Yi.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];Pg(e),Rg(n,e);let o=e.length;t.forEach(Pg);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,Rg(n,t[a]);const s=WE.triangulate(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function Pg(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Rg(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Wd extends He{constructor(t,n){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:n},t=Array.isArray(t)?t:[t];const i=this,r=[],o=[];for(let a=0,l=t.length;a<l;a++){const c=t[a];s(c)}this.setAttribute("position",new ke(r,3)),this.setAttribute("uv",new ke(o,2)),this.computeVertexNormals();function s(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1;let u=n.depth!==void 0?n.depth:100,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:6,g=n.bevelSize!==void 0?n.bevelSize:p-2,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,d=n.UVGenerator!==void 0?n.UVGenerator:aT;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=n.amount);let x,w=!1,M,_,E,P;m&&(x=m.getSpacedPoints(h),w=!0,f=!1,M=m.computeFrenetFrames(h,!1),_=new C,E=new C,P=new C),f||(y=0,p=0,g=0,v=0);const I=a.extractPoints(c);let U=I.shape;const R=I.holes;if(!Yi.isClockWise(U)){U=U.reverse();for(let $=0,ee=R.length;$<ee;$++){const re=R[$];Yi.isClockWise(re)&&(R[$]=re.reverse())}}const k=Yi.triangulateShape(U,R),N=U;for(let $=0,ee=R.length;$<ee;$++){const re=R[$];U=U.concat(re)}function A($,ee,re){return ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),ee.clone().multiplyScalar(re).add($)}const B=U.length,q=k.length;function O($,ee,re){let ge,ae,T;const b=$.x-ee.x,Q=$.y-ee.y,Y=re.x-$.x,L=re.y-$.y,K=b*b+Q*Q,se=b*L-Q*Y;if(Math.abs(se)>Number.EPSILON){const fe=Math.sqrt(K),ne=Math.sqrt(Y*Y+L*L),he=ee.x-Q/fe,ve=ee.y+b/fe,be=re.x-L/ne,ue=re.y+Y/ne,_e=((be-he)*L-(ue-ve)*Y)/(b*L-Q*Y);ge=he+b*_e-$.x,ae=ve+Q*_e-$.y;const nt=ge*ge+ae*ae;if(nt<=2)return new X(ge,ae);T=Math.sqrt(nt/2)}else{let fe=!1;b>Number.EPSILON?Y>Number.EPSILON&&(fe=!0):b<-Number.EPSILON?Y<-Number.EPSILON&&(fe=!0):Math.sign(Q)===Math.sign(L)&&(fe=!0),fe?(ge=-Q,ae=b,T=Math.sqrt(K)):(ge=b,ae=Q,T=Math.sqrt(K/2))}return new X(ge/T,ae/T)}const V=[];for(let $=0,ee=N.length,re=ee-1,ge=$+1;$<ee;$++,re++,ge++)re===ee&&(re=0),ge===ee&&(ge=0),V[$]=O(N[$],N[re],N[ge]);const j=[];let J,ce=V.concat();for(let $=0,ee=R.length;$<ee;$++){const re=R[$];J=[];for(let ge=0,ae=re.length,T=ae-1,b=ge+1;ge<ae;ge++,T++,b++)T===ae&&(T=0),b===ae&&(b=0),J[ge]=O(re[ge],re[T],re[b]);j.push(J),ce=ce.concat(J)}for(let $=0;$<y;$++){const ee=$/y,re=p*Math.cos(ee*Math.PI/2),ge=g*Math.sin(ee*Math.PI/2)+v;for(let ae=0,T=N.length;ae<T;ae++){const b=A(N[ae],V[ae],ge);pe(b.x,b.y,-re)}for(let ae=0,T=R.length;ae<T;ae++){const b=R[ae];J=j[ae];for(let Q=0,Y=b.length;Q<Y;Q++){const L=A(b[Q],J[Q],ge);pe(L.x,L.y,-re)}}}const we=g+v;for(let $=0;$<B;$++){const ee=f?A(U[$],ce[$],we):U[$];w?(E.copy(M.normals[0]).multiplyScalar(ee.x),_.copy(M.binormals[0]).multiplyScalar(ee.y),P.copy(x[0]).add(E).add(_),pe(P.x,P.y,P.z)):pe(ee.x,ee.y,0)}for(let $=1;$<=h;$++)for(let ee=0;ee<B;ee++){const re=f?A(U[ee],ce[ee],we):U[ee];w?(E.copy(M.normals[$]).multiplyScalar(re.x),_.copy(M.binormals[$]).multiplyScalar(re.y),P.copy(x[$]).add(E).add(_),pe(P.x,P.y,P.z)):pe(re.x,re.y,u/h*$)}for(let $=y-1;$>=0;$--){const ee=$/y,re=p*Math.cos(ee*Math.PI/2),ge=g*Math.sin(ee*Math.PI/2)+v;for(let ae=0,T=N.length;ae<T;ae++){const b=A(N[ae],V[ae],ge);pe(b.x,b.y,u+re)}for(let ae=0,T=R.length;ae<T;ae++){const b=R[ae];J=j[ae];for(let Q=0,Y=b.length;Q<Y;Q++){const L=A(b[Q],J[Q],ge);w?pe(L.x,L.y+x[h-1].y,x[h-1].x+re):pe(L.x,L.y,u+re)}}}ze(),W();function ze(){const $=r.length/3;if(f){let ee=0,re=B*ee;for(let ge=0;ge<q;ge++){const ae=k[ge];Fe(ae[2]+re,ae[1]+re,ae[0]+re)}ee=h+y*2,re=B*ee;for(let ge=0;ge<q;ge++){const ae=k[ge];Fe(ae[0]+re,ae[1]+re,ae[2]+re)}}else{for(let ee=0;ee<q;ee++){const re=k[ee];Fe(re[2],re[1],re[0])}for(let ee=0;ee<q;ee++){const re=k[ee];Fe(re[0]+B*h,re[1]+B*h,re[2]+B*h)}}i.addGroup($,r.length/3-$,0)}function W(){const $=r.length/3;let ee=0;Ke(N,ee),ee+=N.length;for(let re=0,ge=R.length;re<ge;re++){const ae=R[re];Ke(ae,ee),ee+=ae.length}i.addGroup($,r.length/3-$,1)}function Ke($,ee){let re=$.length;for(;--re>=0;){const ge=re;let ae=re-1;ae<0&&(ae=$.length-1);for(let T=0,b=h+y*2;T<b;T++){const Q=B*T,Y=B*(T+1),L=ee+ge+Q,K=ee+ae+Q,se=ee+ae+Y,fe=ee+ge+Y;Se(L,K,se,fe)}}}function pe($,ee,re){l.push($),l.push(ee),l.push(re)}function Fe($,ee,re){Ue($),Ue(ee),Ue(re);const ge=r.length/3,ae=d.generateTopUV(i,r,ge-3,ge-2,ge-1);Pe(ae[0]),Pe(ae[1]),Pe(ae[2])}function Se($,ee,re,ge){Ue($),Ue(ee),Ue(ge),Ue(ee),Ue(re),Ue(ge);const ae=r.length/3,T=d.generateSideWallUV(i,r,ae-6,ae-3,ae-2,ae-1);Pe(T[0]),Pe(T[1]),Pe(T[3]),Pe(T[1]),Pe(T[2]),Pe(T[3])}function Ue($){r.push(l[$*3+0]),r.push(l[$*3+1]),r.push(l[$*3+2])}function Pe($){o.push($.x),o.push($.y)}}}toJSON(){const t=He.prototype.toJSON.call(this),n=this.parameters.shapes,i=this.parameters.options;return lT(n,i,t)}}const aT={generateTopUV:function(e,t,n,i,r){const o=t[n*3],s=t[n*3+1],a=t[i*3],l=t[i*3+1],c=t[r*3],h=t[r*3+1];return[new X(o,s),new X(a,l),new X(c,h)]},generateSideWallUV:function(e,t,n,i,r,o){const s=t[n*3],a=t[n*3+1],l=t[n*3+2],c=t[i*3],h=t[i*3+1],u=t[i*3+2],f=t[r*3],p=t[r*3+1],g=t[r*3+2],v=t[o*3],y=t[o*3+1],m=t[o*3+2];return Math.abs(a-h)<.01?[new X(s,1-l),new X(c,1-u),new X(f,1-g),new X(v,1-m)]:[new X(a,1-l),new X(h,1-u),new X(p,1-g),new X(y,1-m)]}};function lT(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class cT extends tn{constructor(t,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:n},this.fromBufferGeometry(new Wd(t,n)),this.mergeVertices()}toJSON(){const t=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return uT(n,i,t)}}function uT(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Mc(e,t,n){He.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],o=[],s=[],a=1e-5,l=new C,c=new C,h=new C,u=new C,f=new C;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=t+1;for(let g=0;g<=n;g++){const v=g/n;for(let y=0;y<=t;y++){const m=y/t;e(m,v,c),r.push(c.x,c.y,c.z),m-a>=0?(e(m-a,v,h),u.subVectors(c,h)):(e(m+a,v,h),u.subVectors(h,c)),v-a>=0?(e(m,v-a,h),f.subVectors(c,h)):(e(m,v+a,h),f.subVectors(h,c)),l.crossVectors(u,f).normalize(),o.push(l.x,l.y,l.z),s.push(m,v)}}for(let g=0;g<n;g++)for(let v=0;v<t;v++){const y=g*p+v,m=g*p+v+1,d=(g+1)*p+v+1,x=(g+1)*p+v;i.push(y,m,x),i.push(m,d,x)}this.setIndex(i),this.setAttribute("position",new ke(r,3)),this.setAttribute("normal",new ke(o,3)),this.setAttribute("uv",new ke(s,2))}Mc.prototype=Object.create(He.prototype);Mc.prototype.constructor=Mc;function bf(e,t,n){tn.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Mc(e,t,n)),this.mergeVertices()}bf.prototype=Object.create(tn.prototype);bf.prototype.constructor=bf;class hT extends He{constructor(t,n=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:n};const i=[],r=[],o=[],s=[];let a=0,l=0;if(Array.isArray(t)===!1)c(t);else for(let h=0;h<t.length;h++)c(t[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new ke(r,3)),this.setAttribute("normal",new ke(o,3)),this.setAttribute("uv",new ke(s,2));function c(h){const u=r.length/3,f=h.extractPoints(n);let p=f.shape;const g=f.holes;Yi.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,m=g.length;y<m;y++){const d=g[y];Yi.isClockWise(d)===!0&&(g[y]=d.reverse())}const v=Yi.triangulateShape(p,g);for(let y=0,m=g.length;y<m;y++){const d=g[y];p=p.concat(d)}for(let y=0,m=p.length;y<m;y++){const d=p[y];r.push(d.x,d.y,0),o.push(0,0,1),s.push(d.x,d.y)}for(let y=0,m=v.length;y<m;y++){const d=v[y],x=d[0]+u,w=d[1]+u,M=d[2]+u;i.push(x,w,M),l+=3}}}toJSON(){const t=He.prototype.toJSON.call(this),n=this.parameters.shapes;return fT(n,t)}}function fT(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}class dT extends tn{constructor(t,n){super(),this.type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:t,curveSegments:n},this.fromBufferGeometry(new hT(t,n)),this.mergeVertices()}toJSON(){const t=tn.prototype.toJSON.call(this),n=this.parameters.shapes;return pT(n,t)}}function pT(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}class mT extends He{constructor(t=1,n=8,i=6,r=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(s+a,Math.PI);let c=0;const h=[],u=new C,f=new C,p=[],g=[],v=[],y=[];for(let m=0;m<=i;m++){const d=[],x=m/i;let w=0;m==0&&s==0?w=.5/n:m==i&&l==Math.PI&&(w=-.5/n);for(let M=0;M<=n;M++){const _=M/n;u.x=-t*Math.cos(r+_*o)*Math.sin(s+x*a),u.y=t*Math.cos(s+x*a),u.z=t*Math.sin(r+_*o)*Math.sin(s+x*a),g.push(u.x,u.y,u.z),f.copy(u).normalize(),v.push(f.x,f.y,f.z),y.push(_+w,1-x),d.push(c++)}h.push(d)}for(let m=0;m<i;m++)for(let d=0;d<n;d++){const x=h[m][d+1],w=h[m][d],M=h[m+1][d],_=h[m+1][d+1];(m!==0||s>0)&&p.push(x,w,_),(m!==i-1||l<Math.PI)&&p.push(w,M,_)}this.setIndex(p),this.setAttribute("position",new ke(g,3)),this.setAttribute("normal",new ke(v,3)),this.setAttribute("uv",new ke(y,2))}}class gT extends tn{constructor(t,n,i,r,o,s,a){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new mT(t,n,i,r,o,s,a)),this.mergeVertices()}}class vT extends Wd{constructor(t,n={}){const i=n.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new He;const r=i.generateShapes(t,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n),this.type="TextBufferGeometry"}}class yT extends tn{constructor(t,n){super(),this.type="TextGeometry",this.parameters={text:t,parameters:n},this.fromBufferGeometry(new vT(t,n)),this.mergeVertices()}}function Bo(e){xe.call(this),this.type="ShadowMaterial",this.color=new de(0),this.transparent=!0,this.setValues(e)}Bo.prototype=Object.create(xe.prototype);Bo.prototype.constructor=Bo;Bo.prototype.isShadowMaterial=!0;Bo.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this};function ma(e){Zt.call(this,e),this.type="RawShaderMaterial"}ma.prototype=Object.create(Zt.prototype);ma.prototype.constructor=ma;ma.prototype.isRawShaderMaterial=!0;function di(e){xe.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new de(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}di.prototype=Object.create(xe.prototype);di.prototype.constructor=di;di.prototype.isMeshStandardMaterial=!0;di.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Pr(e){di.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new X(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=Te.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}Pr.prototype=Object.create(di.prototype);Pr.prototype.constructor=Pr;Pr.prototype.isMeshPhysicalMaterial=!0;Pr.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new de).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};function Rr(e){xe.call(this),this.type="MeshPhongMaterial",this.color=new de(16777215),this.specular=new de(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Rr.prototype=Object.create(xe.prototype);Rr.prototype.constructor=Rr;Rr.prototype.isMeshPhongMaterial=!0;Rr.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function zo(e){xe.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new de(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}zo.prototype=Object.create(xe.prototype);zo.prototype.constructor=zo;zo.prototype.isMeshToonMaterial=!0;zo.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Uo(e){xe.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Uo.prototype=Object.create(xe.prototype);Uo.prototype.constructor=Uo;Uo.prototype.isMeshNormalMaterial=!0;Uo.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Ho(e){xe.call(this),this.type="MeshLambertMaterial",this.color=new de(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ho.prototype=Object.create(xe.prototype);Ho.prototype.constructor=Ho;Ho.prototype.isMeshLambertMaterial=!0;Ho.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Vo(e){xe.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new de(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zo,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Vo.prototype=Object.create(xe.prototype);Vo.prototype.constructor=Vo;Vo.prototype.isMeshMatcapMaterial=!0;Vo.prototype.copy=function(e){return xe.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Go(e){xn.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Go.prototype=Object.create(xn.prototype);Go.prototype.constructor=Go;Go.prototype.isLineDashedMaterial=!0;Go.prototype.copy=function(e){return xn.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var xT=Object.freeze({__proto__:null,ShadowMaterial:Bo,SpriteMaterial:Lr,RawShaderMaterial:ma,ShaderMaterial:Zt,PointsMaterial:Ar,MeshPhysicalMaterial:Pr,MeshStandardMaterial:di,MeshPhongMaterial:Rr,MeshToonMaterial:zo,MeshNormalMaterial:Uo,MeshLambertMaterial:Ho,MeshDepthMaterial:Er,MeshDistanceMaterial:Tr,MeshBasicMaterial:fi,MeshMatcapMaterial:Vo,LineDashedMaterial:Go,LineBasicMaterial:xn,Material:xe});const et={arraySlice:function(e,t,n){return et.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(r,o){return e[r]-e[o]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){const a=n[o]*t;for(let l=0;l!==t;++l)r[s++]=e[a+l]}return r},flattenJSON:function(e,t,n,i){let r=1,o=e[0];for(;o!==void 0&&o[i]===void 0;)o=e[r++];if(o===void 0)return;let s=o[i];if(s!==void 0)if(Array.isArray(s))do s=o[i],s!==void 0&&(t.push(o.time),n.push.apply(n,s)),o=e[r++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[i],s!==void 0&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++];while(o!==void 0);else do s=o[i],s!==void 0&&(t.push(o.time),n.push(s)),o=e[r++];while(o!==void 0)},subclip:function(e,t,n,i,r=30){const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],h=c.getValueSize(),u=[],f=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*r;if(!(g<n||g>=i)){u.push(c.times[p]);for(let v=0;v<h;++v)f.push(c.values[p*h+v])}}u.length!==0&&(c.times=et.convertArray(u,c.times.constructor),c.values=et.convertArray(f,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(e,t=0,n=e,i=30){i<=0&&(i=30);const r=n.tracks.length,o=t/i;for(let s=0;s<r;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=e.tracks.find(function(m){return m.name===a.name&&m.ValueTypeName===l});if(c===void 0)continue;let h=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=u/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const g=a.times.length-1;let v;if(o<=a.times[0]){const m=h,d=u-h;v=et.arraySlice(a.values,m,d)}else if(o>=a.times[g]){const m=g*u+h,d=m+u-h;v=et.arraySlice(a.values,m,d)}else{const m=a.createInterpolant(),d=h,x=u-h;m.evaluate(o),v=et.arraySlice(m.resultBuffer,d,x)}l==="quaternion"&&new Yt().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let m=0;m<y;++m){const d=m*p+f;if(l==="quaternion")Yt.multiplyQuaternionsFlat(c.values,d,v,0,c.values,d);else{const x=p-f*2;for(let w=0;w<x;++w)c.values[d+w]-=v[w]}}}return e.blendMode=My,e}};function mn(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(mn.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let s=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=r)){const s=t[1];e<s&&(n=2,r=s);for(let a=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0;break n}break e}for(;n<o;){const s=n+o>>>1;e<t[s]?o=s:n=s+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(mn.prototype,{beforeStart_:mn.prototype.copySampleValue_,afterEnd_:mn.prototype.copySampleValue_});function Ef(e,t,n,i){mn.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Ef.prototype=Object.assign(Object.create(mn.prototype),{constructor:Ef,DefaultSettings_:{endingStart:fo,endingEnd:fo},intervalChanged_:function(e,t,n){const i=this.parameterPositions;let r=e-2,o=e+1,s=i[r],a=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case po:r=e,s=2*t-n;break;case vc:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(a===void 0)switch(this.getSettings_().endingEnd){case po:o=e,a=2*n-t;break;case vc:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}const l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,f=this._weightNext,p=(n-t)/(i-t),g=p*p,v=g*p,y=-u*v+2*u*g-u*p,m=(1+u)*v+(-1.5-2*u)*g+(-.5+u)*p+1,d=(-1-f)*v+(1.5+f)*g+.5*p,x=f*v-f*g;for(let w=0;w!==s;++w)r[w]=y*o[c+w]+m*o[l+w]+d*o[a+w]+x*o[h+w];return r}});function Sc(e,t,n,i){mn.call(this,e,t,n,i)}Sc.prototype=Object.assign(Object.create(mn.prototype),{constructor:Sc,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),h=1-c;for(let u=0;u!==s;++u)r[u]=o[l+u]*h+o[a+u]*c;return r}});function Tf(e,t,n,i){mn.call(this,e,t,n,i)}Tf.prototype=Object.assign(Object.create(mn.prototype),{constructor:Tf,interpolate_:function(e){return this.copySampleValue_(e-1)}});function It(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=et.convertArray(t,this.TimeBufferType),this.values=et.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(It,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:et.convertArray(e.times,Array),values:et.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(It.prototype,{constructor:It,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Ul,InterpolantFactoryMethodDiscrete:function(e){return new Tf(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Sc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Ef(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case gc:t=this.InterpolantFactoryMethodDiscrete;break;case Ul:t=this.InterpolantFactoryMethodLinear;break;case Au:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return gc;case this.InterpolantFactoryMethodLinear:return Ul;case this.InterpolantFactoryMethodSmooth:return Au}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;o!==-1&&n[o]>t;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const s=this.getValueSize();this.times=et.arraySlice(n,r,o),this.values=et.arraySlice(this.values,r*s,o*s)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){const a=n[s];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,a),e=!1;break}if(o!==null&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,a,o),e=!1;break}o=a}if(i!==void 0&&et.isTypedArray(i))for(let s=0,a=i.length;s!==a;++s){const l=i[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}return e},optimize:function(){const e=et.arraySlice(this.times),t=et.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Au,r=e.length-1;let o=1;for(let s=1;s<r;++s){let a=!1;const l=e[s],c=e[s+1];if(l!==c&&(s!==1||l!==l[0]))if(i)a=!0;else{const h=s*n,u=h-n,f=h+n;for(let p=0;p!==n;++p){const g=t[h+p];if(g!==t[u+p]||g!==t[f+p]){a=!0;break}}}if(a){if(s!==o){e[o]=e[s];const h=s*n,u=o*n;for(let f=0;f!==n;++f)t[u+f]=t[h+f]}++o}}if(r>0){e[o]=e[r];for(let s=r*n,a=o*n,l=0;l!==n;++l)t[a+l]=t[s+l];++o}return o!==e.length?(this.times=et.arraySlice(e,0,o),this.values=et.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=et.arraySlice(this.times,0),t=et.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function Cf(e,t,n){It.call(this,e,t,n)}Cf.prototype=Object.assign(Object.create(It.prototype),{constructor:Cf,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:gc,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Lf(e,t,n,i){It.call(this,e,t,n,i)}Lf.prototype=Object.assign(Object.create(It.prototype),{constructor:Lf,ValueTypeName:"color"});function ga(e,t,n,i){It.call(this,e,t,n,i)}ga.prototype=Object.assign(Object.create(It.prototype),{constructor:ga,ValueTypeName:"number"});function Af(e,t,n,i){mn.call(this,e,t,n,i)}Af.prototype=Object.assign(Object.create(mn.prototype),{constructor:Af,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t);let l=e*s;for(let c=l+s;l!==c;l+=4)Yt.slerpFlat(r,0,o,l-s,o,l,a);return r}});function bc(e,t,n,i){It.call(this,e,t,n,i)}bc.prototype=Object.assign(Object.create(It.prototype),{constructor:bc,ValueTypeName:"quaternion",DefaultInterpolation:Ul,InterpolantFactoryMethodLinear:function(e){return new Af(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function Pf(e,t,n,i){It.call(this,e,t,n,i)}Pf.prototype=Object.assign(Object.create(It.prototype),{constructor:Pf,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:gc,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function va(e,t,n,i){It.call(this,e,t,n,i)}va.prototype=Object.assign(Object.create(It.prototype),{constructor:va,ValueTypeName:"vector"});function An(e,t=-1,n,i=Gd){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Te.generateUUID(),this.duration<0&&this.resetDuration()}function _T(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ga;case"vector":case"vector2":case"vector3":case"vector4":return va;case"color":return Lf;case"quaternion":return bc;case"bool":case"boolean":return Cf;case"string":return Pf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function wT(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=_T(e.type);if(e.times===void 0){const n=[],i=[];et.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(An,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(wT(n[o]).scale(i));const r=new An(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(It.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,o=[];for(let s=0;s<r;s++){let a=[],l=[];a.push((s+r-1)%r,s,(s+1)%r),l.push(0,1,0);const c=et.getKeyframeOrder(a);a=et.sortedArray(a,1,c),l=et.sortedArray(l,1,c),!i&&a[0]===0&&(a.push(r),l.push(l[0])),o.push(new ga(".morphTargetInfluences["+t[s].name+"]",a,l).scale(1/n))}return new An(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.name.match(r);if(c&&c.length>1){const h=c[1];let u=i[h];u||(i[h]=u=[]),u.push(l)}}const o=[];for(const s in i)o.push(An.CreateFromMorphTargetSequence(s,i[s],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(h,u,f,p,g){if(f.length!==0){const v=[],y=[];et.flattenJSON(f,v,y,p),v.length!==0&&g.push(new h(u,v,y))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let h=0;h<l.length;h++){const u=l[h].keys;if(!(!u||u.length===0))if(u[0].morphTargets){const f={};let p;for(p=0;p<u.length;p++)if(u[p].morphTargets)for(let g=0;g<u[p].morphTargets.length;g++)f[u[p].morphTargets[g]]=-1;for(const g in f){const v=[],y=[];for(let m=0;m!==u[p].morphTargets.length;++m){const d=u[p];v.push(d.time),y.push(d.morphTarget===g?1:0)}i.push(new ga(".morphTargetInfluence["+g+"]",v,y))}a=f.length*(o||1)}else{const f=".bones["+t[h].name+"]";n(va,f+".position",u,"pos",i),n(bc,f+".quaternion",u,"rot",i),n(va,f+".scale",u,"scl",i)}}return i.length===0?null:new An(r,a,i,s)}});Object.assign(An.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new An(this.name,this.duration,e,this.blendMode)},toJSON:function(){return An.toJSON(this)}});const Wo={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function MT(e,t,n){const i=this;let r=!1,o=0,s=0,a;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){s++,r===!1&&i.onStart!==void 0&&i.onStart(c,o,s),r=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,s),o===s&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,h){return l.push(c,h),this},this.removeHandler=function(c){const h=l.indexOf(c);return h!==-1&&l.splice(h,2),this},this.getHandler=function(c){for(let h=0,u=l.length;h<u;h+=2){const f=l[h],p=l[h+1];if(f.global&&(f.lastIndex=0),f.test(c))return p}return null}}const ST=new MT;function We(e){this.manager=e!==void 0?e:ST,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(We.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const En={};function pi(e){We.call(this,e)}pi.prototype=Object.assign(Object.create(We.prototype),{constructor:pi,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Wo.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;if(En[e]!==void 0){En[e].push({onLoad:t,onProgress:n,onError:i});return}const s=/^data:(.*?)(;base64)?,(.*)$/,a=e.match(s);let l;if(a){const c=a[1],h=!!a[2];let u=a[3];u=decodeURIComponent(u),h&&(u=atob(u));try{let f;const p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":const g=new Uint8Array(u.length);for(let y=0;y<u.length;y++)g[y]=u.charCodeAt(y);p==="blob"?f=new Blob([g.buffer],{type:c}):f=g.buffer;break;case"document":f=new DOMParser().parseFromString(u,c);break;case"json":f=JSON.parse(u);break;default:f=u;break}setTimeout(function(){t&&t(f),r.manager.itemEnd(e)},0)}catch(f){setTimeout(function(){i&&i(f),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{En[e]=[],En[e].push({onLoad:t,onProgress:n,onError:i}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(c){const h=this.response,u=En[e];if(delete En[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Wo.add(e,h);for(let f=0,p=u.length;f<p;f++){const g=u[f];g.onLoad&&g.onLoad(h)}r.manager.itemEnd(e)}else{for(let f=0,p=u.length;f<p;f++){const g=u[f];g.onError&&g.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(c){const h=En[e];for(let u=0,f=h.length;u<f;u++){const p=h[u];p.onProgress&&p.onProgress(c)}},!1),l.addEventListener("error",function(c){const h=En[e];delete En[e];for(let u=0,f=h.length;u<f;u++){const p=h[u];p.onError&&p.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),l.addEventListener("abort",function(c){const h=En[e];delete En[e];for(let u=0,f=h.length;u<f;u++){const p=h[u];p.onError&&p.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const c in this.requestHeader)l.setRequestHeader(c,this.requestHeader[c]);l.send(null)}return r.manager.itemStart(e),l},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}});function Ng(e){We.call(this,e)}Ng.prototype=Object.assign(Object.create(We.prototype),{constructor:Ng,load:function(e,t,n,i){const r=this,o=new pi(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=An.parse(e[n]);t.push(i)}return t}});function Ig(e){We.call(this,e)}Ig.prototype=Object.assign(Object.create(We.prototype),{constructor:Ig,load:function(e,t,n,i){const r=this,o=[],s=new ha,a=new pi(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(h){a.load(e[h],function(u){const f=r.parse(u,!0);o[h]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},l+=1,l===6&&(f.mipmapCount===1&&(s.minFilter=Rt),s.image=o,s.format=f.format,s.needsUpdate=!0,t&&t(s))},n,i)}if(Array.isArray(e))for(let h=0,u=e.length;h<u;++h)c(h);else a.load(e,function(h){const u=r.parse(h,!0);if(u.isCubemap){const f=u.mipmaps.length/u.mipmapCount;for(let p=0;p<f;p++){o[p]={mipmaps:[]};for(let g=0;g<u.mipmapCount;g++)o[p].mipmaps.push(u.mipmaps[p*u.mipmapCount+g]),o[p].format=u.format,o[p].width=u.width,o[p].height=u.height}s.image=o}else s.image.width=u.width,s.image.height=u.height,s.mipmaps=u.mipmaps;u.mipmapCount===1&&(s.minFilter=Rt),s.format=u.format,s.needsUpdate=!0,t&&t(s)},n,i);return s}});function Ec(e){We.call(this,e)}Ec.prototype=Object.assign(Object.create(We.prototype),{constructor:Ec,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Wo.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),Wo.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(c){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),i&&i(c),r.manager.itemError(e),r.manager.itemEnd(e)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}});function Rf(e){We.call(this,e)}Rf.prototype=Object.assign(Object.create(We.prototype),{constructor:Rf,load:function(e,t,n,i){const r=new Qi,o=new Ec(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(l){o.load(e[l],function(c){r.images[l]=c,s++,s===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}});function Dg(e){We.call(this,e)}Dg.prototype=Object.assign(Object.create(We.prototype),{constructor:Dg,load:function(e,t,n,i){const r=this,o=new Fo,s=new pi(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(e,function(a){const l=r.parse(a);l&&(l.image!==void 0?o.image=l.image:l.data!==void 0&&(o.image.width=l.width,o.image.height=l.height,o.image.data=l.data),o.wrapS=l.wrapS!==void 0?l.wrapS:Kt,o.wrapT=l.wrapT!==void 0?l.wrapT:Kt,o.magFilter=l.magFilter!==void 0?l.magFilter:Rt,o.minFilter=l.minFilter!==void 0?l.minFilter:Rt,o.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(o.format=l.format),l.type!==void 0&&(o.type=l.type),l.mipmaps!==void 0&&(o.mipmaps=l.mipmaps,o.minFilter=Zc),l.mipmapCount===1&&(o.minFilter=Rt),o.needsUpdate=!0,t&&t(o,l))},n,i),o}});function Nf(e){We.call(this,e)}Nf.prototype=Object.assign(Object.create(We.prototype),{constructor:Nf,load:function(e,t,n,i){const r=new Ze,o=new Ec(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){r.image=s;const a=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=a?yr:Nn,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}});function me(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(me.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0;const r=n.length;let o;t?o=t:o=e*n[r-1];let s=0,a=r-1,l;for(;s<=a;)if(i=Math.floor(s+(a-s)/2),l=n[i]-o,l<0)s=i+1;else if(l>0)a=i-1;else{a=i;break}if(i=a,n[i]===o)return i/(r-1);const c=n[i],u=n[i+1]-c,f=(o-c)/u;return(i+f)/(r-1)},getTangent:function(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=t||(o.isVector2?new X:new C);return a.copy(s).sub(o).normalize(),a},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new C,i=[],r=[],o=[],s=new C,a=new Ce;for(let f=0;f<=e;f++){const p=f/e;i[f]=this.getTangentAt(p,new C),i[f].normalize()}r[0]=new C,o[0]=new C;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),h=Math.abs(i[0].y),u=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),u<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let f=1;f<=e;f++){if(r[f]=r[f-1].clone(),o[f]=o[f-1].clone(),s.crossVectors(i[f-1],i[f]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(Te.clamp(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(a.makeRotationAxis(s,p))}o[f].crossVectors(i[f],r[f])}if(t===!0){let f=Math.acos(Te.clamp(r[0].dot(r[e]),-1,1));f/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(f=-f);for(let p=1;p<=e;p++)r[p].applyMatrix4(a.makeRotationAxis(i[p],f*p)),o[p].crossVectors(i[p],r[p])}return{tangents:i,normals:r,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function _n(e,t,n,i,r,o,s,a){me.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}_n.prototype=Object.create(me.prototype);_n.prototype.constructor=_n;_n.prototype.isEllipseCurve=!0;_n.prototype.getPoint=function(e,t){const n=t||new X,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(o?r=0:r=i),this.aClockwise===!0&&!o&&(r===i?r=-i:r=r-i);const s=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),u=a-this.aX,f=l-this.aY;a=u*c-f*h+this.aX,l=u*h+f*c+this.aY}return n.set(a,l)};_n.prototype.copy=function(e){return me.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};_n.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};_n.prototype.fromJSON=function(e){return me.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function ya(e,t,n,i,r,o){_n.call(this,e,t,n,n,i,r,o),this.type="ArcCurve"}ya.prototype=Object.create(_n.prototype);ya.prototype.constructor=ya;ya.prototype.isArcCurve=!0;function jd(){let e=0,t=0,n=0,i=0;function r(o,s,a,l){e=o,t=a,n=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){r(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,h,u){let f=(s-o)/c-(a-o)/(c+h)+(a-s)/h,p=(a-s)/h-(l-s)/(h+u)+(l-a)/u;f*=h,p*=h,r(s,a,f,p)},calc:function(o){const s=o*o,a=s*o;return e+t*o+n*s+i*a}}}const Sl=new C,th=new jd,nh=new jd,ih=new jd;function sn(e=[],t=!1,n="centripetal",i=.5){me.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}sn.prototype=Object.create(me.prototype);sn.prototype.constructor=sn;sn.prototype.isCatmullRomCurve3=!0;sn.prototype.getPoint=function(e,t=new C){const n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e;let s=Math.floor(o),a=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:a===0&&s===r-1&&(s=r-2,a=1);let l,c;this.closed||s>0?l=i[(s-1)%r]:(Sl.subVectors(i[0],i[1]).add(i[0]),l=Sl);const h=i[s%r],u=i[(s+1)%r];if(this.closed||s+2<r?c=i[(s+2)%r]:(Sl.subVectors(i[r-1],i[r-2]).add(i[r-1]),c=Sl),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let p=Math.pow(l.distanceToSquared(h),f),g=Math.pow(h.distanceToSquared(u),f),v=Math.pow(u.distanceToSquared(c),f);g<1e-4&&(g=1),p<1e-4&&(p=g),v<1e-4&&(v=g),th.initNonuniformCatmullRom(l.x,h.x,u.x,c.x,p,g,v),nh.initNonuniformCatmullRom(l.y,h.y,u.y,c.y,p,g,v),ih.initNonuniformCatmullRom(l.z,h.z,u.z,c.z,p,g,v)}else this.curveType==="catmullrom"&&(th.initCatmullRom(l.x,h.x,u.x,c.x,this.tension),nh.initCatmullRom(l.y,h.y,u.y,c.y,this.tension),ih.initCatmullRom(l.z,h.z,u.z,c.z,this.tension));return n.set(th.calc(a),nh.calc(a),ih.calc(a)),n};sn.prototype.copy=function(e){me.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};sn.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};sn.prototype.fromJSON=function(e){me.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new C().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function Og(e,t,n,i,r){const o=(i-t)*.5,s=(r-n)*.5,a=e*e,l=e*a;return(2*n-2*i+o+s)*l+(-3*n+3*i-2*o-s)*a+o*e+n}function bT(e,t){const n=1-e;return n*n*t}function ET(e,t){return 2*(1-e)*e*t}function TT(e,t){return e*e*t}function zs(e,t,n,i){return bT(e,t)+ET(e,n)+TT(e,i)}function CT(e,t){const n=1-e;return n*n*n*t}function LT(e,t){const n=1-e;return 3*n*n*e*t}function AT(e,t){return 3*(1-e)*e*e*t}function PT(e,t){return e*e*e*t}function Us(e,t,n,i,r){return CT(e,t)+LT(e,n)+AT(e,i)+PT(e,r)}function jn(e=new X,t=new X,n=new X,i=new X){me.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}jn.prototype=Object.create(me.prototype);jn.prototype.constructor=jn;jn.prototype.isCubicBezierCurve=!0;jn.prototype.getPoint=function(e,t=new X){const n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(Us(e,i.x,r.x,o.x,s.x),Us(e,i.y,r.y,o.y,s.y)),n};jn.prototype.copy=function(e){return me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};jn.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};jn.prototype.fromJSON=function(e){return me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function mi(e=new C,t=new C,n=new C,i=new C){me.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}mi.prototype=Object.create(me.prototype);mi.prototype.constructor=mi;mi.prototype.isCubicBezierCurve3=!0;mi.prototype.getPoint=function(e,t=new C){const n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(Us(e,i.x,r.x,o.x,s.x),Us(e,i.y,r.y,o.y,s.y),Us(e,i.z,r.z,o.z,s.z)),n};mi.prototype.copy=function(e){return me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};mi.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};mi.prototype.fromJSON=function(e){return me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function an(e=new X,t=new X){me.call(this),this.type="LineCurve",this.v1=e,this.v2=t}an.prototype=Object.create(me.prototype);an.prototype.constructor=an;an.prototype.isLineCurve=!0;an.prototype.getPoint=function(e,t=new X){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};an.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};an.prototype.getTangent=function(e,t){const n=t||new X;return n.copy(this.v2).sub(this.v1).normalize(),n};an.prototype.copy=function(e){return me.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};an.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};an.prototype.fromJSON=function(e){return me.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Xn(e=new C,t=new C){me.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}Xn.prototype=Object.create(me.prototype);Xn.prototype.constructor=Xn;Xn.prototype.isLineCurve3=!0;Xn.prototype.getPoint=function(e,t=new C){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Xn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Xn.prototype.copy=function(e){return me.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Xn.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Xn.prototype.fromJSON=function(e){return me.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function qn(e=new X,t=new X,n=new X){me.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}qn.prototype=Object.create(me.prototype);qn.prototype.constructor=qn;qn.prototype.isQuadraticBezierCurve=!0;qn.prototype.getPoint=function(e,t=new X){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(zs(e,i.x,r.x,o.x),zs(e,i.y,r.y,o.y)),n};qn.prototype.copy=function(e){return me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};qn.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};qn.prototype.fromJSON=function(e){return me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function gi(e=new C,t=new C,n=new C){me.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}gi.prototype=Object.create(me.prototype);gi.prototype.constructor=gi;gi.prototype.isQuadraticBezierCurve3=!0;gi.prototype.getPoint=function(e,t=new C){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(zs(e,i.x,r.x,o.x),zs(e,i.y,r.y,o.y),zs(e,i.z,r.z,o.z)),n};gi.prototype.copy=function(e){return me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};gi.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};gi.prototype.fromJSON=function(e){return me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Yn(e=[]){me.call(this),this.type="SplineCurve",this.points=e}Yn.prototype=Object.create(me.prototype);Yn.prototype.constructor=Yn;Yn.prototype.isSplineCurve=!0;Yn.prototype.getPoint=function(e,t=new X){const n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),s=r-o,a=i[o===0?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return n.set(Og(s,a.x,l.x,c.x,h.x),Og(s,a.y,l.y,c.y,h.y)),n};Yn.prototype.copy=function(e){me.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};Yn.prototype.toJSON=function(){const e=me.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};Yn.prototype.fromJSON=function(e){me.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new X().fromArray(i))}return this};var RT=Object.freeze({__proto__:null,ArcCurve:ya,CatmullRomCurve3:sn,CubicBezierCurve:jn,CubicBezierCurve3:mi,EllipseCurve:_n,LineCurve:an,LineCurve3:Xn,QuadraticBezierCurve:qn,QuadraticBezierCurve3:gi,SplineCurve:Yn});function ki(){me.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}ki.prototype=Object.assign(Object.create(me.prototype),{constructor:ki,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new an(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,o=this.curves[i],s=o.getLength(),a=s===0?0:1-r/s;return o.getPointAt(a)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let l=0;l<a.length;l++){const c=a[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){me.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=me.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){me.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new RT[i.type]().fromJSON(i))}return this}});function Hn(e){ki.call(this),this.type="Path",this.currentPoint=new X,e&&this.setFromPoints(e)}Hn.prototype=Object.assign(Object.create(ki.prototype),{constructor:Hn,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new an(this.currentPoint.clone(),new X(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new qn(this.currentPoint.clone(),new X(e,t),new X(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,o){const s=new jn(this.currentPoint.clone(),new X(e,t),new X(n,i),new X(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new Yn(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,i,r,o),this},absarc:function(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this},ellipse:function(e,t,n,i,r,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,o,s,a),this},absellipse:function(e,t,n,i,r,o,s,a){const l=new _n(e,t,n,i,r,o,s,a);if(this.curves.length>0){const h=l.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return ki.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=ki.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return ki.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function To(e){Hn.call(this,e),this.uuid=Te.generateUUID(),this.type="Shape",this.holes=[]}To.prototype=Object.assign(Object.create(Hn.prototype),{constructor:To,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Hn.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=Hn.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Hn.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Hn().fromJSON(i))}return this}});function Qe(e,t=1){ye.call(this),this.type="Light",this.color=new de(e),this.intensity=t}Qe.prototype=Object.assign(Object.create(ye.prototype),{constructor:Qe,isLight:!0,copy:function(e){return ye.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=ye.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function Fg(e,t,n){Qe.call(this,e,n),this.type="HemisphereLight",this.position.copy(ye.DefaultUp),this.updateMatrix(),this.groundColor=new de(t)}Fg.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Fg,isHemisphereLight:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function vi(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new X(512,512),this.map=null,this.mapPass=null,this.matrix=new Ce,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jc,this._frameExtents=new X(1,1),this._viewportCount=1,this._viewports=[new Ge(0,0,1,1)]}Object.assign(vi.prototype,{_projScreenMatrix:new Ce,_lightPositionWorld:new C,_lookTarget:new C,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function If(){vi.call(this,new yt(50,1,.5,500)),this.focus=1}If.prototype=Object.assign(Object.create(vi.prototype),{constructor:If,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=Te.RAD2DEG*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),vi.prototype.updateMatrices.call(this,e)}});function kg(e,t,n,i,r,o){Qe.call(this,e,t),this.type="SpotLight",this.position.copy(ye.DefaultUp),this.updateMatrix(),this.target=new ye,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(s){this.intensity=s/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=r!==void 0?r:0,this.decay=o!==void 0?o:1,this.shadow=new If}kg.prototype=Object.assign(Object.create(Qe.prototype),{constructor:kg,isSpotLight:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function Df(){vi.call(this,new yt(90,1,.5,500)),this._frameExtents=new X(4,2),this._viewportCount=6,this._viewports=[new Ge(2,1,1,1),new Ge(0,1,1,1),new Ge(3,1,1,1),new Ge(1,1,1,1),new Ge(3,0,1,1),new Ge(1,0,1,1)],this._cubeDirections=[new C(1,0,0),new C(-1,0,0),new C(0,0,1),new C(0,0,-1),new C(0,1,0),new C(0,-1,0)],this._cubeUps=[new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,0,1),new C(0,0,-1)]}Df.prototype=Object.assign(Object.create(vi.prototype),{constructor:Df,isPointLightShadow:!0,updateMatrices:function(e,t=0){const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}});function Bg(e,t,n,i){Qe.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(r){this.intensity=r/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new Df}Bg.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Bg,isPointLight:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function Of(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){Ji.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}Of.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Of,isOrthographicCamera:!0,copy:function(e,t){return Ji.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,s=i+t,a=i-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,s-=c*this.view.offsetY,a=s-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=ye.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function Ff(){vi.call(this,new Of(-5,5,5,-5,.5,500))}Ff.prototype=Object.assign(Object.create(vi.prototype),{constructor:Ff,isDirectionalLightShadow:!0,updateMatrices:function(e){vi.prototype.updateMatrices.call(this,e)}});function zg(e,t){Qe.call(this,e,t),this.type="DirectionalLight",this.position.copy(ye.DefaultUp),this.updateMatrix(),this.target=new ye,this.shadow=new Ff}zg.prototype=Object.assign(Object.create(Qe.prototype),{constructor:zg,isDirectionalLight:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function kf(e,t){Qe.call(this,e,t),this.type="AmbientLight"}kf.prototype=Object.assign(Object.create(Qe.prototype),{constructor:kf,isAmbientLight:!0});function Ug(e,t,n,i){Qe.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}Ug.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Ug,isRectAreaLight:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Qe.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class NT{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new C)}set(t){for(let n=0;n<9;n++)this.coefficients[n].copy(t[n]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,n){const i=t.x,r=t.y,o=t.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(i*o)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(t,n){const i=t.x,r=t.y,o=t.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*i*o),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(t){for(let n=0;n<9;n++)this.coefficients[n].add(t.coefficients[n]);return this}addScaledSH(t,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],n);return this}scale(t){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(t);return this}lerp(t,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],n);return this}equals(t){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(t.coefficients[n]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,n+r*3);return this}toArray(t=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,n+r*3);return t}static getBasisAt(t,n){const i=t.x,r=t.y,o=t.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*o,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*i*o,n[8]=.546274*(i*i-r*r)}}function Wn(e,t){Qe.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new NT}Wn.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Wn,isLightProbe:!0,copy:function(e){return Qe.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Qe.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function Hg(e){We.call(this,e),this.textures={}}Hg.prototype=Object.assign(Object.create(We.prototype),{constructor:Hg,load:function(e,t,n,i){const r=this,o=new pi(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new xT[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new de().setHex(e.sheen)),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(i.uniforms[r]={},o.type){case"t":i.uniforms[r].value=n(o.value);break;case"c":i.uniforms[r].value=new de().setHex(o.value);break;case"v2":i.uniforms[r].value=new X().fromArray(o.value);break;case"v3":i.uniforms[r].value=new C().fromArray(o.value);break;case"v4":i.uniforms[r].value=new Ge().fromArray(o.value);break;case"m3":i.uniforms[r].value=new Wt().fromArray(o.value);break;case"m4":i.uniforms[r].value=new Ce().fromArray(o.value);break;default:i.uniforms[r].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new X().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new X().fromArray(e.clearcoatNormalScale)),e.transmission!==void 0&&(i.transmission=e.transmission),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});const IT={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function Tc(){He.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}Tc.prototype=Object.assign(Object.create(He.prototype),{constructor:Tc,isInstancedBufferGeometry:!0,copy:function(e){return He.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=He.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function Bf(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Me.call(this,e,t,n),this.meshPerAttribute=i||1}Bf.prototype=Object.assign(Object.create(Me.prototype),{constructor:Bf,isInstancedBufferAttribute:!0,copy:function(e){return Me.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Me.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function Vg(e){We.call(this,e)}Vg.prototype=Object.assign(Object.create(We.prototype),{constructor:Vg,load:function(e,t,n,i){const r=this,o=new pi(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(f,p){if(t[p]!==void 0)return t[p];const v=f.interleavedBuffers[p],y=r(f,v.buffer),m=nl(v.type,y),d=new dn(m,v.stride);return d.uuid=v.uuid,t[p]=d,d}function r(f,p){if(n[p]!==void 0)return n[p];const v=f.arrayBuffers[p],y=new Uint32Array(v).buffer;return n[p]=y,y}const o=e.isInstancedBufferGeometry?new Tc:new He,s=e.data.index;if(s!==void 0){const f=nl(s.type,s.array);o.setIndex(new Me(f,1))}const a=e.data.attributes;for(const f in a){const p=a[f];let g;if(p.isInterleavedBufferAttribute){const v=i(e.data,p.data);g=new Cr(v,p.itemSize,p.offset,p.normalized)}else{const v=nl(p.type,p.array),y=p.isInstancedBufferAttribute?Bf:Me;g=new y(v,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),o.setAttribute(f,g)}const l=e.data.morphAttributes;if(l)for(const f in l){const p=l[f],g=[];for(let v=0,y=p.length;v<y;v++){const m=p[v];let d;if(m.isInterleavedBufferAttribute){const x=i(e.data,m.data);d=new Cr(x,m.itemSize,m.offset,m.normalized)}else{const x=nl(m.type,m.array);d=new Me(x,m.itemSize,m.normalized)}m.name!==void 0&&(d.name=m.name),g.push(d)}o.morphAttributes[f]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let f=0,p=h.length;f!==p;++f){const g=h[f];o.addGroup(g.start,g.count,g.materialIndex)}const u=e.data.boundingSphere;if(u!==void 0){const f=new C;u.center!==void 0&&f.fromArray(u.center),o.boundingSphere=new rr(f,u.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}});function Gg(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),We.call(this,e),this.options={premultiplyAlpha:"none"}}Gg.prototype=Object.assign(Object.create(We.prototype),{constructor:Gg,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Wo.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(e,s).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,r.options)}).then(function(a){Wo.add(e,a),t&&t(a),r.manager.itemEnd(e)}).catch(function(a){i&&i(a),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}});function Wy(){this.type="ShapePath",this.color=new de,this.subPaths=[],this.currentPath=null}Object.assign(Wy.prototype,{moveTo:function(e,t){return this.currentPath=new Hn,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,o){return this.currentPath.bezierCurveTo(e,t,n,i,r,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(m){const d=[];for(let x=0,w=m.length;x<w;x++){const M=m[x],_=new To;_.curves=M.curves,d.push(_)}return d}function i(m,d){const x=d.length;let w=!1;for(let M=x-1,_=0;_<x;M=_++){let E=d[M],P=d[_],I=P.x-E.x,U=P.y-E.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(E=d[_],I=-I,P=d[M],U=-U),m.y<E.y||m.y>P.y)continue;if(m.y===E.y){if(m.x===E.x)return!0}else{const R=U*(m.x-E.x)-I*(m.y-E.y);if(R===0)return!0;if(R<0)continue;w=!w}}else{if(m.y!==E.y)continue;if(P.x<=m.x&&m.x<=E.x||E.x<=m.x&&m.x<=P.x)return!0}}return w}const r=Yi.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return n(o);let s,a,l;const c=[];if(o.length===1)return a=o[0],l=new To,l.curves=a.curves,c.push(l),c;let h=!r(o[0].getPoints());h=e?!h:h;const u=[],f=[];let p=[],g=0,v;f[g]=void 0,p[g]=[];for(let m=0,d=o.length;m<d;m++)a=o[m],v=a.getPoints(),s=r(v),s=e?!s:s,s?(!h&&f[g]&&g++,f[g]={s:new To,p:v},f[g].s.curves=a.curves,h&&g++,p[g]=[]):p[g].push({h:a,p:v[0]});if(!f[0])return n(o);if(f.length>1){let m=!1;const d=[];for(let x=0,w=f.length;x<w;x++)u[x]=[];for(let x=0,w=f.length;x<w;x++){const M=p[x];for(let _=0;_<M.length;_++){const E=M[_];let P=!0;for(let I=0;I<f.length;I++)i(E.p,f[I].p)&&(x!==I&&d.push({froms:x,tos:I,hole:_}),P?(P=!1,u[I].push(E)):m=!0);P&&u[x].push(E)}}d.length>0&&(m||(p=u))}let y;for(let m=0,d=f.length;m<d;m++){l=f[m].s,c.push(l),y=p[m];for(let x=0,w=y.length;x<w;x++)l.holes.push(y[x].h)}return c}});function jy(e){this.type="Font",this.data=e}Object.assign(jy.prototype,{isFont:!0,generateShapes:function(e,t=100){const n=[],i=DT(e,t,this.data);for(let r=0,o=i.length;r<o;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}});function DT(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,l=0;for(let c=0;c<i.length;c++){const h=i[c];if(h===`
`)a=0,l-=o;else{const u=OT(h,r,a,l,n);a+=u.offsetX,s.push(u.path)}}return s}function OT(e,t,n,i,r){const o=r.glyphs[e]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const s=new Wy;let a,l,c,h,u,f,p,g;if(o.o){const v=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let y=0,m=v.length;y<m;)switch(v[y++]){case"m":a=v[y++]*t+n,l=v[y++]*t+i,s.moveTo(a,l);break;case"l":a=v[y++]*t+n,l=v[y++]*t+i,s.lineTo(a,l);break;case"q":c=v[y++]*t+n,h=v[y++]*t+i,u=v[y++]*t+n,f=v[y++]*t+i,s.quadraticCurveTo(u,f,c,h);break;case"b":c=v[y++]*t+n,h=v[y++]*t+i,u=v[y++]*t+n,f=v[y++]*t+i,p=v[y++]*t+n,g=v[y++]*t+i,s.bezierCurveTo(u,f,p,g,c,h);break}}return{offsetX:o.ha*t,path:s}}function zf(e){We.call(this,e)}zf.prototype=Object.assign(Object.create(We.prototype),{constructor:zf,load:function(e,t,n,i){const r=this,o=new pi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){let a;try{a=JSON.parse(s)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),a=JSON.parse(s.substring(65,s.length-2))}const l=r.parse(a);t&&t(l)},n,i)},parse:function(e){return new jy(e)}});let bl;const FT={getContext:function(){return bl===void 0&&(bl=new(window.AudioContext||window.webkitAudioContext)),bl},setContext:function(e){bl=e}};function Wg(e){We.call(this,e)}Wg.prototype=Object.assign(Object.create(We.prototype),{constructor:Wg,load:function(e,t,n,i){const r=this,o=new pi(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){try{const a=s.slice(0);FT.getContext().decodeAudioData(a,function(c){t(c)})}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)}});function jg(e,t,n){Wn.call(this,void 0,n);const i=new de().set(e),r=new de().set(t),o=new C(i.r,i.g,i.b),s=new C(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(l)}jg.prototype=Object.assign(Object.create(Wn.prototype),{constructor:jg,isHemisphereLightProbe:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this},toJSON:function(e){return Wn.prototype.toJSON.call(this,e)}});function Xg(e,t){Wn.call(this,void 0,t);const n=new de().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Xg.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Xg,isAmbientLightProbe:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this},toJSON:function(e){return Wn.prototype.toJSON.call(this,e)}});const qg=new Ce,Yg=new Ce;function kT(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(kT.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,o=r*t.near/t.focus,s=t.near*Math.tan(Te.DEG2RAD*t.fov*.5)/t.zoom;let a,l;Yg.elements[12]=-r,qg.elements[12]=r,a=-s*t.aspect+o,l=s*t.aspect+o,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(i),a=-s*t.aspect-o,l=s*t.aspect-o,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Yg),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qg)}});function Xy(e,t,n){this.binding=e,this.valueSize=n;let i,r,o;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Xy.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)n[r+s]=n[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const a=t*this._origIndex;this._mixBufferRegion(n,i,a,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){Yt.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const o=this._workIndex*r;Yt.multiplyQuaternionsFlat(e,o,e,t,e,n),Yt.slerpFlat(e,t,e,t,e,o,i)},_lerp:function(e,t,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const a=t+s;e[a]=e[a]*o+e[n+s]*i}},_lerpAdditive:function(e,t,n,i,r){for(let o=0;o!==r;++o){const s=t+o;e[s]=e[s]+e[n+o]*i}}});const Xd="\\[\\]\\.:\\/",BT=new RegExp("["+Xd+"]","g"),qd="[^"+Xd+"]",zT="[^"+Xd.replace("\\.","")+"]",UT=/((?:WC+[\/:])*)/.source.replace("WC",qd),HT=/(WCOD+)?/.source.replace("WCOD",zT),VT=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qd),GT=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qd),WT=new RegExp("^"+UT+HT+VT+GT+"$"),jT=["material","materials","bones"];function qy(e,t,n){const i=n||kt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(qy.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function kt(e,t,n){this.path=t,this.parsedPath=n||kt.parseTrackName(t),this.node=kt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(kt,{Composite:qy,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new kt.Composite(e,t,n):new kt(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(BT,"")},parseTrackName:function(e){const t=WT.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);jT.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let o=0;o<r.length;o++){const s=r[o];if(s.name===t||s.uuid===t)return s;const a=n(s.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}});Object.assign(kt.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)t[n++]=i[r]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=kt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const o=e[i];if(o===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(kt.prototype,{_getValue_unbound:kt.prototype.getValue,_setValue_unbound:kt.prototype.setValue});function XT(){this.uuid=Te.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(XT.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s,a=e.length,l=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const u=arguments[c],f=u.uuid;let p=t[f];if(p===void 0){p=a++,t[f]=p,e.push(u);for(let g=0,v=o;g!==v;++g)r[g].push(new kt(u,n[g],i[g]))}else if(p<l){s=e[p];const g=--l,v=e[g];t[v.uuid]=p,e[p]=v,t[f]=g,e[g]=u;for(let y=0,m=o;y!==m;++y){const d=r[y],x=d[g];let w=d[p];d[p]=x,w===void 0&&(w=new kt(u,n[y],i[y])),d[g]=w}}else e[p]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const a=arguments[o],l=a.uuid,c=t[l];if(c!==void 0&&c>=r){const h=r++,u=e[h];t[u.uuid]=c,e[c]=u,t[l]=h,e[h]=a;for(let f=0,p=i;f!==p;++f){const g=n[f],v=g[h],y=g[c];g[c]=v,g[h]=y}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,h=t[c];if(h!==void 0)if(delete t[c],h<r){const u=--r,f=e[u],p=--o,g=e[p];t[f.uuid]=h,e[h]=f,t[g.uuid]=u,e[u]=g,e.pop();for(let v=0,y=i;v!==y;++v){const m=n[v],d=m[u],x=m[p];m[h]=d,m[u]=x,m.pop()}}else{const u=--o,f=e[u];u>0&&(t[f.uuid]=h),e[h]=f,e.pop();for(let p=0,g=i;p!==g;++p){const v=n[p];v[h]=v[u],v.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(i!==void 0)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,h=new Array(l);i=r.length,n[e]=i,o.push(e),s.push(t),r.push(h);for(let u=c,f=a.length;u!==f;++u){const p=a[u];h[u]=new kt(p,e,t)}return h},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],l=e[s];t[l]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}});class qT{constructor(t,n,i=null,r=n.blendMode){this._mixer=t,this._clip=n,this._localRoot=i,this.blendMode=r;const o=n.tracks,s=o.length,a=new Array(s),l={endingStart:fo,endingEnd:fo};for(let c=0;c!==s;++c){const h=o[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fM,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,n){return this.loop=t,this.repetitions=n,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,n,i){if(t.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,o=t._clip.duration,s=o/r,a=r/o;t.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(t,n,i){return t.crossFadeFrom(this,n,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,n,i){const r=this._mixer,o=r.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+i,c[0]=t/s,c[1]=n/s,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,n,i,r){if(!this.enabled){this._updateWeight(t);return}const o=this._startTime;if(o!==null){const l=(t-o)*i;if(l<0||i===0)return;this._startTime=null,n=i*l}n*=this._updateTimeScale(t);const s=this._updateTime(n),a=this._updateWeight(t);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case My:for(let h=0,u=l.length;h!==u;++h)l[h].evaluate(s),c[h].accumulateAdditive(a);break;case Gd:default:for(let h=0,u=l.length;h!==u;++h)l[h].evaluate(s),c[h].accumulate(r,a)}}}_updateWeight(t){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];n*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(t){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(t)[0];n*=r,t>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(t){const n=this._clip.duration,i=this.loop;let r=this.time+t,o=this._loopCount;const s=i===dM;if(t===0)return o===-1?r:s&&(o&1)===1?n-r:r;if(i===hM){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(o===-1&&(t>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const c=t<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(s&&(o&1)===1)return n-r}return r}_setEndings(t,n,i){const r=this._interpolantSettings;i?(r.endingStart=po,r.endingEnd=po):(t?r.endingStart=this.zeroSlopeAtStart?po:fo:r.endingStart=vc,n?r.endingEnd=this.zeroSlopeAtEnd?po:fo:r.endingEnd=vc)}_scheduleFading(t,n,i){const r=this._mixer,o=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+t,l[1]=i,this}}function Zg(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Zg.prototype=Object.assign(Object.create(xi.prototype),{constructor:Zg,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];c===void 0&&(c={},l[a]=c);for(let h=0;h!==r;++h){const u=i[h],f=u.name;let p=c[f];if(p!==void 0)o[h]=p;else{if(p=o[h],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,a,f));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;p=new Xy(kt.create(n,f,g),u.ValueTypeName,u.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,a,f),o[h]=p}s[h].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;const h=s.actionByRoot,u=(e._localRoot||this._root).uuid;delete h[u],a.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],Object.keys(s).length===0&&delete o[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Sc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let o=typeof e=="string"?An.findByName(i,e):e;const s=o!==null?o.uuid:e,a=this._actionsByClip[s];let l=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Gd),a!==void 0){const h=a.actionByRoot[r];if(h!==void 0&&h.blendMode===n)return h;l=a.knownActions[0],o===null&&(o=l._clip)}if(o===null)return null;const c=new qT(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?An.findByName(n,e):e,o=r?r.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,o);const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const o=r.knownActions;for(let s=0,a=o.length;s!==a;++s){const l=o[s];this._deactivateAction(l);const c=l._cacheIndex,h=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=c,t[c]=h,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const s=n[o].actionByRoot,a=s[t];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const o in r){const s=r[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function $g(e,t,n){dn.call(this,e,t),this.meshPerAttribute=n||1}$g.prototype=Object.assign(Object.create(dn.prototype),{constructor:$g,isInstancedInterleavedBuffer:!0,copy:function(e){return dn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=dn.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=dn.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function Yy(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}Object.defineProperty(Yy.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Yy.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}});function Zy(e,t,n,i){this.ray=new Ca(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new by,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Jg(e,t){return e.distance-t.distance}function Uf(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const r=e.children;for(let o=0,s=r.length;o<s;o++)Uf(r[o],t,n,!0)}}Object.assign(Zy.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t,n){const i=n||[];return Uf(e,this,i,t),i.sort(Jg),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,o=e.length;r<o;r++)Uf(e[r],this,i,t);return i.sort(Jg),i}});const Qg=new X;class YT{constructor(t,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=t!==void 0?t:new X(1/0,1/0),this.max=n!==void 0?n:new X(-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=Qg.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new X),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new X),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new X),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new X),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Qg.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function Cc(e){ye.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Cc.prototype=Object.create(ye.prototype);Cc.prototype.constructor=Cc;Cc.prototype.isImmediateRenderObject=!0;const Li=new C,El=new Ce,rh=new Ce;class ZT extends xc{constructor(t){const n=$y(t),i=new He,r=[],o=[],s=new de(0,0,1),a=new de(0,1,0);for(let c=0;c<n.length;c++){const h=n[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}i.setAttribute("position",new ke(r,3)),i.setAttribute("color",new ke(o,3));const l=new xn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=n,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const n=this.bones,i=this.geometry,r=i.getAttribute("position");rh.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(El.multiplyMatrices(rh,a.matrixWorld),Li.setFromMatrixPosition(El),r.setXYZ(s,Li.x,Li.y,Li.z),El.multiplyMatrices(rh,a.parent.matrixWorld),Li.setFromMatrixPosition(El),r.setXYZ(s+1,Li.x,Li.y,Li.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function $y(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,$y(e.children[n]));return t}class $T extends xc{constructor(t=10,n=10,i=4473924,r=8947848){i=new de(i),r=new de(r);const o=n/2,s=t/n,a=t/2,l=[],c=[];for(let f=0,p=0,g=-a;f<=n;f++,g+=s){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=f===o?i:r;v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3}const h=new He;h.setAttribute("position",new ke(l,3)),h.setAttribute("color",new ke(c,3));const u=new xn({vertexColors:!0,toneMapped:!1});super(h,u),this.type="GridHelper"}}const JT=new Float32Array(1);new Int32Array(JT.buffer);me.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(me.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(ki.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new tn;for(let n=0,i=e.length;n<i;n++){const r=e[n];t.vertices.push(new C(r.x,r.y,r.z||0))}return t}});Object.assign(Hn.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(sn.prototype);Object.create(sn.prototype);function Jy(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),sn.call(this,e),this.type="catmullrom"}Jy.prototype=Object.create(sn.prototype);Object.assign(Jy.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});$T.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};ZT.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(We.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),IT.extractUrlBase(e)}});We.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(YT.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(ir.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(rr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});Jc.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};Object.assign(Te,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Te.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Te.ceilPowerOfTwo(e)}});Object.assign(Wt.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}});Object.assign(Ce.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new C().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,o)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}});ri.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Object.assign(Yt.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}});Object.assign(Ca.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(Pt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(Pt,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Pt.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Pt.getNormal(e,t,n,i)}});Object.assign(To.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new cT(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new dT(this,e)}});Object.assign(X.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(C.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ge.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(tn.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(ye.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(ye.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(_t.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(_t.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),pM},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(vf.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(_f.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});yf.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(me.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});yt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(Qe.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Me.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===sa},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(sa)}}});Object.assign(Me.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?sa:$c),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(He.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Me(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(He.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(Tc.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(Zy.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(dn.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===sa},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(dn.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?sa:$c),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Wd.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(zy.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(xe.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new de}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===yy}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(Rr.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Pr.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}});Object.defineProperties(Zt.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(Aa.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(Aa.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?Sy:Ta}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(ky.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(In.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Oo.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Oo.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)};$o.crossOrigin=void 0;$o.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Nf;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o};$o.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Rf;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o};$o.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};$o.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Gw}}));const QT=({lista:e,color:t})=>(D.useEffect(()=>{const n=new zf,i=document.querySelector("canvas.webgl"),r=e,o=t,s=new zy,a={width:i.clientWidth,height:i.clientWidth},l=new C,c=new yt(50,a.width/a.height,.1,1e3);c.position.z=150,s.add(c);const h=new Aa({canvas:i,alpha:!0});h.setSize(a.width,a.height),h.setPixelRatio(Math.min(window.devicePixelRatio,2)),h.setClearColor(0,0);const u=new kf;s.add(u);const f=new mr,p=new _t(new gT(50),new fi({wireframe:!0,visible:!1,color:o}));f.add(p);const g=[],v=new fi({color:o});let y=!1;for(let I=0;I<r.length;I++)n.load("/LuisZapata/fonts/helvetiker_regular.typeface.json",U=>{const R=new yT(r[I],{font:U,size:Math.random()+3,height:.1,curveSegments:6});R.center(),y=!0;const z=new _t(R,v);g.push(z),f.add(g[I])});var m=new ye;m.add(f),s.add(m);let d=!0,x=!1;i.addEventListener("mousemove",I=>{const U=(i.getBoundingClientRect().right+i.getBoundingClientRect().left)/2,R=(i.getBoundingClientRect().bottom+i.getBoundingClientRect().top)/2;l.x=2*(I.clientX-U)/i.clientWidth,l.y=2*(R-I.clientY)/i.clientHeight}),i.addEventListener("resize",()=>{a.width=window.innerWidth,a.height=window.innerHeight,c.aspect=a.width/a.height,c.updateProjectionMatrix(),h.setSize(a.width,a.height),h.setPixelRatio(Math.min(window.devicePixelRatio,2))}),i.addEventListener("mouseout",()=>{d=!0,x=!1}),i.addEventListener("mouseenter",()=>{d=!1,x=!0});const w=(I,U,R)=>{I.position.set(U.geometry.vertices[R].x,U.geometry.vertices[R].y,U.geometry.vertices[R].z)};var M=0,_=new Yt,E=f.quaternion.clone();const P=()=>{if(y){for(let U=0;U<g.length;U++)g[U].lookAt(g[U].position.x,g[U].position.y,p.geometry.parameters.radius+1e3);let I=0;for(let U=0;U<r.length;U++)w(g[U],p,I),I+=3,g[U].rotation.setFromVector3(g[0].rotation.toVector3())}x&&(l.normalize(),_.setFromAxisAngle({x:-l.y,y:l.x,z:0},M),M+=.02,E.slerp(_,.02),f.setRotationFromQuaternion(E),E=f.quaternion.clone()),d&&(E=f.quaternion.clone(),_.setFromAxisAngle({x:-l.y,y:l.x,z:0},M),E.slerp(_,.02),f.rotation.x+=.01,f.rotation.y+=.01),h.render(s,c),requestAnimationFrame(P)};P()},[]),te("canvas",{className:"webgl"})),KT=()=>{kd();const e=(t,n)=>{t.preventDefault(),setTimeout(()=>{document.getElementById(n).scrollIntoView({behavior:"smooth"})},300)};return Ie("div",{className:"main",children:[te("div",{className:"header-home",children:Ie("div",{className:"content",children:[te("img",{src:kw,alt:"logo-home"}),Ie("ul",{className:"navbar-home",children:[te("li",{children:te("a",{href:"#about",onClick:t=>e(t,"about"),children:"Sobre mi"})}),te("li",{children:te("a",{href:"#worked",onClick:t=>e(t,"worked"),children:"Experiencia"})}),te("li",{children:te("a",{href:"#education",onClick:t=>e(t,"education"),children:"Educación"})}),te("li",{children:te(gy,{to:"/blog/",className:"button-blog",children:"Blog"})})]})]})}),Ie("div",{className:"main-home",children:[te("div",{className:"content-front-page",children:te("div",{className:"front-page",children:Ie("div",{children:[Ie("div",{className:"text-content",children:[te("p",{className:"hello",children:"Hola, me llamo"}),te("h1",{className:"name-title",children:"Luis Zapata"}),te("p",{className:"introduction",children:"Soy estudiante de ingenieria de sistemas y desarrollador back-end continuamente estoy creando productos digitales que contentan una buena experiencia y sean de utilidad para las personas"})]}),Ie("ul",{className:"list-buttoms",children:[te("li",{children:Ie("a",{href:"https://www.linkedin.com/in/luiszapatayamo/",rel:"noopener",target:"_blank",children:[te(Hw,{className:"icon"}),te("span",{className:"button-social",children:"Linkedin"})]})}),te("li",{children:Ie("a",{href:"https://github.com/LuisZapataYamo",rel:"noopener",target:"_blank",children:[te(Vw,{className:"icon"}),te("span",{className:"button-social",children:"GitHub"})]})})]})]})})}),Ie("div",{className:"about",id:"about",children:[Ie("div",{className:"content-about",children:[Ie("div",{className:"content-text",children:[te("h2",{children:"Sobre mi"}),te("p",{children:"Joven estudiante de ingeniería de sistemas capaz, carismático, respetuoso y productivo con ganas de aportar a la comunidad para así poder desarrollarse personalmente y profesionalmente. Con convicciones hacia un mejor futuro y ganas de adquirir más conocimientos sobre las TIC."}),te("p",{children:"Actualmente estoy trabajando en la creacion de un blog para que estudiante de mi universidad puedan compartir conocimientos."})]}),te("img",{src:Bw,alt:""})]}),Ie("div",{className:"skills",id:"skills",children:[te(QT,{lista:["Python","Django","Django REST","HTML","CSS","Git","PostgreSQL","Three.js","Java","C++","Selenium","Pandas","Figma","JavaScript"],color:"#F3F2EF"}),Ie("div",{className:"content-text",children:[te("h2",{children:"Habilidades"}),te("p",{children:"Tengo experiencia en la creación de aplicaciones web escalables y robustas utilizando herramientas tecnológicas como Django Rest framework. Además, he utilizado Selenium para optimizar y mejorar la eficiencia de los procesos mediante pruebas automatizadas en la web."}),te("p",{children:"También he trabajado con Python, Pandas, HTML y CSS para el análisis y manipulación de datos, lo que me permite extraer información valiosa a partir de grandes conjuntos de datos y crear diseños web atractivos. Por último, tengo experiencia en el manejo de Git para el trabajo colaborativo en proyectos de software."})]})]})]}),Ie("div",{className:"worked",id:"worked",children:[te("h2",{children:"Experiencia"}),Ie("div",{className:"work",children:[Ie("div",{className:"text-work",children:[Ie("h3",{children:["Desarrollador de Back-End / Soporte Tecnico ",Ie("span",{children:["@",te("a",{href:"https://valhalla.com.pe/",target:"_blank",rel:"noopener",children:"Valhalla"})]})]}),te("h4",{children:"Sept. 2022 - actualidad"}),te("p",{children:"Desarrollo y mantenimiento del back-end del proyecto Valhalla. Soporte técnico de páginas webs usando WordPress y Shopify."}),Ie("div",{className:"features",children:[te("span",{children:"Aptitudes:"}),Ie("ul",{className:"tags",children:[te("li",{children:"#Python"}),te("li",{children:"#Django"}),te("li",{children:"#Django REST framework"}),te("li",{children:"#Celery"}),te("li",{children:"#PostgreSQL"}),te("li",{children:"#WordPress"}),te("li",{children:"#Shopify"})]})]})]}),te("div",{className:"logo",children:te("img",{src:Uw,alt:""})})]})]}),Ie("div",{className:"education",id:"education",children:[te("h2",{children:"Educacion"}),Ie("div",{className:"study",children:[Ie("div",{className:"text-study",children:[te("h3",{children:"Universidad Nacional Tecnologica de Lima Sur"}),te("p",{children:"Estudios en Ingenieria de Sistemas | 2019 - Provisto a finalizar en 2023"})]}),te("div",{className:"logo",children:te("img",{src:zw,alt:""})})]})]})]})]})};const eC=e=>D.createElement("svg",{width:135,height:37,viewBox:"0 0 135 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6798 13.875H13.9831L19.1228 3.59507C19.4776 2.886 19.5106 1.97372 19.209 1.22158C18.9068 0.469727 18.3191 0 17.6798 0H9.00788C8.38545 0 7.81051 0.444867 7.50222 1.16521L0.564721 17.3527C0.258171 18.0687 0.259905 18.9472 0.570575 19.6606C0.880378 20.3743 1.45207 20.8125 2.07038 20.8125H7.75371L2.29888 33.5402C1.86789 34.5453 2.0617 35.8212 2.75198 36.5257C3.06439 36.8442 3.43533 37 3.80388 37C4.25114 37 4.6947 36.7719 5.03095 36.3224L18.906 17.8224C19.4022 17.1608 19.5505 16.167 19.2819 15.3021C19.0135 14.4395 18.3809 13.875 17.6798 13.875ZM35.1792 13.2627V24H36.6001V19.2319H38.248C38.6143 19.2319 38.8779 19.249 39.0391 19.2832C39.2588 19.3369 39.4736 19.4321 39.6836 19.5688C39.8984 19.7056 40.1401 19.9448 40.4087 20.2866C40.6772 20.6284 41.019 21.1216 41.4341 21.7661L42.855 24H44.6421L42.7744 21.0776C42.4033 20.5063 42.0103 20.0303 41.5952 19.6494C41.3999 19.4736 41.1143 19.2954 40.7383 19.1147C41.7686 18.9731 42.5303 18.6411 43.0234 18.1187C43.5166 17.5962 43.7632 16.9541 43.7632 16.1924C43.7632 15.6016 43.6143 15.062 43.3164 14.5737C43.0186 14.0854 42.6206 13.7461 42.1226 13.5557C41.6245 13.3604 40.897 13.2627 39.9399 13.2627H35.1792ZM39.6543 18.0015H36.6001V14.4492H39.9985C40.7944 14.4492 41.3755 14.6128 41.7417 14.9399C42.1128 15.2671 42.2983 15.6846 42.2983 16.1924C42.2983 16.5391 42.2031 16.8613 42.0127 17.1592C41.8223 17.4521 41.5439 17.667 41.1777 17.8037C40.8115 17.9355 40.3037 18.0015 39.6543 18.0015ZM52.5156 21.6636L51.1533 21.4951C50.9531 22.0518 50.6821 22.457 50.3403 22.7109C49.9985 22.9648 49.5859 23.0918 49.1025 23.0918C48.4531 23.0918 47.9111 22.8647 47.4766 22.4106C47.042 21.9565 46.8003 21.3022 46.7515 20.4478H52.5522C52.5571 20.2915 52.5596 20.1743 52.5596 20.0962C52.5596 18.812 52.23 17.8159 51.5708 17.1079C50.9116 16.3999 50.062 16.0459 49.022 16.0459C47.9478 16.0459 47.0737 16.4072 46.3999 17.1299C45.7261 17.8525 45.3892 18.8682 45.3892 20.1768C45.3892 21.4414 45.7212 22.4253 46.3853 23.1284C47.0542 23.8267 47.9575 24.1758 49.0952 24.1758C49.9985 24.1758 50.7407 23.9561 51.3218 23.5166C51.9028 23.0771 52.3008 22.4595 52.5156 21.6636ZM51.168 19.3638H46.8247C46.8687 18.6851 47.0957 18.1431 47.5059 17.7378C47.9209 17.3325 48.4312 17.1299 49.0366 17.1299C49.7056 17.1299 50.25 17.3838 50.6699 17.8916C50.9434 18.2188 51.1094 18.7095 51.168 19.3638ZM54.9546 21.4731L53.6509 21.6782C53.7974 22.5034 54.1343 23.126 54.6616 23.5459C55.1938 23.9658 55.9653 24.1758 56.9761 24.1758C57.5864 24.1758 58.1333 24.0708 58.6167 23.8608C59.1001 23.646 59.4688 23.3457 59.7227 22.96C59.9814 22.5693 60.1108 22.1543 60.1108 21.7148C60.1108 21.2656 60.0059 20.8896 59.7959 20.5869C59.5859 20.2842 59.2954 20.0547 58.9243 19.8984C58.5581 19.7373 57.9087 19.5322 56.9761 19.2832C56.3315 19.1074 55.9434 18.9951 55.8115 18.9463C55.582 18.8535 55.4136 18.7363 55.3062 18.5947C55.1987 18.458 55.145 18.3042 55.145 18.1333C55.145 17.8647 55.2744 17.6304 55.5332 17.4302C55.792 17.23 56.2241 17.1299 56.8296 17.1299C57.3423 17.1299 57.7378 17.2422 58.0161 17.4668C58.2993 17.6914 58.4702 18.0039 58.5288 18.4043L59.8179 18.2285C59.7349 17.7256 59.5835 17.3252 59.3638 17.0273C59.144 16.7246 58.8022 16.4854 58.3384 16.3096C57.8794 16.1338 57.3447 16.0459 56.7344 16.0459C56.3291 16.0459 55.9482 16.0996 55.5918 16.207C55.2402 16.3096 54.9619 16.4365 54.7568 16.5879C54.4834 16.7832 54.2661 17.0298 54.105 17.3276C53.9487 17.6206 53.8706 17.9404 53.8706 18.2871C53.8706 18.668 53.9658 19.0171 54.1562 19.3345C54.3516 19.647 54.6348 19.8936 55.0059 20.0742C55.3818 20.25 56.0532 20.46 57.02 20.7041C57.7378 20.8848 58.187 21.0337 58.3677 21.1509C58.6265 21.3218 58.7559 21.5562 58.7559 21.854C58.7559 22.186 58.6094 22.4766 58.3164 22.7256C58.0234 22.9697 57.5742 23.0918 56.9688 23.0918C56.3682 23.0918 55.8994 22.9526 55.5625 22.6743C55.2305 22.396 55.0278 21.9956 54.9546 21.4731ZM61.6855 13.2627V14.7788H63.0039V13.2627H61.6855ZM61.6855 16.2217V24H63.0039V16.2217H61.6855ZM65.7944 21.4731L64.4907 21.6782C64.6372 22.5034 64.9741 23.126 65.5015 23.5459C66.0337 23.9658 66.8052 24.1758 67.8159 24.1758C68.4263 24.1758 68.9731 24.0708 69.4565 23.8608C69.9399 23.646 70.3086 23.3457 70.5625 22.96C70.8213 22.5693 70.9507 22.1543 70.9507 21.7148C70.9507 21.2656 70.8457 20.8896 70.6357 20.5869C70.4258 20.2842 70.1353 20.0547 69.7642 19.8984C69.3979 19.7373 68.7485 19.5322 67.8159 19.2832C67.1714 19.1074 66.7832 18.9951 66.6514 18.9463C66.4219 18.8535 66.2534 18.7363 66.146 18.5947C66.0386 18.458 65.9849 18.3042 65.9849 18.1333C65.9849 17.8647 66.1143 17.6304 66.373 17.4302C66.6318 17.23 67.064 17.1299 67.6694 17.1299C68.1821 17.1299 68.5776 17.2422 68.856 17.4668C69.1392 17.6914 69.3101 18.0039 69.3687 18.4043L70.6577 18.2285C70.5747 17.7256 70.4233 17.3252 70.2036 17.0273C69.9839 16.7246 69.6421 16.4854 69.1782 16.3096C68.7192 16.1338 68.1846 16.0459 67.5742 16.0459C67.1689 16.0459 66.7881 16.0996 66.4316 16.207C66.0801 16.3096 65.8018 16.4365 65.5967 16.5879C65.3232 16.7832 65.106 17.0298 64.9448 17.3276C64.7886 17.6206 64.7104 17.9404 64.7104 18.2871C64.7104 18.668 64.8057 19.0171 64.9961 19.3345C65.1914 19.647 65.4746 19.8936 65.8457 20.0742C66.2217 20.25 66.8931 20.46 67.8599 20.7041C68.5776 20.8848 69.0269 21.0337 69.2075 21.1509C69.4663 21.3218 69.5957 21.5562 69.5957 21.854C69.5957 22.186 69.4492 22.4766 69.1562 22.7256C68.8633 22.9697 68.4141 23.0918 67.8086 23.0918C67.208 23.0918 66.7393 22.9526 66.4023 22.6743C66.0703 22.396 65.8677 21.9956 65.7944 21.4731ZM75.5869 23.9854L75.3965 22.8208C75.1572 22.855 74.9644 22.8721 74.8179 22.8721C74.6226 22.8721 74.4712 22.8403 74.3638 22.7769C74.2612 22.7134 74.1855 22.6279 74.1367 22.5205C74.0928 22.4131 74.0708 22.1714 74.0708 21.7954V17.2471H75.3965V16.2217H74.0708V13.5044L72.7598 14.2954V16.2217H71.793V17.2471H72.7598V21.7222C72.7598 22.5132 72.8135 23.0332 72.9209 23.2822C73.0283 23.5264 73.2139 23.7241 73.4775 23.8755C73.7412 24.0269 74.1123 24.1025 74.5908 24.1025C74.8838 24.1025 75.2158 24.0635 75.5869 23.9854ZM80.355 23.9194C80.8091 23.7485 81.2803 23.4556 81.7686 23.0405C81.8076 23.4067 81.8955 23.7266 82.0322 24H83.4092C83.2432 23.7021 83.1309 23.3921 83.0723 23.0698C83.0186 22.7427 82.9917 21.9663 82.9917 20.7407V18.9829C82.9917 18.397 82.9697 17.9917 82.9258 17.7671C82.8477 17.4058 82.7109 17.1079 82.5156 16.8735C82.3203 16.6343 82.0151 16.4365 81.6001 16.2803C81.1851 16.124 80.6455 16.0459 79.9814 16.0459C79.3125 16.0459 78.7241 16.1387 78.2163 16.3242C77.7085 16.5049 77.3203 16.7661 77.0518 17.1079C76.7832 17.4448 76.5903 17.8892 76.4731 18.4409L77.7622 18.6167C77.9038 18.0649 78.1211 17.6816 78.4141 17.4668C78.7119 17.2471 79.1709 17.1372 79.791 17.1372C80.4551 17.1372 80.9556 17.2861 81.2925 17.584C81.5415 17.8037 81.666 18.1821 81.666 18.7192C81.666 18.7681 81.6636 18.8828 81.6587 19.0635C81.1558 19.2393 80.3721 19.3906 79.3076 19.5176C78.7852 19.5811 78.3945 19.647 78.1357 19.7153C77.7842 19.813 77.4668 19.957 77.1836 20.1475C76.9053 20.3379 76.6782 20.5918 76.5024 20.9092C76.3315 21.2217 76.2461 21.5684 76.2461 21.9492C76.2461 22.5986 76.4756 23.1333 76.9346 23.5532C77.3936 23.9683 78.0503 24.1758 78.9048 24.1758C79.4224 24.1758 79.9058 24.0903 80.355 23.9194ZM79.5054 20.5942C80.4624 20.4575 81.1802 20.2915 81.6587 20.0962V20.5796C81.6587 21.1606 81.5879 21.6001 81.4463 21.8979C81.2607 22.2837 80.9702 22.5889 80.5747 22.8135C80.1792 23.0332 79.7275 23.1431 79.2197 23.1431C78.707 23.1431 78.3164 23.0259 78.0479 22.7915C77.7842 22.5571 77.6523 22.2642 77.6523 21.9126C77.6523 21.6831 77.7134 21.4756 77.8354 21.29C77.9575 21.0996 78.1309 20.9556 78.3555 20.8579C78.5801 20.7603 78.9634 20.6724 79.5054 20.5942ZM85.0425 16.2217V24H86.3608V19.752C86.3608 18.7559 86.5635 18.0796 86.9688 17.7231C87.3789 17.3667 87.8647 17.1885 88.4263 17.1885C88.7778 17.1885 89.083 17.269 89.3418 17.4302C89.6055 17.5864 89.7886 17.7988 89.8911 18.0674C89.9937 18.3311 90.0449 18.7314 90.0449 19.2686V24H91.3633V19.2173C91.3633 18.6069 91.3389 18.1797 91.29 17.9355C91.2119 17.5596 91.0752 17.2349 90.8799 16.9614C90.6846 16.688 90.3892 16.4683 89.9937 16.3022C89.603 16.1313 89.1733 16.0459 88.7046 16.0459C87.6255 16.0459 86.8003 16.4731 86.229 17.3276V16.2217H85.0425ZM99.7642 21.3193L98.4678 21.1509C98.375 21.8101 98.1553 22.2983 97.8086 22.6157C97.4619 22.9331 97.0298 23.0918 96.5122 23.0918C95.8677 23.0918 95.3452 22.855 94.9448 22.3813C94.5444 21.9077 94.3442 21.1484 94.3442 20.1035C94.3442 19.0732 94.5518 18.3213 94.9668 17.8477C95.3818 17.3691 95.9214 17.1299 96.5854 17.1299C97.0249 17.1299 97.3984 17.2617 97.7061 17.5254C98.0186 17.7891 98.2358 18.1821 98.3579 18.7046L99.6396 18.5068C99.4883 17.7207 99.144 17.1152 98.6069 16.6904C98.0698 16.2607 97.3789 16.0459 96.5342 16.0459C95.8652 16.0459 95.2451 16.2046 94.6738 16.522C94.1074 16.8345 93.6851 17.3057 93.4067 17.9355C93.1284 18.5654 92.9893 19.3003 92.9893 20.1401C92.9893 21.439 93.3115 22.4375 93.9561 23.1357C94.6055 23.8291 95.4624 24.1758 96.5269 24.1758C97.3765 24.1758 98.0918 23.9243 98.6729 23.4214C99.2588 22.9136 99.6226 22.2129 99.7642 21.3193ZM107.579 21.6636L106.217 21.4951C106.017 22.0518 105.746 22.457 105.404 22.7109C105.062 22.9648 104.649 23.0918 104.166 23.0918C103.517 23.0918 102.975 22.8647 102.54 22.4106C102.105 21.9565 101.864 21.3022 101.815 20.4478H107.616C107.621 20.2915 107.623 20.1743 107.623 20.0962C107.623 18.812 107.293 17.8159 106.634 17.1079C105.975 16.3999 105.125 16.0459 104.085 16.0459C103.011 16.0459 102.137 16.4072 101.463 17.1299C100.79 17.8525 100.453 18.8682 100.453 20.1768C100.453 21.4414 100.785 22.4253 101.449 23.1284C102.118 23.8267 103.021 24.1758 104.159 24.1758C105.062 24.1758 105.804 23.9561 106.385 23.5166C106.966 23.0771 107.364 22.4595 107.579 21.6636ZM106.231 19.3638H101.888C101.932 18.6851 102.159 18.1431 102.569 17.7378C102.984 17.3325 103.495 17.1299 104.1 17.1299C104.769 17.1299 105.313 17.3838 105.733 17.8916C106.007 18.2188 106.173 18.7095 106.231 19.3638ZM109.41 13.2627V24H113.285C113.934 24 114.508 23.939 115.006 23.8169C115.509 23.6948 115.936 23.5166 116.288 23.2822C116.644 23.043 116.971 22.7183 117.269 22.3081C117.567 21.8931 117.811 21.3706 118.001 20.7407C118.192 20.1108 118.287 19.3882 118.287 18.5728C118.287 17.6157 118.146 16.7661 117.862 16.0239C117.584 15.2769 117.162 14.6641 116.595 14.1855C116.161 13.8145 115.636 13.5581 115.021 13.4165C114.581 13.314 113.944 13.2627 113.109 13.2627H109.41ZM113.124 22.7329H110.831V14.5298H113.087C113.932 14.5298 114.544 14.603 114.925 14.7495C115.453 14.9546 115.899 15.3599 116.266 15.9653C116.637 16.5659 116.822 17.4277 116.822 18.5508C116.822 19.3613 116.727 20.0522 116.537 20.6235C116.351 21.1899 116.09 21.6416 115.753 21.9785C115.514 22.2178 115.191 22.4033 114.786 22.5352C114.386 22.667 113.832 22.7329 113.124 22.7329ZM126.769 21.6636L125.406 21.4951C125.206 22.0518 124.935 22.457 124.593 22.7109C124.251 22.9648 123.839 23.0918 123.355 23.0918C122.706 23.0918 122.164 22.8647 121.729 22.4106C121.295 21.9565 121.053 21.3022 121.004 20.4478H126.805C126.81 20.2915 126.812 20.1743 126.812 20.0962C126.812 18.812 126.483 17.8159 125.824 17.1079C125.165 16.3999 124.315 16.0459 123.275 16.0459C122.201 16.0459 121.327 16.4072 120.653 17.1299C119.979 17.8525 119.642 18.8682 119.642 20.1768C119.642 21.4414 119.974 22.4253 120.638 23.1284C121.307 23.8267 122.21 24.1758 123.348 24.1758C124.251 24.1758 124.994 23.9561 125.575 23.5166C126.156 23.0771 126.554 22.4595 126.769 21.6636ZM125.421 19.3638H121.078C121.122 18.6851 121.349 18.1431 121.759 17.7378C122.174 17.3325 122.684 17.1299 123.29 17.1299C123.958 17.1299 124.503 17.3838 124.923 17.8916C125.196 18.2188 125.362 18.7095 125.421 19.3638ZM127.633 16.2217L130.592 24H131.822L134.767 16.2217H133.412L131.683 20.9678C131.473 21.5439 131.31 22.0371 131.192 22.4473C131.041 21.9053 130.875 21.3828 130.694 20.8799L129.024 16.2217H127.633Z",fill:"#152C34"})),tC=e=>D.createElement("svg",{viewBox:"-4.5 0 20 20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#152C34",stroke:"#152C34",...e},D.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),D.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),D.createElement("g",{id:"SVGRepo_iconCarrier"},D.createElement("title",null,"arrow_left [#335]"),D.createElement("desc",null,"Created with Sketch."),D.createElement("defs",null),D.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},D.createElement("g",{id:"Dribbble-Light-Preview",transform:"translate(-345.000000, -6679.000000)",fill:"#000000"},D.createElement("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},D.createElement("path",{d:"M299.633777,6519.29231 L299.633777,6519.29231 C299.228878,6518.90256 298.573377,6518.90256 298.169513,6519.29231 L289.606572,6527.55587 C288.797809,6528.33636 288.797809,6529.60253 289.606572,6530.38301 L298.231646,6538.70754 C298.632403,6539.09329 299.27962,6539.09828 299.685554,6538.71753 L299.685554,6538.71753 C300.100809,6538.32879 300.104951,6537.68821 299.696945,6537.29347 L291.802968,6529.67648 C291.398069,6529.28574 291.398069,6528.65315 291.802968,6528.26241 L299.633777,6520.70538 C300.038676,6520.31563 300.038676,6519.68305 299.633777,6519.29231",id:"arrow_left-[#335]"})))))),nC=e=>D.createElement("svg",{id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"612.08px",height:"612.08px",viewBox:"0 0 612.08 612.08",style:{enableBackground:"new 0 0 612.08 612.08"},xmlSpace:"preserve",...e},D.createElement("g",null,D.createElement("path",{d:"M237.927,0C106.555,0,0.035,106.52,0.035,237.893c0,131.373,106.52,237.893,237.893,237.893 c50.518,0,97.368-15.757,135.879-42.597l0.028-0.028l176.432,176.433c3.274,3.274,8.48,3.358,11.839,0l47.551-47.551 c3.274-3.274,3.106-8.703-0.028-11.838L433.223,373.8c26.84-38.539,42.597-85.39,42.597-135.907C475.82,106.52,369.3,0,237.927,0z  M237.927,419.811c-100.475,0-181.918-81.443-181.918-181.918S137.453,55.975,237.927,55.975s181.918,81.443,181.918,181.918 S338.402,419.811,237.927,419.811z"})),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null),D.createElement("g",null)),iC=()=>{kd();const[e,t]=D.useState("");return D.useEffect(()=>{const n=document.querySelector("div.search > i");e!==""?n.classList.add("hide"):n.classList.remove("hide")}),te("div",{className:"header-blog",children:Ie("div",{className:"content",children:[Ie("div",{className:"content-img",children:[te(gy,{to:"/",children:te(tC,{id:"return-home"})}),te(eC,{className:"logo-blog"})]}),Ie("div",{className:"search",children:[te("input",{type:"text",placeholder:"",onChange:n=>t(n.target.value)}),te("i",{}),te(nC,{className:"icon-search"})]})]})})},rC=()=>Ie("div",{className:"blog",children:[te(iC,{}),te(Tw,{})]});const oC=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"dev.to",role:"img",viewBox:"0 0 512 512",...e},D.createElement("rect",{width:512,height:512,rx:"15%"}),D.createElement("path",{d:"m 140.47,203.94 h -17.44 v 104.47 h 17.45 c 10.15529,-0.54503 17.35752,-8.66899 17.47,-17.41 v -69.65 c -0.69578,-10.36382 -7.79596,-17.27188 -17.48,-17.41 z m 45.73,87.25 c 0,18.81 -11.61,47.31 -48.36,47.25 H 91.44 V 172.98 h 47.38 c 35.44,0 47.36,28.46 47.37,47.28 z M 286.88,202.53 H 233.6 v 38.42 h 32.57 v 29.57 H 233.6 v 38.41 h 53.29 v 29.57 h -62.18 c -11.16,0.29 -20.44,-8.53 -20.72,-19.69 V 193.7 c -0.27,-11.15 8.56,-20.41 19.71,-20.69 h 63.19 z m 103.64,115.29 c -13.2,30.75 -36.85,24.63 -47.44,0 l -38.53,-144.8 h 32.57 l 29.71,113.72 29.57,-113.72 h 32.58 z",fill:"#fff"})),sC=e=>D.createElement("svg",{enableBackground:"new 0 0 512 512",id:"Layer_1",viewBox:"0 0 512 512",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e},D.createElement("g",null,D.createElement("path",{d:"M3.5,421.4c56,5.1,106.1-8.9,151.5-42.9c-7-1.6-13.4-1.6-19.5-3.1c-35.7-8.5-60.4-30-74.9-63.5   c-0.7-1.7-2.5-3.8-0.9-5.5c1.2-1.3,3.5-0.2,5.2,0c12.6,1.3,25.2,0.9,37.6-2c0.2-2.2-1.4-2-2.6-2.4c-30.7-8.2-53-26.5-67.4-54.8   c-6.6-13-10.2-26.6-10.6-41.2c-0.2-5.7,0.1-5.8,5.4-3.3c12.6,6,25.8,9.4,40.9,10.1c-6.9-5.6-13.1-10.5-18.4-16.4   c-16.1-17.9-25.1-38.8-27-62.9c-1.5-19.6,2.6-37.9,11.1-55.5c1.9-3.9,3.6-3.6,6-0.7C56.6,97.7,76.1,115,97.6,130   c16,11.2,33,20.5,50.9,28.4c23.6,10.3,48.1,17.2,73.5,21.3c8,1.3,16.2,1.6,24.3,2.4c4.1,0.4,5.2-0.8,4.4-5   c-4.1-21.6-1.3-42.6,8.1-62.3c16.1-33.6,43.1-54,79.8-59.4c32.6-4.8,61.9,4.5,86.2,27.4c3.7,3.5,7,4.4,12,3.1   c19.6-5,38.3-12.1,55.9-22.1c0.5-0.3,1.1-0.4,2.9-1.1c-8.2,24.1-22.7,41.9-43,55.5c4.7,0.9,18.6-1.6,28.2-4.6   c9.2-2.9,18.4-5.5,27.2-9.4c1.2,1.3,0.1,2-0.4,2.7c-11.7,16.5-25.1,31.4-41.1,43.8c-2.2,1.7-4.3,3.6-6.6,5.2   c-1.7,1.2-1.8,2.7-1.7,4.4c0.7,18.2-0.6,36.3-3.2,54.2c-2.7,18.3-7.3,36.1-13.4,53.6c-5,14.3-10.9,28.2-17.9,41.7   c-17.3,33.2-39.8,62.4-67.9,87.3c-29.9,26.4-63.9,45.4-101.9,57.2c-23.7,7.4-48,11.7-72.9,13c-19.2,1-38.3,0.7-57.3-1.7   c-27.2-3.3-53.4-10.7-78.6-21.5c-12.9-5.5-25.1-12.1-37.3-19C6.1,424.4,4.4,423.6,3.5,421.4z",fill:"#A7A7A7"}))),aC=()=>{const[e,t]=D.useState([]);return D.useEffect(()=>{(async()=>{const r=await(await fetch("https://dev.to/api/articles?username=luiszapatayamo")).json();t(r)})()},[]),Ie("div",{className:"main-blog",children:[te("div",{className:"banner",children:te("div",{className:"contet-banner",children:Ie("div",{className:"content-text",children:[te("h1",{children:"Bienvenido a ResistenceDev"}),te("p",{children:"Este es un blog personal, comparto articulos sobre desarrollo web, asi como noticias sobre tecnología."}),Ie("ul",{children:[Ie("li",{children:[te(oC,{className:"icon devto"}),"Dev.to"]}),Ie("li",{children:[te(sC,{className:"icon"}),"Twitter"]})]})]})})}),te("div",{className:"list-articles",children:e==null?void 0:e.map(n=>Ie("div",{className:"article",children:[te("h2",{children:n.title}),te("ul",{className:"tags",children:n.tag_list.map((i,r)=>Ie("li",{className:"tag",children:["#",i]},r))}),te("p",{children:n.description})]},n.id))})]})},lC=()=>te(Iw,{basename:"/LuisZapata/",children:Ie(Lw,{children:[te(Bl,{index:!0,path:"/",element:te(KT,{})}),te(Bl,{element:te(rC,{}),children:te(Bl,{path:"/blog/",element:te(aC,{})})})]})});function cC(){return te(lC,{})}const uC=ay(document.getElementById("root"));uC.render(te(cC,{}));
